const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BL7Pvbk_.js","./Dwq3Do7L.js","./BMdB51sm.js","./IHki7fMi.js"])))=>i.map(i=>d[i]);
var ao=Object.defineProperty;var io=(s,e,t)=>e in s?ao(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var Le=(s,e,t)=>io(s,typeof e!="symbol"?e+"":e,t);import{_ as Qe}from"./C1FmrZbK.js";import{S as Qt,i as Zt,s as Kt,d as _,m as L,o as q,p as Ae,q as ke,b as x,c as m,O as A,e as v,f as k,g as P,h as I,j as b,t as S,k as w,Y as Wt,U as Yt,A as le,B as ne,C as se,D as de,n as ye,T as _e,r as xe,a as X,M as ro,z as Fe,ac as ze,Z as Oe,a7 as Re,a8 as Ve}from"./BMdB51sm.js";import{e as Ie,u as lo,o as no}from"./BIKDjfmO.js";import"./IHki7fMi.js";import{A as Gt}from"./BMFRB0f-.js";import{c as so,a as be,e as je,B as Xt}from"./Dwq3Do7L.js";import{D as co,a as uo,T as fo}from"./-GdxS4z8.js";import{R as Be}from"./BgZg3u6D.js";import{S as eo,b as _o,a as mo,L as Se}from"./CWIIKvcO.js";import{I as He}from"./DV0aLKez.js";import{F as po}from"./B_tc1dUb.js";import{C as go}from"./BVvHLR6M.js";import{P as Je}from"./C1IGLM4g.js";import{estoqueItensAdapter as ho}from"./BL7Pvbk_.js";class vo{constructor(){Le(this,"baseEndpoint","/notas-movimentacao")}async listarNotas(e={}){var t,o,a,i,l,d;console.log("üìã NotasMovimentacaoAdapter: Listando notas via endpoint principal",e);try{const c=so(this.baseEndpoint,{page:(t=e.page)==null?void 0:t.toString(),limit:(o=e.limit)==null?void 0:o.toString(),dataInicio:e.dataInicio,dataFim:e.dataFim,status:e.status,tipo:e.tipo,numero:e.numero,usuarioId:e.responsavel_id,almoxarifadoId:e.almoxarifado_id}),f=await be.get(c,{timeout:3e4,retries:2});if(console.log("‚úÖ Notas carregadas:",f),f.success&&f.data)return{data:f.data.map(n=>{var u,g,p,E;return{id:n.id,numero:n.numero,tipo:n.tipo,status:n._status,createdAt:n.createdAt,observacoes:n.observacoes,usuarioId:n.usuarioId,almoxarifadoOrigemId:n.almoxarifadoOrigemId,almoxarifadoDestinoId:n.almoxarifadoDestinoId,responsavel_id:n.usuarioId,almoxarifado_id:n.almoxarifadoOrigemId||n.almoxarifadoDestinoId,almoxarifado_destino_id:n.almoxarifadoDestinoId,tipo_nota:n.tipo,_status:n._status,numero_documento:n.numero,data_documento:n.createdAt,created_at:n.createdAt,responsavel_nome:((u=n.usuario)==null?void 0:u.nome)||"N/A",almoxarifado_nome:((g=n.almoxarifadoOrigem)==null?void 0:g.nome)||((p=n.almoxarifadoDestino)==null?void 0:p.nome)||"N/A",almoxarifado_destino_nome:(E=n.almoxarifadoDestino)==null?void 0:E.nome,total_itens:n.totalItens||0,valor_total:n.valorTotal||0,itens:n._itens||[],_itens:n._itens||[],responsavel:n.usuario,almoxarifado:n.almoxarifadoOrigem||n.almoxarifadoDestino,almoxarifado_destino:n.almoxarifadoDestino}}),total:((a=f.pagination)==null?void 0:a.total)||0,page:((i=f.pagination)==null?void 0:i.page)||1,pageSize:((l=f.pagination)==null?void 0:l.limit)||10,totalPages:((d=f.pagination)==null?void 0:d.totalPages)||1};throw new Error("Resposta inv√°lida do servidor")}catch(c){throw console.error("‚ùå Erro ao listar notas:",c),new Error("N√£o foi poss√≠vel carregar as notas de movimenta√ß√£o")}}async obterNota(e){console.log("üîç NotasMovimentacaoAdapter: Buscando nota",e);try{const t=await be.get(`${this.baseEndpoint}/${e}`);console.log("‚úÖ Resposta obter nota:",t),console.log("üîç Estrutura da resposta:",JSON.stringify(t,null,2));let o;return t.success&&t.data||t.data?o=t.data:o=t,console.log("üìã Dados da nota processados:",JSON.stringify(o,null,2)),o}catch(t){throw console.error("‚ùå Erro ao buscar nota:",t),new Error("N√£o foi poss√≠vel encontrar a nota")}}async listarRascunhos(){var e;console.log("üìù NotasMovimentacaoAdapter: Listando rascunhos");try{const t=await be.get(`${this.baseEndpoint}/rascunhos`);return console.log("‚úÖ Resposta listar rascunhos:",t),t.success&&t.data?Array.isArray(t.data)?t.data:[]:Array.isArray(t.data)?t.data:(e=t.data)!=null&&e.items?t.data.items:[]}catch(t){throw console.error("‚ùå Erro ao listar rascunhos:",t),new Error("N√£o foi poss√≠vel carregar os rascunhos")}}async criarNota(e){console.log("üìù NotasMovimentacaoAdapter: Criando nota",e);try{if(!e.responsavel_id){console.log("‚ö†Ô∏è responsavel_id n√£o fornecido, buscando usu√°rio padr√£o...");try{const a=await be.get("/usuarios?limit=1");console.log("üîç Resposta usuarios endpoint:",a),a.items&&a.items.length>0?(e.responsavel_id=a.items[0].id,console.log("‚úÖ Usando responsavel_id:",e.responsavel_id)):a.success&&a.data&&a.data.length>0?(e.responsavel_id=a.data[0].id,console.log("‚úÖ Usando responsavel_id:",e.responsavel_id)):(console.log("‚ö†Ô∏è Nenhum usu√°rio encontrado, usando administrador padr√£o..."),e.responsavel_id="cffc2197-acbe-4a64-bfd7-435370e9c226",console.log("‚úÖ Usando responsavel_id do administrador:",e.responsavel_id))}catch(a){console.error("‚ùå Erro ao buscar usu√°rio:",a),e.responsavel_id="cffc2197-acbe-4a64-bfd7-435370e9c226",console.log("‚úÖ Usando responsavel_id do administrador (fallback):",e.responsavel_id)}}const t={tipo:e.tipo_nota};e.observacoes&&e.observacoes.trim()!==""&&(t.observacoes=e.observacoes.trim()),e.almoxarifado_origem_id&&(t.almoxarifadoOrigemId=e.almoxarifado_origem_id),e.almoxarifado_destino_id&&(t.almoxarifadoDestinoId=e.almoxarifado_destino_id),console.log("üì§ Dados para backend:",t);const o=await be.post(this.baseEndpoint,t);return console.log("‚úÖ Nota criada:",o),o.success&&o.data?{success:o.success,data:o.data}:o.data?{success:!0,data:o.data}:{success:!0,data:o}}catch(t){throw console.error("‚ùå Erro ao criar nota:",t),new Error("N√£o foi poss√≠vel criar a nota de movimenta√ß√£o")}}async atualizarNota(e,t){console.log("üìù NotasMovimentacaoAdapter: Atualizando nota",e,t);try{const o=await be.put(`${this.baseEndpoint}/${e}`,t);return console.log("‚úÖ Resposta atualizar nota:",o),o.success&&o.data||o.data?o.data:o}catch(o){throw console.error("‚ùå Erro ao atualizar nota:",o),new Error("N√£o foi poss√≠vel atualizar a nota")}}async excluirNota(e){console.log("üóëÔ∏è NotasMovimentacaoAdapter: Excluindo nota",e);try{await be.delete(`${this.baseEndpoint}/${e}`),console.log("‚úÖ Nota exclu√≠da:",e)}catch(t){throw console.error("‚ùå Erro ao excluir nota:",t),new Error("N√£o foi poss√≠vel excluir a nota")}}async adicionarItem(e,t){console.log("‚ûï NotasMovimentacaoAdapter: Adicionando item",e,t);try{if(!t.tipo_epi_id)throw new Error("ID do tipo EPI √© obrigat√≥rio");const o=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,a=/^[A-Z0-9]{6}$/;if(!o.test(t.tipo_epi_id)&&!a.test(t.tipo_epi_id))throw console.error("‚ùå ID inv√°lido detectado:",t.tipo_epi_id),new Error(`ID do tipo EPI inv√°lido: ${t.tipo_epi_id}. Deve ser um UUID v√°lido ou ID customizado (ex: E4U302)`);const i={tipoEpiId:t.tipo_epi_id,quantidade:Number(t.quantidade)};t.custo_unitario&&t.custo_unitario>0&&(i.custoUnitario=Number(t.custo_unitario)),t.observacoes&&t.observacoes.trim()!==""&&(i.observacoes=t.observacoes),console.log("üì§ Dados do item para backend:",i);const l=await be.post(`${this.baseEndpoint}/${e}/itens`,i);return console.log("‚úÖ Item adicionado:",l),l.success&&l.data||l.data?l.data:l}catch(o){throw console.error("‚ùå Erro ao adicionar item:",o),new Error("N√£o foi poss√≠vel adicionar o item √† nota")}}async atualizarQuantidade(e,t,o){console.log("üìù NotasMovimentacaoAdapter: Atualizando quantidade",e,t,o);try{await be.put(`${this.baseEndpoint}/${e}/itens/${t}`,{quantidade:Number(o)}),console.log("‚úÖ Quantidade atualizada")}catch(a){throw console.error("‚ùå Erro ao atualizar quantidade:",a),new Error("N√£o foi poss√≠vel atualizar a quantidade")}}async atualizarCustoUnitario(e,t,o){console.log("üí∞ NotasMovimentacaoAdapter: Atualizando custo unit√°rio",e,t,o);try{if(o<0)throw new Error("Custo unit√°rio deve ser maior ou igual a zero");await be.put(`${this.baseEndpoint}/${e}/itens/${t}/custo`,{custoUnitario:Number(o)}),console.log("‚úÖ Custo unit√°rio atualizado")}catch(a){throw console.error("‚ùå Erro ao atualizar custo unit√°rio:",a),new Error("N√£o foi poss√≠vel atualizar o custo unit√°rio")}}async removerItem(e,t){console.log("üóëÔ∏è NotasMovimentacaoAdapter: Removendo item",e,t);try{await be.delete(`${this.baseEndpoint}/${e}/itens/${t}`),console.log("‚úÖ Item removido")}catch(o){throw console.error("‚ùå Erro ao remover item:",o),new Error("N√£o foi poss√≠vel remover o item")}}async concluirNota(e){console.log("‚ö° NotasMovimentacaoAdapter: Concluindo nota",e);try{const t=await be.post(`${this.baseEndpoint}/${e}/concluir`,{validarEstoque:!0});return console.log("‚úÖ Nota conclu√≠da:",t),t.success?{success:t.success,data:t.data}:t}catch(t){throw console.error("‚ùå Erro ao concluir nota:",t),new Error("N√£o foi poss√≠vel concluir a nota")}}async cancelarNota(e,t){console.log("üö´ NotasMovimentacaoAdapter: Cancelando nota",e);try{await be.post(`${this.baseEndpoint}/${e}/cancelar`,{motivo:t||"Cancelamento solicitado pelo usu√°rio",gerarEstorno:!0}),console.log("‚úÖ Nota cancelada:",e)}catch(o){throw console.error("‚ùå Erro ao cancelar nota:",o),new Error("N√£o foi poss√≠vel cancelar a nota")}}async validarCancelamento(e){console.log("üîç NotasMovimentacaoAdapter: Validando cancelamento",e);try{const t=await be.get(`${this.baseEndpoint}/${e}/validar-cancelamento`);return console.log("‚úÖ Valida√ß√£o de cancelamento:",t),t.success&&t.data||t.data?t.data:t}catch(t){return console.error("‚ùå Erro ao validar cancelamento:",t),{pode_cancelar:!1,motivo:"Erro na valida√ß√£o"}}}async obterNotaCompleta(e){return console.log("üîç NotasMovimentacaoAdapter: Buscando nota completa",e),this.obterNota(e)}async validarNotaAntesConcluir(e){var t,o,a;console.log("üîç NotasMovimentacaoAdapter: Valida√ß√£o local da nota",e);try{const i=await this.obterNota(e),l=[],d=[];(!i.itens||i.itens.length===0)&&l.push("Nota deve ter pelo menos um item"),(i.status==="CONCLUIDA"||i._status==="CONCLUIDA")&&l.push("Nota j√° foi conclu√≠da anteriormente"),(i.status==="CANCELADA"||i._status==="CANCELADA")&&l.push("Nota cancelada n√£o pode ser conclu√≠da");const c=l.length===0;return c&&d.push("Valida√ß√£o local aprovada"),console.log("‚úÖ Valida√ß√£o local conclu√≠da:",{podeConfirmar:c,erros:l.length,itens:(t=i.itens)==null?void 0:t.length}),{pode_concluir:c,erros:l,avisos:d,total_itens_processados:((o=i.itens)==null?void 0:o.length)||0,movimentacoes_previstas:((a=i.itens)==null?void 0:a.length)||0}}catch(i){return console.error("‚ùå Erro na valida√ß√£o local:",i),{pode_concluir:!1,erros:["N√£o foi poss√≠vel carregar dados da nota para valida√ß√£o"],avisos:["Erro na valida√ß√£o local"]}}}async obterOpcoesFilters(){console.log("üîß NotasMovimentacaoAdapter: Carregando op√ß√µes de filtros");try{const[e,t]=await Promise.all([be.get("/usuarios?limit=100"),be.get("/estoque/almoxarifados")]),o=(e==null?void 0:e.data)||(e==null?void 0:e.items)||[],a=(t==null?void 0:t.data)||[],i={responsaveis:o.map(l=>({value:l.id,label:l.nome||l.name||`Usu√°rio ${l.id.slice(0,8)}`})),almoxarifados:a.map(l=>({value:l.id,label:l.nome||l.name||`Almoxarifado ${l.id.slice(0,8)}`})),tipos:[{value:"ENTRADA",label:"Entrada"},{value:"TRANSFERENCIA",label:"Transfer√™ncia"},{value:"DESCARTE",label:"Descarte"},{value:"AJUSTE",label:"Ajuste"}],status:[{value:"RASCUNHO",label:"Rascunho"},{value:"CONCLUIDA",label:"Conclu√≠da"},{value:"CANCELADA",label:"Cancelada"}]};return console.log("‚úÖ Op√ß√µes de filtros carregadas:",{responsaveis:i.responsaveis.length,almoxarifados:i.almoxarifados.length}),i}catch(e){return console.error("‚ùå Erro ao carregar op√ß√µes de filtros:",e),{responsaveis:[],almoxarifados:[],tipos:[{value:"ENTRADA",label:"Entrada"},{value:"TRANSFERENCIA",label:"Transfer√™ncia"},{value:"DESCARTE",label:"Descarte"},{value:"AJUSTE",label:"Ajuste"}],status:[{value:"RASCUNHO",label:"Rascunho"},{value:"CONCLUIDA",label:"Conclu√≠da"},{value:"CANCELADA",label:"Cancelada"}]}}}}const Ue=new vo;function Me(s){return{ENTRADA:"Entrada",TRANSFERENCIA:"Transfer√™ncia",DESCARTE:"Descarte",ENTRADA_AJUSTE:"Entrada (Ajuste)",SAIDA_AJUSTE:"Sa√≠da (Ajuste)"}[s]||s}function ka(s){return{RASCUNHO:"Rascunho",CONCLUIDA:"Conclu√≠da",CANCELADA:"Cancelada"}[s]||s}function Ze(s){return{ENTRADA:"green",TRANSFERENCIA:"blue",DESCARTE:"red",ENTRADA_AJUSTE:"yellow",SAIDA_AJUSTE:"dark"}[s]||"dark"}function xa(s){return{RASCUNHO:"yellow",CONCLUIDA:"green",CANCELADA:"red"}[s]||"dark"}class bo{constructor(){Le(this,"baseEndpoint","/tipos-epi");Le(this,"selectOptionsCache",null)}async listarTiposEpi(e){var t;console.log("üõ°Ô∏è TiposEpiAdapter: Listando tipos de EPI",e);try{const o=new URLSearchParams;e!=null&&e.page&&o.append("page",e.page.toString()),e!=null&&e.limit&&o.append("limit",e.limit.toString()),e!=null&&e.search&&o.append("search",e.search),e!=null&&e.categoria&&o.append("categoria",e.categoria);const a=`${this.baseEndpoint}?${o.toString()}`,i=await be.get(a);return console.log("‚úÖ Tipos de EPI listados:",i.data.pagination),{data:i.data.items,total:i.data.pagination.total,page:i.data.pagination.page,pageSize:i.data.pagination.limit,totalPages:i.data.pagination.totalPages}}catch(o){if(console.error("‚ùå Erro ao listar tipos de EPI:",o),o instanceof Error&&(o.name==="AbortError"||(t=o.message)!=null&&t.includes("timeout"))){console.warn("‚ö†Ô∏è Backend indispon√≠vel, usando dados de fallback para tipos EPI");const a=this.getFallbackTiposEPI();return{data:a,total:a.length,page:1,pageSize:a.length,totalPages:1}}throw new Error("N√£o foi poss√≠vel carregar os tipos de EPI")}}async obterTipoEpi(e){console.log("üîç TiposEpiAdapter: Buscando tipo de EPI",e);try{const t=await be.get(`${this.baseEndpoint}/${e}`);return console.log("‚úÖ Tipo de EPI encontrado:",t.data.nome_equipamento),t.data}catch(t){throw console.error("‚ùå Erro ao buscar tipo de EPI:",t),new Error("N√£o foi poss√≠vel encontrar o tipo de EPI")}}async obterOpcoesSelect(e){console.log("üîß TiposEpiAdapter: Carregando op√ß√µes para select",e);try{const t={page:1,limit:(e==null?void 0:e.limite)||100};e!=null&&e.categoria&&(t.categoria=e.categoria);const o=await this.listarTiposEpi(t),a=d=>{const c=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,f=/^[A-Z0-9]{6}$/;return c.test(d)||f.test(d)},i=o.data.filter(d=>{const c=a(d.id);return c||console.warn(`‚ö†Ô∏è Tipo EPI com ID inv√°lido ignorado: ${d.id} - ${d.nomeEquipamento}`),c});console.log(`üîç Tipos EPI v√°lidos: ${i.length} de ${o.data.length}`);const l=i.map(d=>{console.log("üîç Mapeando tipo EPI completo:",JSON.stringify(d,null,2)),console.log("üîç Campos dispon√≠veis:",Object.keys(d)),console.log("üîç nome_equipamento:",d.nome_equipamento),console.log("üîç nomeEquipamento:",d.nomeEquipamento),console.log("üîç nome:",d.nome),console.log("üîç name:",d.name);const c=d.nomeEquipamento||d.nome_equipamento||d.nome||d.name||"Nome n√£o identificado",f=d.numeroCa||d.numero_ca||d.numeroCA||d.ca||"N/A",r=d.categoria||d.category||"Sem categoria",n={value:d.id,label:`${c} (CA: ${f})`,categoria:r,numeroCA:f,custoUnitario:d.custo_unitario||d.custoUnitario||d.preco||0,status:d.status};return console.log("üéØ Op√ß√£o final criada:",n),n});return l.sort((d,c)=>d.label.localeCompare(c.label)),console.log("‚úÖ Op√ß√µes de select criadas:",l.length),l}catch(t){return console.error("‚ùå Erro ao criar op√ß√µes de select:",t),[]}}async obterOpcoesAgrupadasPorCategoria(){console.log("üìÇ TiposEpiAdapter: Agrupando op√ß√µes por categoria");try{const e=await this.obterOpcoesSelect({apenasAtivos:!0}),t={};return e.forEach(o=>{t[o.categoria]||(t[o.categoria]=[]),t[o.categoria].push(o)}),Object.keys(t).forEach(o=>{t[o].sort((a,i)=>a.label.localeCompare(i.label))}),console.log("‚úÖ Op√ß√µes agrupadas por categoria:",Object.keys(t)),t}catch(e){return console.error("‚ùå Erro ao agrupar op√ß√µes por categoria:",e),{}}}async obterOpcoesSelectComCache(e){const o=Date.now(),a=JSON.stringify(e||{});if(this.selectOptionsCache&&this.selectOptionsCache.key===a&&o-this.selectOptionsCache.timestamp<3e5)return console.log("üíæ TiposEpiAdapter: Usando cache para op√ß√µes select"),this.selectOptionsCache.data;const i=await this.obterOpcoesSelect(e);return this.selectOptionsCache={data:i,timestamp:o,key:a},i}async buscarTiposEpi(e){if(console.log("üîç TiposEpiAdapter: Buscando tipos de EPI",e),!e||e.length<2)return[];try{const o=(await this.listarTiposEpi({search:e,limit:20})).data.map(a=>{const i=a.nomeEquipamento||a.nome_equipamento||a.nome||a.name||"Nome n√£o identificado",l=a.numeroCa||a.numero_ca||a.numeroCA||a.ca||"N/A",d=a.categoria||a.category||"Sem categoria";return{value:a.id,label:`${i} (CA: ${l})`,categoria:d,numeroCA:l,custoUnitario:a.custo_unitario||a.custoUnitario||a.preco||0}});return console.log("‚úÖ Busca realizada, encontrados:",o.length),o}catch(t){return console.error("‚ùå Erro na busca de tipos de EPI:",t),[]}}async obterCategorias(){console.log("üìã TiposEpiAdapter: Carregando categorias");try{const e=await this.listarTiposEpi({limit:500}),t=[...new Set(e.data.map(o=>o.categoria))].filter(o=>o&&o.trim()!=="").sort();return console.log("‚úÖ Categorias encontradas:",t),t}catch(e){return console.error("‚ùå Erro ao carregar categorias:",e),[]}}async validarTipoEpiAtivo(e){try{return(await this.obterTipoEpi(e)).status==="ATIVO"}catch{return!1}}limparCache(){this.selectOptionsCache=null,console.log("üóëÔ∏è TiposEpiAdapter: Cache limpo")}clearCache(){this.limparCache()}async obterTiposPopulares(e=10){console.log("üåü TiposEpiAdapter: Carregando tipos populares");try{const o=(await this.listarTiposEpi({limit:e})).data.map(a=>{const i=a.nomeEquipamento||a.nome_equipamento||a.nome||a.name||"Nome n√£o identificado",l=a.numeroCa||a.numero_ca||a.numeroCA||a.ca||"N/A",d=a.categoria||a.category||"Sem categoria";return{value:a.id,label:`${i} (CA: ${l})`,categoria:d,numeroCA:l,custoUnitario:a.custo_unitario||a.custoUnitario||a.preco||0}});return console.log("‚úÖ Tipos populares carregados:",o.length),o}catch(t){return console.error("‚ùå Erro ao carregar tipos populares:",t),[]}}getFallbackTiposEPI(){return[{id:"fallback-1",nome_equipamento:"Capacete de Seguran√ßa (Demo)",numero_ca:"12345",categoria:"PROTECAO_CRANIO",custo_unitario:35.5,status:"ATIVO",created_at:new Date().toISOString()},{id:"fallback-2",nome_equipamento:"√ìculos de Prote√ß√£o (Demo)",numero_ca:"67890",categoria:"PROTECAO_OLHOS",custo_unitario:28.9,status:"ATIVO",created_at:new Date().toISOString()},{id:"fallback-3",nome_equipamento:"Luva de Seguran√ßa (Demo)",numero_ca:"54321",categoria:"PROTECAO_MAOS",custo_unitario:15.75,status:"ATIVO",created_at:new Date().toISOString()}]}}const to=new bo,Eo=Object.freeze(Object.defineProperty({__proto__:null,tiposEpiAdapter:to},Symbol.toStringTag,{value:"Module"}));function Ke(s,e,t){const o=s.slice();return o[28]=e[t],o[30]=t,o}function We(s,e,t){const o=s.slice();return o[31]=e[t],o}function Ye(s){let e,t;return e=new je({props:{color:"dark",class:"ml-2 rounded-sm",$$slots:{default:[$o]},$$scope:{ctx:s}}}),{c(){de(e.$$.fragment)},l(o){se(e.$$.fragment,o)},m(o,a){ne(e,o,a),t=!0},p(o,a){const i={};a[0]&1|a[1]&8&&(i.$$scope={dirty:a,ctx:o}),e.$set(i)},i(o){t||(q(e.$$.fragment,o),t=!0)},o(o){L(e.$$.fragment,o),t=!1},d(o){le(e,o)}}}function $o(s){let e=s[0].length+"",t;return{c(){t=S(e)},l(o){t=P(o,e)},m(o,a){x(o,t,a)},p(o,a){a[0]&1&&e!==(e=o[0].length+"")&&X(t,e)},d(o){o&&_(t)}}}function Ge(s){let e,t;return e=new Xt({props:{size:"sm",color:"primary",class:"rounded-sm",disabled:s[5],$$slots:{default:[Ao]},$$scope:{ctx:s}}}),e.$on("click",s[8]),{c(){de(e.$$.fragment)},l(o){se(e.$$.fragment,o)},m(o,a){ne(e,o,a),t=!0},p(o,a){const i={};a[0]&32&&(i.disabled=o[5]),a[1]&8&&(i.$$scope={dirty:a,ctx:o}),e.$set(i)},i(o){t||(q(e.$$.fragment,o),t=!0)},o(o){L(e.$$.fragment,o),t=!1},d(o){le(e,o)}}}function Ao(s){let e,t,o;return e=new Je({props:{class:"w-4 h-4 mr-2"}}),{c(){de(e.$$.fragment),t=S(`
        Adicionar Item`)},l(a){se(e.$$.fragment,a),t=P(a,`
        Adicionar Item`)},m(a,i){ne(e,a,i),x(a,t,i),o=!0},p:ye,i(a){o||(q(e.$$.fragment,a),o=!0)},o(a){L(e.$$.fragment,a),o=!1},d(a){a&&_(t),le(e,a)}}}function ko(s){let e,t=[],o=new Map,a,i,l,d=Ie(s[0]);const c=r=>r[28].temp_id;for(let r=0;r<d.length;r+=1){let n=Ke(s,d,r),u=c(n);o.set(u,t[r]=ct(u,n))}let f=s[0].length>0&&ut(s);return{c(){e=b("div");for(let r=0;r<t.length;r+=1)t[r].c();a=w(),f&&f.c(),i=xe(),this.h()},l(r){e=v(r,"DIV",{class:!0});var n=k(e);for(let u=0;u<t.length;u+=1)t[u].l(n);n.forEach(_),a=I(r),f&&f.l(r),i=xe(),this.h()},h(){A(e,"class","space-y-0")},m(r,n){x(r,e,n);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null);x(r,a,n),f&&f.m(r,n),x(r,i,n),l=!0},p(r,n){n[0]&7903&&(d=Ie(r[0]),Ae(),t=lo(t,n,c,1,r,d,o,e,no,ct,null,Ke),ke()),r[0].length>0?f?f.p(r,n):(f=ut(r),f.c(),f.m(i.parentNode,i)):f&&(f.d(1),f=null)},i(r){if(!l){for(let n=0;n<d.length;n+=1)q(t[n]);l=!0}},o(r){for(let n=0;n<t.length;n+=1)L(t[n]);l=!1},d(r){r&&(_(e),_(a),_(i));for(let n=0;n<t.length;n+=1)t[n].d();f&&f.d(r)}}}function xo(s){let e,t;return e=new go({props:{size:"sm",class:"text-center py-8",$$slots:{default:[To]},$$scope:{ctx:s}}}),{c(){de(e.$$.fragment)},l(o){se(e.$$.fragment,o)},m(o,a){ne(e,o,a),t=!0},p(o,a){const i={};a[0]&130|a[1]&8&&(i.$$scope={dirty:a,ctx:o}),e.$set(i)},i(o){t||(q(e.$$.fragment,o),t=!0)},o(o){L(e.$$.fragment,o),t=!1},d(o){le(e,o)}}}function Co(s){let e,t='<div class="animate-spin inline-block w-6 h-6 border-[3px] border-current border-t-transparent text-primary-600 rounded-full" aria-label="loading"><span class="sr-only">Carregando...</span></div> <p class="text-sm text-gray-500 mt-2">Carregando op√ß√µes...</p>';return{c(){e=b("div"),e.innerHTML=t,this.h()},l(o){e=v(o,"DIV",{class:!0,"data-svelte-h":!0}),_e(e)!=="svelte-dy1n65"&&(e.innerHTML=t),this.h()},h(){A(e,"class","text-center py-8")},m(o,a){x(o,e,a)},p:ye,i:ye,o:ye,d(o){o&&_(e)}}}function Xe(s){let e,t,o=s[28].equipamento_nome+"",a;return{c(){e=b("span"),t=S("- "),a=S(o),this.h()},l(i){e=v(i,"SPAN",{class:!0});var l=k(e);t=P(l,"- "),a=P(l,o),l.forEach(_),this.h()},h(){A(e,"class","font-normal text-gray-600 dark:text-gray-400")},m(i,l){x(i,e,l),m(e,t),m(e,a)},p(i,l){l[0]&1&&o!==(o=i[28].equipamento_nome+"")&&X(a,o)},d(i){i&&_(e)}}}function et(s){let e,t,o,a,i;t=new _o({props:{class:"w-4 h-4"}});function l(){return s[17](s[30])}return{c(){e=b("button"),de(t.$$.fragment),this.h()},l(d){e=v(d,"BUTTON",{class:!0,title:!0});var c=k(e);se(t.$$.fragment,c),c.forEach(_),this.h()},h(){A(e,"class","p-1 rounded-sm text-red-600 hover:bg-red-100 dark:hover:bg-red-800/20 transition-colors"),A(e,"title","Remover item")},m(d,c){x(d,e,c),ne(t,e,null),o=!0,a||(i=ro(e,"click",l),a=!0)},p(d,c){s=d},i(d){o||(q(t.$$.fragment,d),o=!0)},o(d){L(t.$$.fragment,d),o=!1},d(d){d&&_(e),le(t),a=!1,i()}}}function tt(s){let e,t=s[31].label+"",o,a;return{c(){e=b("option"),o=S(t),this.h()},l(i){e=v(i,"OPTION",{});var l=k(e);o=P(l,t),l.forEach(_),this.h()},h(){e.__value=a=s[31].value,ze(e,e.__value)},m(i,l){x(i,e,l),m(e,o)},p(i,l){l[0]&140&&t!==(t=i[31].label+"")&&X(o,t),l[0]&140&&a!==(a=i[31].value)&&(e.__value=a,ze(e,e.__value))},d(i){i&&_(e)}}}function Io(s){let e,t="Selecione...",o,a,i=Ie(s[7]?s[2]:s[3]),l=[];for(let d=0;d<i.length;d+=1)l[d]=tt(We(s,i,d));return{c(){e=b("option"),e.textContent=t,o=w();for(let d=0;d<l.length;d+=1)l[d].c();a=xe(),this.h()},l(d){e=v(d,"OPTION",{"data-svelte-h":!0}),_e(e)!=="svelte-6uo3hd"&&(e.textContent=t),o=I(d);for(let c=0;c<l.length;c+=1)l[c].l(d);a=xe(),this.h()},h(){e.__value="",ze(e,e.__value)},m(d,c){x(d,e,c),x(d,o,c);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(d,c);x(d,a,c)},p(d,c){if(c[0]&140){i=Ie(d[7]?d[2]:d[3]);let f;for(f=0;f<i.length;f+=1){const r=We(d,i,f);l[f]?l[f].p(r,c):(l[f]=tt(r),l[f].c(),l[f].m(a.parentNode,a))}for(;f<l.length;f+=1)l[f].d(1);l.length=i.length}},d(d){d&&(_(e),_(o),_(a)),Fe(l,d)}}}function ot(s){let e,t,o=s[28].quantidade_disponivel+"",a,i;return{c(){e=b("span"),t=S("(m√°x: "),a=S(o),i=S(")"),this.h()},l(l){e=v(l,"SPAN",{class:!0});var d=k(e);t=P(d,"(m√°x: "),a=P(d,o),i=P(d,")"),d.forEach(_),this.h()},h(){A(e,"class","text-xs text-gray-500")},m(l,d){x(l,e,d),m(e,t),m(e,a),m(e,i)},p(l,d){d[0]&1&&o!==(o=l[28].quantidade_disponivel+"")&&X(a,o)},d(l){l&&_(e)}}}function at(s){let e,t,o,a,i,l,d;function c(...f){return s[20](s[30],...f)}return l=new He({props:{id:"custo-"+s[30],type:"number",min:"0",step:"0.01",value:s[28].custo_unitario??"",disabled:s[1],placeholder:"Custo unit√°rio (R$)",class:"rounded-sm text-sm"}}),l.$on("input",c),{c(){e=b("div"),t=b("label"),o=S("Custo Unit√°rio (R$)"),i=w(),de(l.$$.fragment),this.h()},l(f){e=v(f,"DIV",{class:!0});var r=k(e);t=v(r,"LABEL",{for:!0,class:!0});var n=k(t);o=P(n,"Custo Unit√°rio (R$)"),n.forEach(_),i=I(r),se(l.$$.fragment,r),r.forEach(_),this.h()},h(){A(t,"for",a="custo-"+s[30]),A(t,"class","block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"),A(e,"class","md:col-span-3")},m(f,r){x(f,e,r),m(e,t),m(t,o),m(e,i),ne(l,e,null),d=!0},p(f,r){s=f,(!d||r[0]&1&&a!==(a="custo-"+s[30]))&&A(t,"for",a);const n={};r[0]&1&&(n.id="custo-"+s[30]),r[0]&1&&(n.value=s[28].custo_unitario??""),r[0]&2&&(n.disabled=s[1]),l.$set(n)},i(f){d||(q(l.$$.fragment,f),d=!0)},o(f){L(l.$$.fragment,f),d=!1},d(f){f&&_(e),le(l)}}}function it(s){let e,t,o,a,i=s[28].equipamento_nome+"",l,d,c,f,r,n,u,g=s[28].quantidade+"",p,E,$=s[4]&&s[28].custo_unitario!=null&&typeof s[28].custo_unitario=="number"&&!isNaN(s[28].custo_unitario),F,O=s[28].categoria&&rt(s),U=s[28].numero_ca&&lt(s),h=$&&nt(s),y=s[28].quantidade_disponivel!==void 0&&st(s);return{c(){e=b("div"),t=b("div"),o=b("div"),a=b("h6"),l=S(i),d=w(),O&&O.c(),c=w(),U&&U.c(),f=w(),r=b("div"),n=b("p"),u=S("Qtd: "),p=S(g),E=w(),h&&h.c(),F=w(),y&&y.c(),this.h()},l(z){e=v(z,"DIV",{class:!0});var B=k(e);t=v(B,"DIV",{class:!0});var Y=k(t);o=v(Y,"DIV",{});var J=k(o);a=v(J,"H6",{class:!0});var re=k(a);l=P(re,i),re.forEach(_),d=I(J),O&&O.l(J),c=I(J),U&&U.l(J),J.forEach(_),f=I(Y),r=v(Y,"DIV",{class:!0});var ee=k(r);n=v(ee,"P",{class:!0});var me=k(n);u=P(me,"Qtd: "),p=P(me,g),me.forEach(_),E=I(ee),h&&h.l(ee),F=I(ee),y&&y.l(ee),ee.forEach(_),Y.forEach(_),B.forEach(_),this.h()},h(){A(a,"class","text-sm font-medium text-gray-900 dark:text-white"),A(n,"class","text-sm font-medium text-gray-900 dark:text-white"),A(r,"class","text-right"),A(t,"class","flex items-start justify-between"),A(e,"class","mt-4 p-3 bg-gray-50 dark:bg-gray-800 rounded-sm")},m(z,B){x(z,e,B),m(e,t),m(t,o),m(o,a),m(a,l),m(o,d),O&&O.m(o,null),m(o,c),U&&U.m(o,null),m(t,f),m(t,r),m(r,n),m(n,u),m(n,p),m(r,E),h&&h.m(r,null),m(r,F),y&&y.m(r,null)},p(z,B){B[0]&1&&i!==(i=z[28].equipamento_nome+"")&&X(l,i),z[28].categoria?O?O.p(z,B):(O=rt(z),O.c(),O.m(o,c)):O&&(O.d(1),O=null),z[28].numero_ca?U?U.p(z,B):(U=lt(z),U.c(),U.m(o,null)):U&&(U.d(1),U=null),B[0]&1&&g!==(g=z[28].quantidade+"")&&X(p,g),B[0]&17&&($=z[4]&&z[28].custo_unitario!=null&&typeof z[28].custo_unitario=="number"&&!isNaN(z[28].custo_unitario)),$?h?h.p(z,B):(h=nt(z),h.c(),h.m(r,F)):h&&(h.d(1),h=null),z[28].quantidade_disponivel!==void 0?y?y.p(z,B):(y=st(z),y.c(),y.m(r,null)):y&&(y.d(1),y=null)},d(z){z&&_(e),O&&O.d(),U&&U.d(),h&&h.d(),y&&y.d()}}}function rt(s){let e,t,o=s[28].categoria+"",a;return{c(){e=b("p"),t=S("Categoria: "),a=S(o),this.h()},l(i){e=v(i,"P",{class:!0});var l=k(e);t=P(l,"Categoria: "),a=P(l,o),l.forEach(_),this.h()},h(){A(e,"class","text-xs text-gray-600 dark:text-gray-400")},m(i,l){x(i,e,l),m(e,t),m(e,a)},p(i,l){l[0]&1&&o!==(o=i[28].categoria+"")&&X(a,o)},d(i){i&&_(e)}}}function lt(s){let e,t,o=s[28].numero_ca+"",a;return{c(){e=b("p"),t=S("CA: "),a=S(o),this.h()},l(i){e=v(i,"P",{class:!0});var l=k(e);t=P(l,"CA: "),a=P(l,o),l.forEach(_),this.h()},h(){A(e,"class","text-xs text-gray-600 dark:text-gray-400")},m(i,l){x(i,e,l),m(e,t),m(e,a)},p(i,l){l[0]&1&&o!==(o=i[28].numero_ca+"")&&X(a,o)},d(i){i&&_(e)}}}function nt(s){let e,t,o=s[28].custo_unitario.toFixed(2)+"",a,i,l,d,c=(s[28].quantidade*s[28].custo_unitario).toFixed(2)+"",f;return{c(){e=b("p"),t=S("Unit: R$ "),a=S(o),i=w(),l=b("p"),d=S("Total: R$ "),f=S(c),this.h()},l(r){e=v(r,"P",{class:!0});var n=k(e);t=P(n,"Unit: R$ "),a=P(n,o),n.forEach(_),i=I(r),l=v(r,"P",{class:!0});var u=k(l);d=P(u,"Total: R$ "),f=P(u,c),u.forEach(_),this.h()},h(){A(e,"class","text-xs text-gray-600 dark:text-gray-400"),A(l,"class","text-sm font-medium text-green-600 dark:text-green-400")},m(r,n){x(r,e,n),m(e,t),m(e,a),x(r,i,n),x(r,l,n),m(l,d),m(l,f)},p(r,n){n[0]&1&&o!==(o=r[28].custo_unitario.toFixed(2)+"")&&X(a,o),n[0]&1&&c!==(c=(r[28].quantidade*r[28].custo_unitario).toFixed(2)+"")&&X(f,c)},d(r){r&&(_(e),_(i),_(l))}}}function st(s){let e,t,o=s[28].quantidade_disponivel+"",a;return{c(){e=b("p"),t=S("Dispon√≠vel: "),a=S(o),this.h()},l(i){e=v(i,"P",{class:!0});var l=k(e);t=P(l,"Dispon√≠vel: "),a=P(l,o),l.forEach(_),this.h()},h(){A(e,"class","text-xs text-gray-600 dark:text-gray-400")},m(i,l){x(i,e,l),m(e,t),m(e,a)},p(i,l){l[0]&1&&o!==(o=i[28].quantidade_disponivel+"")&&X(a,o)},d(i){i&&_(e)}}}function dt(s){let e,t;return e=new Gt({props:{color:"red",class:"mt-3 rounded-sm",$$slots:{default:[wo]},$$scope:{ctx:s}}}),{c(){de(e.$$.fragment)},l(o){se(e.$$.fragment,o)},m(o,a){ne(e,o,a),t=!0},p(o,a){const i={};a[0]&65|a[1]&8&&(i.$$scope={dirty:a,ctx:o}),e.$set(i)},i(o){t||(q(e.$$.fragment,o),t=!0)},o(o){L(e.$$.fragment,o),t=!1},d(o){le(e,o)}}}function wo(s){let e,t=s[6][s[28].temp_id]+"",o;return{c(){e=b("span"),o=S(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var i=k(e);o=P(i,t),i.forEach(_),this.h()},h(){A(e,"class","text-sm")},m(a,i){x(a,e,i),m(e,o)},p(a,i){i[0]&65&&t!==(t=a[6][a[28].temp_id]+"")&&X(o,t)},d(a){a&&_(e)}}}function ct(s,e){let t,o,a,i,l=e[30]+1+"",d,c,f,r,n,u,g,p=e[7]?"Tipo de EPI":"Item do Estoque",E,$,F,O,U,h,y,z,B,Y,J,re,ee,me,fe,D,V=e[28].equipamento_nome&&Xe(e),M=!e[1]&&e[0].length>1&&et(e);function te(...K){return e[18](e[30],...K)}O=new eo({props:{id:"item-select-"+e[30],value:e[7]?e[28].tipo_epi_id:e[28].estoque_item_id,disabled:e[1],class:"rounded-sm text-sm",$$slots:{default:[Io]},$$scope:{ctx:e}}}),O.$on("change",te);let j=e[28].quantidade_disponivel!==void 0&&ot(e);function oe(...K){return e[19](e[30],...K)}J=new He({props:{id:"quantidade-"+e[30],type:"number",min:"1",max:e[28].quantidade_disponivel||void 0,value:e[28].quantidade,disabled:e[1],placeholder:"Qtd",class:"rounded-sm text-sm"}}),J.$on("input",oe);let Q=e[4]&&at(e),G=e[28].equipamento_nome&&it(e),ue=e[6][e[28].temp_id]&&dt(e);return{key:s,first:null,c(){t=b("div"),o=b("div"),a=b("h5"),i=S("Item "),d=S(l),c=w(),V&&V.c(),f=w(),M&&M.c(),r=w(),n=b("div"),u=b("div"),g=b("label"),E=S(p),F=w(),de(O.$$.fragment),U=w(),h=b("div"),y=b("label"),z=S(`Quantidade
                `),j&&j.c(),Y=w(),de(J.$$.fragment),re=w(),Q&&Q.c(),ee=w(),G&&G.c(),me=w(),ue&&ue.c(),fe=w(),this.h()},l(K){t=v(K,"DIV",{class:!0});var H=k(t);o=v(H,"DIV",{class:!0});var W=k(o);a=v(W,"H5",{class:!0});var N=k(a);i=P(N,"Item "),d=P(N,l),c=I(N),V&&V.l(N),N.forEach(_),f=I(W),M&&M.l(W),W.forEach(_),r=I(H),n=v(H,"DIV",{class:!0});var ae=k(n);u=v(ae,"DIV",{class:!0});var pe=k(u);g=v(pe,"LABEL",{for:!0,class:!0});var ge=k(g);E=P(ge,p),ge.forEach(_),F=I(pe),se(O.$$.fragment,pe),pe.forEach(_),U=I(ae),h=v(ae,"DIV",{});var ie=k(h);y=v(ie,"LABEL",{for:!0,class:!0});var we=k(y);z=P(we,`Quantidade
                `),j&&j.l(we),we.forEach(_),Y=I(ie),se(J.$$.fragment,ie),ie.forEach(_),re=I(ae),Q&&Q.l(ae),ae.forEach(_),ee=I(H),G&&G.l(H),me=I(H),ue&&ue.l(H),fe=I(H),H.forEach(_),this.h()},h(){A(a,"class","text-sm font-medium text-gray-900 dark:text-white"),A(o,"class","flex items-start justify-between mb-4"),A(g,"for",$="item-select-"+e[30]),A(g,"class","block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"),A(u,"class","md:col-span-2"),A(y,"for",B="quantidade-"+e[30]),A(y,"class","block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"),A(n,"class","grid grid-cols-1 md:grid-cols-3 gap-4"),A(t,"class","w-full border border-gray-200 dark:border-gray-700 rounded-sm p-4 bg-white dark:bg-gray-800"),this.first=t},m(K,H){x(K,t,H),m(t,o),m(o,a),m(a,i),m(a,d),m(a,c),V&&V.m(a,null),m(o,f),M&&M.m(o,null),m(t,r),m(t,n),m(n,u),m(u,g),m(g,E),m(u,F),ne(O,u,null),m(n,U),m(n,h),m(h,y),m(y,z),j&&j.m(y,null),m(h,Y),ne(J,h,null),m(n,re),Q&&Q.m(n,null),m(t,ee),G&&G.m(t,null),m(t,me),ue&&ue.m(t,null),m(t,fe),D=!0},p(K,H){e=K,(!D||H[0]&1)&&l!==(l=e[30]+1+"")&&X(d,l),e[28].equipamento_nome?V?V.p(e,H):(V=Xe(e),V.c(),V.m(a,null)):V&&(V.d(1),V=null),!e[1]&&e[0].length>1?M?(M.p(e,H),H[0]&3&&q(M,1)):(M=et(e),M.c(),q(M,1),M.m(o,null)):M&&(Ae(),L(M,1,1,()=>{M=null}),ke()),(!D||H[0]&128)&&p!==(p=e[7]?"Tipo de EPI":"Item do Estoque")&&X(E,p),(!D||H[0]&1&&$!==($="item-select-"+e[30]))&&A(g,"for",$);const W={};H[0]&1&&(W.id="item-select-"+e[30]),H[0]&129&&(W.value=e[7]?e[28].tipo_epi_id:e[28].estoque_item_id),H[0]&2&&(W.disabled=e[1]),H[0]&140|H[1]&8&&(W.$$scope={dirty:H,ctx:e}),O.$set(W),e[28].quantidade_disponivel!==void 0?j?j.p(e,H):(j=ot(e),j.c(),j.m(y,null)):j&&(j.d(1),j=null),(!D||H[0]&1&&B!==(B="quantidade-"+e[30]))&&A(y,"for",B);const N={};H[0]&1&&(N.id="quantidade-"+e[30]),H[0]&1&&(N.max=e[28].quantidade_disponivel||void 0),H[0]&1&&(N.value=e[28].quantidade),H[0]&2&&(N.disabled=e[1]),J.$set(N),e[4]?Q?(Q.p(e,H),H[0]&16&&q(Q,1)):(Q=at(e),Q.c(),q(Q,1),Q.m(n,null)):Q&&(Ae(),L(Q,1,1,()=>{Q=null}),ke()),e[28].equipamento_nome?G?G.p(e,H):(G=it(e),G.c(),G.m(t,me)):G&&(G.d(1),G=null),e[6][e[28].temp_id]?ue?(ue.p(e,H),H[0]&65&&q(ue,1)):(ue=dt(e),ue.c(),q(ue,1),ue.m(t,fe)):ue&&(Ae(),L(ue,1,1,()=>{ue=null}),ke())},i(K){D||(q(M),q(O.$$.fragment,K),q(J.$$.fragment,K),q(Q),q(ue),D=!0)},o(K){L(M),L(O.$$.fragment,K),L(J.$$.fragment,K),L(Q),L(ue),D=!1},d(K){K&&_(t),V&&V.d(),M&&M.d(),le(O),j&&j.d(),le(J),Q&&Q.d(),G&&G.d(),ue&&ue.d()}}}function ut(s){let e,t,o,a,i,l=s[0].length+"",d,c,f=s[4]&&ft(s);return{c(){e=b("div"),t=b("div"),o=b("div"),a=b("span"),i=S("Total de Itens: "),d=S(l),c=w(),f&&f.c(),this.h()},l(r){e=v(r,"DIV",{class:!0});var n=k(e);t=v(n,"DIV",{class:!0});var u=k(t);o=v(u,"DIV",{class:!0});var g=k(o);a=v(g,"SPAN",{class:!0});var p=k(a);i=P(p,"Total de Itens: "),d=P(p,l),p.forEach(_),c=I(g),f&&f.l(g),g.forEach(_),u.forEach(_),n.forEach(_),this.h()},h(){A(a,"class","text-sm font-medium text-gray-900 dark:text-white"),A(o,"class","flex items-center space-x-4"),A(t,"class","flex justify-between items-center"),A(e,"class","w-full border border-gray-200 dark:border-gray-700 rounded-sm p-4 bg-gray-50 dark:bg-gray-800")},m(r,n){x(r,e,n),m(e,t),m(t,o),m(o,a),m(a,i),m(a,d),m(o,c),f&&f.m(o,null)},p(r,n){n[0]&1&&l!==(l=r[0].length+"")&&X(d,l),r[4]?f?f.p(r,n):(f=ft(r),f.c(),f.m(o,null)):f&&(f.d(1),f=null)},d(r){r&&_(e),f&&f.d()}}}function ft(s){let e,t,o,a,i=s[0].reduce(s[21],0).toFixed(2)+"",l;return{c(){e=b("span"),t=S(`Valor Total: 
                `),o=b("span"),a=S("R$ "),l=S(i),this.h()},l(d){e=v(d,"SPAN",{class:!0});var c=k(e);t=P(c,`Valor Total: 
                `),o=v(c,"SPAN",{class:!0});var f=k(o);a=P(f,"R$ "),l=P(f,i),f.forEach(_),c.forEach(_),this.h()},h(){A(o,"class","text-lg font-bold text-green-600 dark:text-green-400"),A(e,"class","text-sm font-medium text-gray-900 dark:text-white")},m(d,c){x(d,e,c),m(e,t),m(e,o),m(o,a),m(o,l)},p(d,c){c[0]&1&&i!==(i=d[0].reduce(d[21],0).toFixed(2)+"")&&X(l,i)},d(d){d&&_(e)}}}function Do(s){let e=s[7]?"Adicione EPIs do cat√°logo":"Selecione itens do estoque",t;return{c(){t=S(e)},l(o){t=P(o,e)},m(o,a){x(o,t,a)},p(o,a){a[0]&128&&e!==(e=o[7]?"Adicione EPIs do cat√°logo":"Selecione itens do estoque")&&X(t,e)},d(o){o&&_(t)}}}function No(s){let e;return{c(){e=S("Esta nota n√£o possui itens registrados")},l(t){e=P(t,"Esta nota n√£o possui itens registrados")},m(t,o){x(t,e,o)},p:ye,d(t){t&&_(e)}}}function _t(s){let e,t;return e=new Xt({props:{size:"sm",color:"primary",class:"rounded-sm",$$slots:{default:[yo]},$$scope:{ctx:s}}}),e.$on("click",s[8]),{c(){de(e.$$.fragment)},l(o){se(e.$$.fragment,o)},m(o,a){ne(e,o,a),t=!0},p(o,a){const i={};a[1]&8&&(i.$$scope={dirty:a,ctx:o}),e.$set(i)},i(o){t||(q(e.$$.fragment,o),t=!0)},o(o){L(e.$$.fragment,o),t=!1},d(o){le(e,o)}}}function yo(s){let e,t,o;return e=new Je({props:{class:"w-4 h-4 mr-2"}}),{c(){de(e.$$.fragment),t=S(`
          Adicionar Primeiro Item`)},l(a){se(e.$$.fragment,a),t=P(a,`
          Adicionar Primeiro Item`)},m(a,i){ne(e,a,i),x(a,t,i),o=!0},p:ye,i(a){o||(q(e.$$.fragment,a),o=!0)},o(a){L(e.$$.fragment,a),o=!1},d(a){a&&_(t),le(e,a)}}}function To(s){let e,t,o,a,i=s[1]?"Nenhum item encontrado":"Nenhum item adicionado",l,d,c,f,r,n;t=new Je({props:{class:"w-8 h-8 text-gray-400"}});function u($,F){return $[1]?No:Do}let g=u(s),p=g(s),E=!s[1]&&_t(s);return{c(){e=b("div"),de(t.$$.fragment),o=w(),a=b("h3"),l=S(i),d=w(),c=b("p"),p.c(),f=w(),E&&E.c(),r=xe(),this.h()},l($){e=v($,"DIV",{class:!0});var F=k(e);se(t.$$.fragment,F),F.forEach(_),o=I($),a=v($,"H3",{class:!0});var O=k(a);l=P(O,i),O.forEach(_),d=I($),c=v($,"P",{class:!0});var U=k(c);p.l(U),U.forEach(_),f=I($),E&&E.l($),r=xe(),this.h()},h(){A(e,"class","w-16 h-16 mx-auto mb-4 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center"),A(a,"class","text-lg font-medium text-gray-900 dark:text-white mb-2"),A(c,"class","text-gray-500 dark:text-gray-400 mb-4")},m($,F){x($,e,F),ne(t,e,null),x($,o,F),x($,a,F),m(a,l),x($,d,F),x($,c,F),p.m(c,null),x($,f,F),E&&E.m($,F),x($,r,F),n=!0},p($,F){(!n||F[0]&2)&&i!==(i=$[1]?"Nenhum item encontrado":"Nenhum item adicionado")&&X(l,i),g===(g=u($))&&p?p.p($,F):(p.d(1),p=g($),p&&(p.c(),p.m(c,null))),$[1]?E&&(Ae(),L(E,1,1,()=>{E=null}),ke()):E?(E.p($,F),F[0]&2&&q(E,1)):(E=_t($),E.c(),q(E,1),E.m(r.parentNode,r))},i($){n||(q(t.$$.fragment,$),q(E),n=!0)},o($){L(t.$$.fragment,$),L(E),n=!1},d($){$&&(_(e),_(o),_(a),_(d),_(c),_(f),_(r)),le(t),p.d(),E&&E.d($)}}}function qo(s){let e,t,o,a,i,l,d,c,f,r=s[0].length>0&&Ye(s),n=!s[1]&&Ge(s);const u=[Co,xo,ko],g=[];function p(E,$){return E[5]?0:E[0].length===0?1:2}return d=p(s),c=g[d]=u[d](s),{c(){e=b("div"),t=b("div"),o=b("h4"),a=S(`Itens da Nota
      `),r&&r.c(),i=w(),n&&n.c(),l=w(),c.c(),this.h()},l(E){e=v(E,"DIV",{class:!0});var $=k(e);t=v($,"DIV",{class:!0});var F=k(t);o=v(F,"H4",{class:!0});var O=k(o);a=P(O,`Itens da Nota
      `),r&&r.l(O),O.forEach(_),i=I(F),n&&n.l(F),F.forEach(_),l=I($),c.l($),$.forEach(_),this.h()},h(){A(o,"class","text-lg font-semibold text-gray-900 dark:text-white"),A(t,"class","flex items-center justify-between"),A(e,"class","space-y-4")},m(E,$){x(E,e,$),m(e,t),m(t,o),m(o,a),r&&r.m(o,null),m(t,i),n&&n.m(t,null),m(e,l),g[d].m(e,null),f=!0},p(E,$){E[0].length>0?r?(r.p(E,$),$[0]&1&&q(r,1)):(r=Ye(E),r.c(),q(r,1),r.m(o,null)):r&&(Ae(),L(r,1,1,()=>{r=null}),ke()),E[1]?n&&(Ae(),L(n,1,1,()=>{n=null}),ke()):n?(n.p(E,$),$[0]&2&&q(n,1)):(n=Ge(E),n.c(),q(n,1),n.m(t,null));let F=d;d=p(E),d===F?g[d].p(E,$):(Ae(),L(g[F],1,1,()=>{g[F]=null}),ke(),c=g[d],c?c.p(E,$):(c=g[d]=u[d](E),c.c()),q(c,1),c.m(e,null))},i(E){f||(q(r),q(n),q(c),f=!0)},o(E){L(r),L(n),L(c),f=!1},d(E){E&&_(e),r&&r.d(),n&&n.d(),g[d].d()}}}function Po(){return`temp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function So(s,e,t){let o,a,i,{tipo:l}=e,{almoxarifadoId:d}=e,{itens:c=[]}=e,{readonly:f=!1}=e,{currentNotaId:r=""}=e,n=!1;const u=Wt();let g=[],p=[],E=!1,$={};Yt(async()=>{console.log("üèóÔ∏è NotaItensManagerSimplified: Inicializando",{tipo:l,almoxarifadoId:d}),await F()});async function F(){if(!(!d&&!a))try{t(5,E=!0),a?(t(2,g=await to.obterOpcoesSelectComCache({apenasAtivos:!0})),console.log("üì¶ Tipos EPI carregados:",g.length)):(t(3,p=await ho.obterItensDisponiveisComCache(d)),console.log("üì¶ Itens de estoque carregados:",p.length))}catch(D){console.error("Erro ao carregar op√ß√µes:",D),u("validationError","Erro ao carregar op√ß√µes dispon√≠veis")}finally{t(5,E=!1)}}function O(){const D={temp_id:Po(),quantidade:1,equipamento_nome:"",custo_unitario:o?0:void 0};a?D.tipo_epi_id="":D.estoque_item_id="",t(0,c=[...c,D]),u("itensChanged",c),console.log("‚ûï Item adicionado:",D.temp_id)}function U(D){const V=c[D];t(0,c=c.filter((M,te)=>te!==D)),V&&$[V.temp_id]&&(delete $[V.temp_id],t(6,$={...$})),u("itensChanged",c),console.log("‚ûñ Item removido:",V==null?void 0:V.temp_id)}function h(D,V,M){const te=M.target;y(D,V,te.value)}function y(D,V,M){const te=c[D];if(te){if(te[V]=M,V==="tipo_epi_id"&&M){const j=g.find(oe=>oe.value===M);j&&(te.equipamento_nome=j.label,te.categoria=j.categoria,te.numero_ca=j.numeroCA,j.custoSugerido&&(!te.custo_unitario||te.custo_unitario===0)&&(te.custo_unitario=j.custoSugerido))}else if(V==="estoque_item_id"&&M){const j=p.find(oe=>oe.value===M);j&&(te.equipamento_nome=j.label,te.categoria=j.categoria,te.numero_ca=j.numeroCA,te.quantidade_disponivel=j.quantidadeDisponivel)}z(te),t(0,c=[...c]),u("itensChanged",c)}}function z(D){if(t(6,$[D.temp_id]="",$),a&&!D.tipo_epi_id){t(6,$[D.temp_id]="Selecione um tipo de EPI",$);return}if(i&&!D.estoque_item_id){t(6,$[D.temp_id]="Selecione um item do estoque",$);return}if(!D.quantidade||D.quantidade<=0){t(6,$[D.temp_id]="Quantidade deve ser maior que zero",$);return}if(i&&D.quantidade_disponivel!==void 0&&D.quantidade>D.quantidade_disponivel){t(6,$[D.temp_id]=`Quantidade indispon√≠vel (m√°x: ${D.quantidade_disponivel})`,$);return}if(o&&(!D.custo_unitario||D.custo_unitario<=0)){t(6,$[D.temp_id]="Custo unit√°rio √© obrigat√≥rio para entradas",$);return}t(6,$[D.temp_id]="",$),u("validationError","")}function B(D,V){const M=D.currentTarget;y(V,"quantidade",parseInt(M.value)||1)}async function Y(D,V){var oe;const M=D.currentTarget,te=M.value?parseFloat(M.value):0;if(console.log("üí∞ HandleCustoInputChange:",{valor_input:M.value,novo_custo:te,index:V,item_id:(oe=c[V])==null?void 0:oe.temp_id}),te<0){const Q=c[V];Q&&t(6,$[Q.temp_id]="Custo unit√°rio deve ser maior ou igual a zero",$);return}const j=c[V];if(j){if(j.id&&r&&j.tipo_epi_id)try{await Ue.atualizarCustoUnitario(r,j.tipo_epi_id,te),delete $[j.temp_id]}catch(Q){t(6,$[j.temp_id]="Erro ao salvar custo unit√°rio",$),console.error("Erro ao atualizar custo unit√°rio:",Q);return}y(V,"custo_unitario",te)}}const J=D=>U(D),re=(D,V)=>h(D,a?"tipo_epi_id":"estoque_item_id",V),ee=(D,V)=>B(V,D),me=(D,V)=>Y(V,D),fe=(D,V)=>{const M=V.quantidade||0,te=V.custo_unitario!=null&&typeof V.custo_unitario=="number"&&!isNaN(V.custo_unitario)?V.custo_unitario:0;return D+M*te};return s.$$set=D=>{"tipo"in D&&t(13,l=D.tipo),"almoxarifadoId"in D&&t(14,d=D.almoxarifadoId),"itens"in D&&t(0,c=D.itens),"readonly"in D&&t(1,f=D.readonly),"currentNotaId"in D&&t(15,r=D.currentNotaId)},s.$$.update=()=>{s.$$.dirty[0]&8192&&t(4,o=l==="ENTRADA"),s.$$.dirty[0]&16&&t(7,a=o),s.$$.dirty[0]&16&&(i=!o),s.$$.dirty[0]&24576&&(l||d)&&F(),s.$$.dirty[0]&1&&c.length>0&&c.some(D=>D.tipo_epi_id||D.estoque_item_id)&&t(16,n=!0),s.$$.dirty[0]&65551&&c.length===0&&!f&&(g.length>0||p.length>0)&&!n&&O()},[c,f,g,p,o,E,$,a,O,U,h,B,Y,l,d,r,n,J,re,ee,me,fe]}class Oo extends Qt{constructor(e){super(),Zt(this,e,So,qo,Kt,{tipo:13,almoxarifadoId:14,itens:0,readonly:1,currentNotaId:15},null,[-1,-1])}}class Ro{constructor(){Le(this,"baseEndpoint","/estoque/almoxarifados");Le(this,"selectOptionsCache",null)}async listarAlmoxarifados(){var e;console.log("üè™ AlmoxarifadosAdapter: Listando almoxarifados via estoque");try{try{console.log("üîç Tentando endpoint direto:",this.baseEndpoint);const t=await be.get(this.baseEndpoint,{timeout:15e3,retries:1});console.log("üì¶ Resposta recebida:",t);let o=[];return t.success&&t.data?o=Array.isArray(t.data)?t.data:[]:Array.isArray(t)?o=t:(console.warn("‚ö†Ô∏è Estrutura de resposta inesperada:",t),o=[]),console.log("üîç Almoxarifados recebidos do backend:",o.map(a=>({id:a.id,nome:a.nome}))),console.log("‚úÖ Almoxarifados listados via endpoint direto:",o.length),o.length===0?(console.warn("‚ö†Ô∏è Nenhum almoxarifado retornado, usando fallback"),this.getFallbackAlmoxarifados()):o}catch{console.log("‚ö†Ô∏è Endpoint direto n√£o dispon√≠vel, extraindo de estoque...");const o=await be.get("/estoque/itens?limit=100"),a=new Map;o.data.items.forEach(l=>{const d=l.almoxarifado;d&&!a.has(d.id)&&a.set(d.id,{id:d.id,nome:d.nome,unidadeNegocioId:d.unidadeNegocioId,isPrincipal:d.nome.toLowerCase().includes("central"),createdAt:new Date().toISOString(),unidadeNegocio:{id:d.unidadeNegocio.id,nome:d.unidadeNegocio.nome,codigo:d.unidadeNegocio.codigo}})});const i=Array.from(a.values());return console.log("‚úÖ Almoxarifados extra√≠dos do estoque:",i.length),i}}catch(t){if(console.error("‚ùå Erro ao listar almoxarifados:",t),t.name==="AbortError"||(e=t.message)!=null&&e.includes("timeout"))return console.warn("‚ö†Ô∏è Backend indispon√≠vel, usando dados de fallback"),this.getFallbackAlmoxarifados();throw new Error("N√£o foi poss√≠vel carregar os almoxarifados")}}async listarAlmoxarifadosPaginados(e){console.log("üè™ AlmoxarifadosAdapter: Listando almoxarifados com pagina√ß√£o",e);try{const t=new URLSearchParams;e!=null&&e.page&&t.append("page",e.page.toString()),e!=null&&e.limit&&t.append("limit",e.limit.toString()),e!=null&&e.search&&t.append("search",e.search);const o=`${this.baseEndpoint}?${t.toString()}`,a=await be.get(o);return console.log("‚úÖ Almoxarifados paginados listados:",a.data.pagination),{data:a.data.items,total:a.data.pagination.total,page:a.data.pagination.page,pageSize:a.data.pagination.limit,totalPages:a.data.pagination.totalPages}}catch(t){throw console.error("‚ùå Erro ao listar almoxarifados paginados:",t),new Error("N√£o foi poss√≠vel carregar os almoxarifados")}}async obterAlmoxarifado(e){console.log("üîç AlmoxarifadosAdapter: Buscando almoxarifado",e);try{const t=await be.get(`${this.baseEndpoint}/${e}`);return console.log("‚úÖ Almoxarifado encontrado:",t.data.nome),t.data}catch(t){throw console.error("‚ùå Erro ao buscar almoxarifado:",t),new Error("N√£o foi poss√≠vel encontrar o almoxarifado")}}async obterOpcoesSelect(){console.log("üîß AlmoxarifadosAdapter: Carregando op√ß√µes para select");try{const t=(await this.listarAlmoxarifados()).map(o=>{var a;return{value:o.id,label:o.nome,isPrincipal:o.isPrincipal,unidadeNegocio:(a=o.unidadeNegocio)==null?void 0:a.nome}});return t.sort((o,a)=>o.isPrincipal&&!a.isPrincipal?-1:!o.isPrincipal&&a.isPrincipal?1:o.label.localeCompare(a.label)),console.log("‚úÖ Op√ß√µes de select criadas:",t.length),t}catch(e){return console.error("‚ùå Erro ao criar op√ß√µes de select:",e),[]}}async obterOpcoesSelectComCache(){const t=Date.now();if(this.selectOptionsCache&&t-this.selectOptionsCache.timestamp<3e5)return console.log("üíæ AlmoxarifadosAdapter: Usando cache para op√ß√µes select"),this.selectOptionsCache.data;const o=await this.obterOpcoesSelect();return this.selectOptionsCache={data:o,timestamp:t},o}limparCache(){this.selectOptionsCache=null,console.log("üóëÔ∏è AlmoxarifadosAdapter: Cache limpo")}clearCache(){this.limparCache()}async validarExistencia(e){try{return await this.obterAlmoxarifado(e),!0}catch{return!1}}async obterAlmoxarifadosPrincipais(){console.log("üèÜ AlmoxarifadosAdapter: Buscando almoxarifados principais");try{const t=(await this.listarAlmoxarifados()).filter(o=>o.isPrincipal);return console.log("‚úÖ Almoxarifados principais encontrados:",t.length),t}catch(e){throw console.error("‚ùå Erro ao buscar almoxarifados principais:",e),new Error("N√£o foi poss√≠vel carregar os almoxarifados principais")}}getFallbackAlmoxarifados(){return[{id:"567a1885-0763-4a13-b9f6-157daa39ddc3",nome:"Almoxarifado Central SP",unidadeNegocioId:"d42d0657-4671-4026-ae34-61b74806ad9d",isPrincipal:!0,createdAt:new Date().toISOString(),unidadeNegocio:{id:"d42d0657-4671-4026-ae34-61b74806ad9d",nome:"Matriz S√£o Paulo",codigo:"SP001"}},{id:"fallback-2",nome:"Almoxarifado Obra (Demo)",unidadeNegocioId:"unidade-2",isPrincipal:!1,createdAt:new Date().toISOString(),unidadeNegocio:{id:"unidade-2",nome:"Obra A",codigo:"OA01"}}]}}const Vo=new Ro;function mt(s,e,t){const o=s.slice();return o[53]=e[t],o}function pt(s,e,t){const o=s.slice();return o[53]=e[t],o}function gt(s,e,t){const o=s.slice();return o[53]=e[t],o}function ht(s,e,t){const o=s.slice();return o[50]=e[t],o[52]=t,o}function vt(s,e,t){const o=s.slice();return o[60]=e[t],o}function bt(s,e,t){const o=s.slice();return o[60]=e[t],o}function Fo(s){let e=s[9]&&(Object.keys(s[8]).length>0||s[7].length>0),t,o,a,i,l,d=e&&Et(s);const c=[Mo,zo],f=[];function r(n,u){return n[0]==="view"?0:1}return a=r(s),i=f[a]=c[a](s),{c(){d&&d.c(),t=w(),o=b("div"),i.c(),this.h()},l(n){d&&d.l(n),t=I(n),o=v(n,"DIV",{class:!0});var u=k(o);i.l(u),u.forEach(_),this.h()},h(){A(o,"class","p-6 space-y-6")},m(n,u){d&&d.m(n,u),x(n,t,u),x(n,o,u),f[a].m(o,null),l=!0},p(n,u){u[0]&896&&(e=n[9]&&(Object.keys(n[8]).length>0||n[7].length>0)),e?d?(d.p(n,u),u[0]&896&&q(d,1)):(d=Et(n),d.c(),q(d,1),d.m(t.parentNode,t)):d&&(Ae(),L(d,1,1,()=>{d=null}),ke());let g=a;a=r(n),a===g?f[a].p(n,u):(Ae(),L(f[g],1,1,()=>{f[g]=null}),ke(),i=f[a],i?i.p(n,u):(i=f[a]=c[a](n),i.c()),q(i,1),i.m(o,null))},i(n){l||(q(d),q(i),l=!0)},o(n){L(d),L(i),l=!1},d(n){n&&(_(t),_(o)),d&&d.d(n),f[a].d()}}}function Lo(s){let e,t,o;return t=new mo({}),{c(){e=b("div"),de(t.$$.fragment),this.h()},l(a){e=v(a,"DIV",{class:!0});var i=k(e);se(t.$$.fragment,i),i.forEach(_),this.h()},h(){A(e,"class","flex justify-center items-center py-12")},m(a,i){x(a,e,i),ne(t,e,null),o=!0},p:ye,i(a){o||(q(t.$$.fragment,a),o=!0)},o(a){L(t.$$.fragment,a),o=!1},d(a){a&&_(e),le(t)}}}function Et(s){let e,t,o;return t=new Gt({props:{color:"red",class:"rounded-sm",$$slots:{default:[Uo]},$$scope:{ctx:s}}}),{c(){e=b("div"),de(t.$$.fragment),this.h()},l(a){e=v(a,"DIV",{class:!0});var i=k(e);se(t.$$.fragment,i),i.forEach(_),this.h()},h(){A(e,"class","p-6 pb-0")},m(a,i){x(a,e,i),ne(t,e,null),o=!0},p(a,i){const l={};i[0]&384|i[2]&8&&(l.$$scope={dirty:i,ctx:a}),t.$set(l)},i(a){o||(q(t.$$.fragment,a),o=!0)},o(a){L(t.$$.fragment,a),o=!1},d(a){a&&_(e),le(t)}}}function $t(s){let e,t=s[60]+"",o;return{c(){e=b("li"),o=S(t)},l(a){e=v(a,"LI",{});var i=k(e);o=P(i,t),i.forEach(_)},m(a,i){x(a,e,i),m(e,o)},p(a,i){i[0]&256&&t!==(t=a[60]+"")&&X(o,t)},d(a){a&&_(e)}}}function At(s){let e,t=s[60]+"",o;return{c(){e=b("li"),o=S(t)},l(a){e=v(a,"LI",{});var i=k(e);o=P(i,t),i.forEach(_)},m(a,i){x(a,e,i),m(e,o)},p(a,i){i[0]&128&&t!==(t=a[60]+"")&&X(o,t)},d(a){a&&_(e)}}}function Uo(s){let e,t="Erros de valida√ß√£o:",o,a,i,l=Ie(Object.values(s[8])),d=[];for(let r=0;r<l.length;r+=1)d[r]=$t(bt(s,l,r));let c=Ie(s[7]),f=[];for(let r=0;r<c.length;r+=1)f[r]=At(vt(s,c,r));return{c(){e=b("span"),e.textContent=t,o=w(),a=b("ul");for(let r=0;r<d.length;r+=1)d[r].c();i=w();for(let r=0;r<f.length;r+=1)f[r].c();this.h()},l(r){e=v(r,"SPAN",{class:!0,"data-svelte-h":!0}),_e(e)!=="svelte-19ugpdw"&&(e.textContent=t),o=I(r),a=v(r,"UL",{class:!0});var n=k(a);for(let u=0;u<d.length;u+=1)d[u].l(n);i=I(n);for(let u=0;u<f.length;u+=1)f[u].l(n);n.forEach(_),this.h()},h(){A(e,"class","font-medium"),A(a,"class","mt-2 list-disc list-inside")},m(r,n){x(r,e,n),x(r,o,n),x(r,a,n);for(let u=0;u<d.length;u+=1)d[u]&&d[u].m(a,null);m(a,i);for(let u=0;u<f.length;u+=1)f[u]&&f[u].m(a,null)},p(r,n){if(n[0]&256){l=Ie(Object.values(r[8]));let u;for(u=0;u<l.length;u+=1){const g=bt(r,l,u);d[u]?d[u].p(g,n):(d[u]=$t(g),d[u].c(),d[u].m(a,i))}for(;u<d.length;u+=1)d[u].d(1);d.length=l.length}if(n[0]&128){c=Ie(r[7]);let u;for(u=0;u<c.length;u+=1){const g=vt(r,c,u);f[u]?f[u].p(g,n):(f[u]=At(g),f[u].c(),f[u].m(a,null))}for(;u<f.length;u+=1)f[u].d(1);f.length=c.length}},d(r){r&&(_(e),_(o),_(a)),Fe(d,r),Fe(f,r)}}}function zo(s){let e,t,o="Dados da Nota",a,i,l,d,c,f,r,n,u,g,p,E,$,F,O,U,h,y,z,B,Y,J,re,ee,me,fe,D,V,M,te,j,oe,Q;d=new Se({props:{for:"tipo_nota",class:"mb-2 text-gray-900 dark:text-white",$$slots:{default:[jo]},$$scope:{ctx:s}}});function G(C){s[34](C)}let ue={id:"tipo_nota",disabled:!1,class:"rounded-sm "+(s[8].tipo_nota?"border-red-500":""),$$slots:{default:[Bo]},$$scope:{ctx:s}};s[1].tipo_nota!==void 0&&(ue.value=s[1].tipo_nota),f=new eo({props:ue}),Oe.push(()=>Re(f,"value",G));let K=s[8].tipo_nota&&kt(s);p=new Se({props:{for:"data_documento",class:"mb-2 text-gray-900 dark:text-white",$$slots:{default:[Ho]},$$scope:{ctx:s}}});function H(C){s[35](C)}let W={id:"data_documento",type:"date",size:"md",disabled:!1,class:"rounded-sm h-10 text-sm "+(s[8].data_documento?"border-red-500":"")};s[1].data_documento!==void 0&&(W.value=s[1].data_documento),$=new He({props:W}),Oe.push(()=>Re($,"value",H));let N=s[8].data_documento&&xt(s);const ae=[Qo,Jo],pe=[];function ge(C,R){return C[1].tipo_nota==="ENTRADA"?0:1}h=ge(s),y=pe[h]=ae[h](s);let ie=s[1].tipo_nota==="TRANSFERENCIA"&&Tt(s);J=new Se({props:{for:"observacoes",class:"mb-2 text-gray-900 dark:text-white",$$slots:{default:[ea]},$$scope:{ctx:s}}});function we(C){s[39](C)}let $e={id:"observacoes",disabled:!1,placeholder:"Observa√ß√µes sobre a movimenta√ß√£o...",rows:3,class:"rounded-sm "+(s[8].observacoes?"border-red-500":"")};s[1].observacoes!==void 0&&($e.value=s[1].observacoes),ee=new fo({props:$e}),Oe.push(()=>Re(ee,"value",we));let he=s[8].observacoes&&Ot(s);function Te(C){s[40](C)}let De={tipo:s[1].tipo_nota,almoxarifadoId:s[1].tipo_nota==="ENTRADA"?s[1].almoxarifado_destino_id:s[1].almoxarifado_origem_id,readonly:!1};s[2]!==void 0&&(De.itens=s[2]),M=new Oo({props:De}),Oe.push(()=>Re(M,"itens",Te)),M.$on("itensChanged",s[20]),M.$on("validationError",s[21]);let T=s[5]>0&&Rt(s);return{c(){e=b("div"),t=b("h3"),t.textContent=o,a=w(),i=b("div"),l=b("div"),de(d.$$.fragment),c=w(),de(f.$$.fragment),n=w(),K&&K.c(),u=w(),g=b("div"),de(p.$$.fragment),E=w(),de($.$$.fragment),O=w(),N&&N.c(),U=w(),y.c(),z=w(),ie&&ie.c(),B=w(),Y=b("div"),de(J.$$.fragment),re=w(),de(ee.$$.fragment),fe=w(),he&&he.c(),D=w(),V=b("div"),de(M.$$.fragment),j=w(),T&&T.c(),oe=xe(),this.h()},l(C){e=v(C,"DIV",{class:!0});var R=k(e);t=v(R,"H3",{class:!0,"data-svelte-h":!0}),_e(t)!=="svelte-in15tf"&&(t.textContent=o),a=I(R),i=v(R,"DIV",{class:!0});var ce=k(i);l=v(ce,"DIV",{});var ve=k(l);se(d.$$.fragment,ve),c=I(ve),se(f.$$.fragment,ve),n=I(ve),K&&K.l(ve),ve.forEach(_),u=I(ce),g=v(ce,"DIV",{});var Z=k(g);se(p.$$.fragment,Z),E=I(Z),se($.$$.fragment,Z),O=I(Z),N&&N.l(Z),Z.forEach(_),U=I(ce),y.l(ce),z=I(ce),ie&&ie.l(ce),ce.forEach(_),B=I(R),Y=v(R,"DIV",{});var Ee=k(Y);se(J.$$.fragment,Ee),re=I(Ee),se(ee.$$.fragment,Ee),fe=I(Ee),he&&he.l(Ee),Ee.forEach(_),R.forEach(_),D=I(C),V=v(C,"DIV",{class:!0});var Ce=k(V);se(M.$$.fragment,Ce),Ce.forEach(_),j=I(C),T&&T.l(C),oe=xe(),this.h()},h(){A(t,"class","text-lg font-semibold text-gray-900 dark:text-white"),A(i,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),A(e,"class","space-y-4"),A(V,"class","border-t border-gray-200 dark:border-gray-700 pt-6")},m(C,R){x(C,e,R),m(e,t),m(e,a),m(e,i),m(i,l),ne(d,l,null),m(l,c),ne(f,l,null),m(l,n),K&&K.m(l,null),m(i,u),m(i,g),ne(p,g,null),m(g,E),ne($,g,null),m(g,O),N&&N.m(g,null),m(i,U),pe[h].m(i,null),m(i,z),ie&&ie.m(i,null),m(e,B),m(e,Y),ne(J,Y,null),m(Y,re),ne(ee,Y,null),m(Y,fe),he&&he.m(Y,null),x(C,D,R),x(C,V,R),ne(M,V,null),x(C,j,R),T&&T.m(C,R),x(C,oe,R),Q=!0},p(C,R){const ce={};R[2]&8&&(ce.$$scope={dirty:R,ctx:C}),d.$set(ce);const ve={};R[0]&256&&(ve.class="rounded-sm "+(C[8].tipo_nota?"border-red-500":"")),R[2]&8&&(ve.$$scope={dirty:R,ctx:C}),!r&&R[0]&2&&(r=!0,ve.value=C[1].tipo_nota,Ve(()=>r=!1)),f.$set(ve),C[8].tipo_nota?K?K.p(C,R):(K=kt(C),K.c(),K.m(l,null)):K&&(K.d(1),K=null);const Z={};R[2]&8&&(Z.$$scope={dirty:R,ctx:C}),p.$set(Z);const Ee={};R[0]&256&&(Ee.class="rounded-sm h-10 text-sm "+(C[8].data_documento?"border-red-500":"")),!F&&R[0]&2&&(F=!0,Ee.value=C[1].data_documento,Ve(()=>F=!1)),$.$set(Ee),C[8].data_documento?N?N.p(C,R):(N=xt(C),N.c(),N.m(g,null)):N&&(N.d(1),N=null);let Ce=h;h=ge(C),h===Ce?pe[h].p(C,R):(Ae(),L(pe[Ce],1,1,()=>{pe[Ce]=null}),ke(),y=pe[h],y?y.p(C,R):(y=pe[h]=ae[h](C),y.c()),q(y,1),y.m(i,z)),C[1].tipo_nota==="TRANSFERENCIA"?ie?(ie.p(C,R),R[0]&2&&q(ie,1)):(ie=Tt(C),ie.c(),q(ie,1),ie.m(i,null)):ie&&(Ae(),L(ie,1,1,()=>{ie=null}),ke());const Pe={};R[2]&8&&(Pe.$$scope={dirty:R,ctx:C}),J.$set(Pe);const qe={};R[0]&256&&(qe.class="rounded-sm "+(C[8].observacoes?"border-red-500":"")),!me&&R[0]&2&&(me=!0,qe.value=C[1].observacoes,Ve(()=>me=!1)),ee.$set(qe),C[8].observacoes?he?he.p(C,R):(he=Ot(C),he.c(),he.m(Y,null)):he&&(he.d(1),he=null);const Ne={};R[0]&2&&(Ne.tipo=C[1].tipo_nota),R[0]&2&&(Ne.almoxarifadoId=C[1].tipo_nota==="ENTRADA"?C[1].almoxarifado_destino_id:C[1].almoxarifado_origem_id),!te&&R[0]&4&&(te=!0,Ne.itens=C[2],Ve(()=>te=!1)),M.$set(Ne),C[5]>0?T?T.p(C,R):(T=Rt(C),T.c(),T.m(oe.parentNode,oe)):T&&(T.d(1),T=null)},i(C){Q||(q(d.$$.fragment,C),q(f.$$.fragment,C),q(p.$$.fragment,C),q($.$$.fragment,C),q(y),q(ie),q(J.$$.fragment,C),q(ee.$$.fragment,C),q(M.$$.fragment,C),Q=!0)},o(C){L(d.$$.fragment,C),L(f.$$.fragment,C),L(p.$$.fragment,C),L($.$$.fragment,C),L(y),L(ie),L(J.$$.fragment,C),L(ee.$$.fragment,C),L(M.$$.fragment,C),Q=!1},d(C){C&&(_(e),_(D),_(V),_(j),_(oe)),le(d),le(f),K&&K.d(),le(p),le($),N&&N.d(),pe[h].d(),ie&&ie.d(),le(J),le(ee),he&&he.d(),le(M),T&&T.d(C)}}}function Mo(s){let e,t,o="Informa√ß√µes da Nota",a,i,l,d,c,f="Tipo de Nota",r,n,u,g,p,E,$="Data do Documento",F,O,U=new Date(s[1].data_documento).toLocaleDateString("pt-BR")+"",h,y,z,B,Y,J,re,ee,me,fe,D,V,M,te;u=new je({props:{color:Ze(s[1].tipo_nota),class:"w-fit rounded-sm font-medium",$$slots:{default:[ta]},$$scope:{ctx:s}}});let j=s[1].almoxarifado_origem_id&&Vt(s),oe=s[1].almoxarifado_destino_id&&Lt(s),Q=s[1].observacoes&&zt(s),G=s[5]>0&&Mt(s);const ue=[ia,aa],K=[];function H(N,ae){return N[2].length===0?0:1}fe=H(s),D=K[fe]=ue[fe](s);let W=s[5]>0&&Ht(s);return{c(){e=b("div"),t=b("h3"),t.textContent=o,a=w(),i=b("div"),l=b("div"),d=b("div"),c=b("dt"),c.textContent=f,r=w(),n=b("dd"),de(u.$$.fragment),g=w(),p=b("div"),E=b("dt"),E.textContent=$,F=w(),O=b("dd"),h=S(U),y=w(),j&&j.c(),z=w(),oe&&oe.c(),B=w(),Q&&Q.c(),Y=w(),J=b("div"),re=b("h3"),ee=S(`Itens da Nota
            `),G&&G.c(),me=w(),D.c(),V=w(),W&&W.c(),M=xe(),this.h()},l(N){e=v(N,"DIV",{class:!0});var ae=k(e);t=v(ae,"H3",{class:!0,"data-svelte-h":!0}),_e(t)!=="svelte-8lkdze"&&(t.textContent=o),a=I(ae),i=v(ae,"DIV",{class:!0});var pe=k(i);l=v(pe,"DIV",{class:!0});var ge=k(l);d=v(ge,"DIV",{});var ie=k(d);c=v(ie,"DT",{class:!0,"data-svelte-h":!0}),_e(c)!=="svelte-pciq5c"&&(c.textContent=f),r=I(ie),n=v(ie,"DD",{class:!0});var we=k(n);se(u.$$.fragment,we),we.forEach(_),ie.forEach(_),g=I(ge),p=v(ge,"DIV",{});var $e=k(p);E=v($e,"DT",{class:!0,"data-svelte-h":!0}),_e(E)!=="svelte-1vn6ac2"&&(E.textContent=$),F=I($e),O=v($e,"DD",{class:!0});var he=k(O);h=P(he,U),he.forEach(_),$e.forEach(_),y=I(ge),j&&j.l(ge),z=I(ge),oe&&oe.l(ge),B=I(ge),Q&&Q.l(ge),ge.forEach(_),pe.forEach(_),ae.forEach(_),Y=I(N),J=v(N,"DIV",{class:!0});var Te=k(J);re=v(Te,"H3",{class:!0});var De=k(re);ee=P(De,`Itens da Nota
            `),G&&G.l(De),De.forEach(_),me=I(Te),D.l(Te),Te.forEach(_),V=I(N),W&&W.l(N),M=xe(),this.h()},h(){A(t,"class","text-lg font-semibold text-gray-900 dark:text-white"),A(c,"class","text-sm font-medium text-gray-500 dark:text-gray-400"),A(n,"class","mt-1 text-sm text-gray-900 dark:text-white"),A(E,"class","text-sm font-medium text-gray-500 dark:text-gray-400"),A(O,"class","mt-1 text-sm text-gray-900 dark:text-white"),A(l,"class","grid grid-cols-1 md:grid-cols-2 gap-6"),A(i,"class","bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4"),A(e,"class","space-y-4"),A(re,"class","text-lg font-semibold text-gray-900 dark:text-white"),A(J,"class","space-y-4")},m(N,ae){x(N,e,ae),m(e,t),m(e,a),m(e,i),m(i,l),m(l,d),m(d,c),m(d,r),m(d,n),ne(u,n,null),m(l,g),m(l,p),m(p,E),m(p,F),m(p,O),m(O,h),m(l,y),j&&j.m(l,null),m(l,z),oe&&oe.m(l,null),m(l,B),Q&&Q.m(l,null),x(N,Y,ae),x(N,J,ae),m(J,re),m(re,ee),G&&G.m(re,null),m(J,me),K[fe].m(J,null),x(N,V,ae),W&&W.m(N,ae),x(N,M,ae),te=!0},p(N,ae){const pe={};ae[0]&2&&(pe.color=Ze(N[1].tipo_nota)),ae[0]&2|ae[2]&8&&(pe.$$scope={dirty:ae,ctx:N}),u.$set(pe),(!te||ae[0]&2)&&U!==(U=new Date(N[1].data_documento).toLocaleDateString("pt-BR")+"")&&X(h,U),N[1].almoxarifado_origem_id?j?j.p(N,ae):(j=Vt(N),j.c(),j.m(l,z)):j&&(j.d(1),j=null),N[1].almoxarifado_destino_id?oe?oe.p(N,ae):(oe=Lt(N),oe.c(),oe.m(l,B)):oe&&(oe.d(1),oe=null),N[1].observacoes?Q?Q.p(N,ae):(Q=zt(N),Q.c(),Q.m(l,null)):Q&&(Q.d(1),Q=null),N[5]>0?G?(G.p(N,ae),ae[0]&32&&q(G,1)):(G=Mt(N),G.c(),q(G,1),G.m(re,null)):G&&(Ae(),L(G,1,1,()=>{G=null}),ke());let ge=fe;fe=H(N),fe===ge?K[fe].p(N,ae):(Ae(),L(K[ge],1,1,()=>{K[ge]=null}),ke(),D=K[fe],D?D.p(N,ae):(D=K[fe]=ue[fe](N),D.c()),q(D,1),D.m(J,null)),N[5]>0?W?W.p(N,ae):(W=Ht(N),W.c(),W.m(M.parentNode,M)):W&&(W.d(1),W=null)},i(N){te||(q(u.$$.fragment,N),q(G),q(D),te=!0)},o(N){L(u.$$.fragment,N),L(G),L(D),te=!1},d(N){N&&(_(e),_(Y),_(J),_(V),_(M)),le(u),j&&j.d(),oe&&oe.d(),Q&&Q.d(),G&&G.d(),K[fe].d(),W&&W.d(N)}}}function jo(s){let e;return{c(){e=S("Tipo de Nota")},l(t){e=P(t,"Tipo de Nota")},m(t,o){x(t,e,o)},d(t){t&&_(e)}}}function Bo(s){let e,t="Entrada",o,a,i="Transfer√™ncia",l,d,c="Descarte";return{c(){e=b("option"),e.textContent=t,o=w(),a=b("option"),a.textContent=i,l=w(),d=b("option"),d.textContent=c,this.h()},l(f){e=v(f,"OPTION",{"data-svelte-h":!0}),_e(e)!=="svelte-qgq2us"&&(e.textContent=t),o=I(f),a=v(f,"OPTION",{"data-svelte-h":!0}),_e(a)!=="svelte-4m889r"&&(a.textContent=i),l=I(f),d=v(f,"OPTION",{"data-svelte-h":!0}),_e(d)!=="svelte-urwv3a"&&(d.textContent=c),this.h()},h(){e.__value="ENTRADA",ze(e,e.__value),a.__value="TRANSFERENCIA",ze(a,a.__value),d.__value="DESCARTE",ze(d,d.__value)},m(f,r){x(f,e,r),x(f,o,r),x(f,a,r),x(f,l,r),x(f,d,r)},p:ye,d(f){f&&(_(e),_(o),_(a),_(l),_(d))}}}function kt(s){let e,t=s[8].tipo_nota+"",o;return{c(){e=b("p"),o=S(t),this.h()},l(a){e=v(a,"P",{class:!0});var i=k(e);o=P(i,t),i.forEach(_),this.h()},h(){A(e,"class","text-red-500 dark:text-red-400 text-sm mt-1")},m(a,i){x(a,e,i),m(e,o)},p(a,i){i[0]&256&&t!==(t=a[8].tipo_nota+"")&&X(o,t)},d(a){a&&_(e)}}}function Ho(s){let e;return{c(){e=S("Data do Documento")},l(t){e=P(t,"Data do Documento")},m(t,o){x(t,e,o)},d(t){t&&_(e)}}}function xt(s){let e,t=s[8].data_documento+"",o;return{c(){e=b("p"),o=S(t),this.h()},l(a){e=v(a,"P",{class:!0});var i=k(e);o=P(i,t),i.forEach(_),this.h()},h(){A(e,"class","text-red-500 dark:text-red-400 text-sm mt-1")},m(a,i){x(a,e,i),m(e,o)},p(a,i){i[0]&256&&t!==(t=a[8].data_documento+"")&&X(o,t)},d(a){a&&_(e)}}}function Jo(s){let e,t,o,a,i,l;t=new Se({props:{class:"mb-3 text-gray-900 dark:text-white",$$slots:{default:[Zo]},$$scope:{ctx:s}}});let d=Ie(s[10]),c=[];for(let n=0;n<d.length;n+=1)c[n]=It(pt(s,d,n));const f=n=>L(c[n],1,1,()=>{c[n]=null});let r=s[8].almoxarifado_origem_id&&wt(s);return{c(){e=b("div"),de(t.$$.fragment),o=w(),a=b("div");for(let n=0;n<c.length;n+=1)c[n].c();i=w(),r&&r.c(),this.h()},l(n){e=v(n,"DIV",{});var u=k(e);se(t.$$.fragment,u),o=I(u),a=v(u,"DIV",{class:!0});var g=k(a);for(let p=0;p<c.length;p+=1)c[p].l(g);g.forEach(_),i=I(u),r&&r.l(u),u.forEach(_),this.h()},h(){A(a,"class","space-y-2")},m(n,u){x(n,e,u),ne(t,e,null),m(e,o),m(e,a);for(let g=0;g<c.length;g+=1)c[g]&&c[g].m(a,null);m(e,i),r&&r.m(e,null),l=!0},p(n,u){const g={};if(u[2]&8&&(g.$$scope={dirty:u,ctx:n}),t.$set(g),u[0]&1026){d=Ie(n[10]);let p;for(p=0;p<d.length;p+=1){const E=pt(n,d,p);c[p]?(c[p].p(E,u),q(c[p],1)):(c[p]=It(E),c[p].c(),q(c[p],1),c[p].m(a,null))}for(Ae(),p=d.length;p<c.length;p+=1)f(p);ke()}n[8].almoxarifado_origem_id?r?r.p(n,u):(r=wt(n),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i(n){if(!l){q(t.$$.fragment,n);for(let u=0;u<d.length;u+=1)q(c[u]);l=!0}},o(n){L(t.$$.fragment,n),c=c.filter(Boolean);for(let u=0;u<c.length;u+=1)L(c[u]);l=!1},d(n){n&&_(e),le(t),Fe(c,n),r&&r.d()}}}function Qo(s){let e,t,o,a,i,l;t=new Se({props:{class:"mb-3 text-gray-900 dark:text-white",$$slots:{default:[Wo]},$$scope:{ctx:s}}});let d=Ie(s[10]),c=[];for(let n=0;n<d.length;n+=1)c[n]=Nt(gt(s,d,n));const f=n=>L(c[n],1,1,()=>{c[n]=null});let r=s[8].almoxarifado_destino_id&&yt(s);return{c(){e=b("div"),de(t.$$.fragment),o=w(),a=b("div");for(let n=0;n<c.length;n+=1)c[n].c();i=w(),r&&r.c(),this.h()},l(n){e=v(n,"DIV",{});var u=k(e);se(t.$$.fragment,u),o=I(u),a=v(u,"DIV",{class:!0});var g=k(a);for(let p=0;p<c.length;p+=1)c[p].l(g);g.forEach(_),i=I(u),r&&r.l(u),u.forEach(_),this.h()},h(){A(a,"class","space-y-2")},m(n,u){x(n,e,u),ne(t,e,null),m(e,o),m(e,a);for(let g=0;g<c.length;g+=1)c[g]&&c[g].m(a,null);m(e,i),r&&r.m(e,null),l=!0},p(n,u){const g={};if(u[2]&8&&(g.$$scope={dirty:u,ctx:n}),t.$set(g),u[0]&1026){d=Ie(n[10]);let p;for(p=0;p<d.length;p+=1){const E=gt(n,d,p);c[p]?(c[p].p(E,u),q(c[p],1)):(c[p]=Nt(E),c[p].c(),q(c[p],1),c[p].m(a,null))}for(Ae(),p=d.length;p<c.length;p+=1)f(p);ke()}n[8].almoxarifado_destino_id?r?r.p(n,u):(r=yt(n),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i(n){if(!l){q(t.$$.fragment,n);for(let u=0;u<d.length;u+=1)q(c[u]);l=!0}},o(n){L(t.$$.fragment,n),c=c.filter(Boolean);for(let u=0;u<c.length;u+=1)L(c[u]);l=!1},d(n){n&&_(e),le(t),Fe(c,n),r&&r.d()}}}function Zo(s){let e;return{c(){e=S("Almoxarifado de Origem")},l(t){e=P(t,"Almoxarifado de Origem")},m(t,o){x(t,e,o)},d(t){t&&_(e)}}}function Ct(s){let e,t="(Principal)";return{c(){e=b("span"),e.textContent=t,this.h()},l(o){e=v(o,"SPAN",{class:!0,"data-svelte-h":!0}),_e(e)!=="svelte-quypfn"&&(e.textContent=t),this.h()},h(){A(e,"class","text-xs text-primary-600 dark:text-primary-400 font-medium ml-1")},m(o,a){x(o,e,a)},d(o){o&&_(e)}}}function Ko(s){let e=s[53].label+"",t,o,a,i=s[53].isPrincipal&&Ct();return{c(){t=S(e),o=w(),i&&i.c(),a=xe()},l(l){t=P(l,e),o=I(l),i&&i.l(l),a=xe()},m(l,d){x(l,t,d),x(l,o,d),i&&i.m(l,d),x(l,a,d)},p(l,d){d[0]&1024&&e!==(e=l[53].label+"")&&X(t,e),l[53].isPrincipal?i||(i=Ct(),i.c(),i.m(a.parentNode,a)):i&&(i.d(1),i=null)},d(l){l&&(_(t),_(o),_(a)),i&&i.d(l)}}}function It(s){let e,t,o,a,i,l,d;function c(r){s[37](r)}let f={name:"almoxarifado_origem_id",value:s[53].value,disabled:!1,class:"text-primary-600 focus:ring-primary-500"};return s[1].almoxarifado_origem_id!==void 0&&(f.group=s[1].almoxarifado_origem_id),t=new Be({props:f}),Oe.push(()=>Re(t,"group",c)),i=new Se({props:{class:"ml-2 text-sm text-gray-900 dark:text-white",$$slots:{default:[Ko]},$$scope:{ctx:s}}}),{c(){e=b("div"),de(t.$$.fragment),a=w(),de(i.$$.fragment),l=w(),this.h()},l(r){e=v(r,"DIV",{class:!0});var n=k(e);se(t.$$.fragment,n),a=I(n),se(i.$$.fragment,n),l=I(n),n.forEach(_),this.h()},h(){A(e,"class","flex items-center")},m(r,n){x(r,e,n),ne(t,e,null),m(e,a),ne(i,e,null),m(e,l),d=!0},p(r,n){const u={};n[0]&1024&&(u.value=r[53].value),!o&&n[0]&2&&(o=!0,u.group=r[1].almoxarifado_origem_id,Ve(()=>o=!1)),t.$set(u);const g={};n[0]&1024|n[2]&8&&(g.$$scope={dirty:n,ctx:r}),i.$set(g)},i(r){d||(q(t.$$.fragment,r),q(i.$$.fragment,r),d=!0)},o(r){L(t.$$.fragment,r),L(i.$$.fragment,r),d=!1},d(r){r&&_(e),le(t),le(i)}}}function wt(s){let e,t=s[8].almoxarifado_origem_id+"",o;return{c(){e=b("p"),o=S(t),this.h()},l(a){e=v(a,"P",{class:!0});var i=k(e);o=P(i,t),i.forEach(_),this.h()},h(){A(e,"class","text-red-500 dark:text-red-400 text-sm mt-2")},m(a,i){x(a,e,i),m(e,o)},p(a,i){i[0]&256&&t!==(t=a[8].almoxarifado_origem_id+"")&&X(o,t)},d(a){a&&_(e)}}}function Wo(s){let e;return{c(){e=S("Almoxarifado de Destino")},l(t){e=P(t,"Almoxarifado de Destino")},m(t,o){x(t,e,o)},d(t){t&&_(e)}}}function Dt(s){let e,t="(Principal)";return{c(){e=b("span"),e.textContent=t,this.h()},l(o){e=v(o,"SPAN",{class:!0,"data-svelte-h":!0}),_e(e)!=="svelte-quypfn"&&(e.textContent=t),this.h()},h(){A(e,"class","text-xs text-primary-600 dark:text-primary-400 font-medium ml-1")},m(o,a){x(o,e,a)},d(o){o&&_(e)}}}function Yo(s){let e=s[53].label+"",t,o,a,i=s[53].isPrincipal&&Dt();return{c(){t=S(e),o=w(),i&&i.c(),a=xe()},l(l){t=P(l,e),o=I(l),i&&i.l(l),a=xe()},m(l,d){x(l,t,d),x(l,o,d),i&&i.m(l,d),x(l,a,d)},p(l,d){d[0]&1024&&e!==(e=l[53].label+"")&&X(t,e),l[53].isPrincipal?i||(i=Dt(),i.c(),i.m(a.parentNode,a)):i&&(i.d(1),i=null)},d(l){l&&(_(t),_(o),_(a)),i&&i.d(l)}}}function Nt(s){let e,t,o,a,i,l,d;function c(r){s[36](r)}let f={name:"almoxarifado_destino_id",value:s[53].value,disabled:!1,class:"text-primary-600 focus:ring-primary-500"};return s[1].almoxarifado_destino_id!==void 0&&(f.group=s[1].almoxarifado_destino_id),t=new Be({props:f}),Oe.push(()=>Re(t,"group",c)),i=new Se({props:{class:"ml-2 text-sm text-gray-900 dark:text-white",$$slots:{default:[Yo]},$$scope:{ctx:s}}}),{c(){e=b("div"),de(t.$$.fragment),a=w(),de(i.$$.fragment),l=w(),this.h()},l(r){e=v(r,"DIV",{class:!0});var n=k(e);se(t.$$.fragment,n),a=I(n),se(i.$$.fragment,n),l=I(n),n.forEach(_),this.h()},h(){A(e,"class","flex items-center")},m(r,n){x(r,e,n),ne(t,e,null),m(e,a),ne(i,e,null),m(e,l),d=!0},p(r,n){const u={};n[0]&1024&&(u.value=r[53].value),!o&&n[0]&2&&(o=!0,u.group=r[1].almoxarifado_destino_id,Ve(()=>o=!1)),t.$set(u);const g={};n[0]&1024|n[2]&8&&(g.$$scope={dirty:n,ctx:r}),i.$set(g)},i(r){d||(q(t.$$.fragment,r),q(i.$$.fragment,r),d=!0)},o(r){L(t.$$.fragment,r),L(i.$$.fragment,r),d=!1},d(r){r&&_(e),le(t),le(i)}}}function yt(s){let e,t=s[8].almoxarifado_destino_id+"",o;return{c(){e=b("p"),o=S(t),this.h()},l(a){e=v(a,"P",{class:!0});var i=k(e);o=P(i,t),i.forEach(_),this.h()},h(){A(e,"class","text-red-500 dark:text-red-400 text-sm mt-2")},m(a,i){x(a,e,i),m(e,o)},p(a,i){i[0]&256&&t!==(t=a[8].almoxarifado_destino_id+"")&&X(o,t)},d(a){a&&_(e)}}}function Tt(s){let e,t,o,a,i,l;t=new Se({props:{class:"mb-3 text-gray-900 dark:text-white",$$slots:{default:[Go]},$$scope:{ctx:s}}});let d=Ie(s[11]),c=[];for(let n=0;n<d.length;n+=1)c[n]=Pt(mt(s,d,n));const f=n=>L(c[n],1,1,()=>{c[n]=null});let r=s[8].almoxarifado_destino_id&&St(s);return{c(){e=b("div"),de(t.$$.fragment),o=w(),a=b("div");for(let n=0;n<c.length;n+=1)c[n].c();i=w(),r&&r.c(),this.h()},l(n){e=v(n,"DIV",{});var u=k(e);se(t.$$.fragment,u),o=I(u),a=v(u,"DIV",{class:!0});var g=k(a);for(let p=0;p<c.length;p+=1)c[p].l(g);g.forEach(_),i=I(u),r&&r.l(u),u.forEach(_),this.h()},h(){A(a,"class","space-y-2")},m(n,u){x(n,e,u),ne(t,e,null),m(e,o),m(e,a);for(let g=0;g<c.length;g+=1)c[g]&&c[g].m(a,null);m(e,i),r&&r.m(e,null),l=!0},p(n,u){const g={};if(u[2]&8&&(g.$$scope={dirty:u,ctx:n}),t.$set(g),u[0]&2050){d=Ie(n[11]);let p;for(p=0;p<d.length;p+=1){const E=mt(n,d,p);c[p]?(c[p].p(E,u),q(c[p],1)):(c[p]=Pt(E),c[p].c(),q(c[p],1),c[p].m(a,null))}for(Ae(),p=d.length;p<c.length;p+=1)f(p);ke()}n[8].almoxarifado_destino_id?r?r.p(n,u):(r=St(n),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i(n){if(!l){q(t.$$.fragment,n);for(let u=0;u<d.length;u+=1)q(c[u]);l=!0}},o(n){L(t.$$.fragment,n),c=c.filter(Boolean);for(let u=0;u<c.length;u+=1)L(c[u]);l=!1},d(n){n&&_(e),le(t),Fe(c,n),r&&r.d()}}}function Go(s){let e;return{c(){e=S("Almoxarifado de Destino")},l(t){e=P(t,"Almoxarifado de Destino")},m(t,o){x(t,e,o)},d(t){t&&_(e)}}}function qt(s){let e,t="(Principal)";return{c(){e=b("span"),e.textContent=t,this.h()},l(o){e=v(o,"SPAN",{class:!0,"data-svelte-h":!0}),_e(e)!=="svelte-quypfn"&&(e.textContent=t),this.h()},h(){A(e,"class","text-xs text-primary-600 dark:text-primary-400 font-medium ml-1")},m(o,a){x(o,e,a)},d(o){o&&_(e)}}}function Xo(s){let e=s[53].label+"",t,o,a,i=s[53].isPrincipal&&qt();return{c(){t=S(e),o=w(),i&&i.c(),a=xe()},l(l){t=P(l,e),o=I(l),i&&i.l(l),a=xe()},m(l,d){x(l,t,d),x(l,o,d),i&&i.m(l,d),x(l,a,d)},p(l,d){d[0]&2048&&e!==(e=l[53].label+"")&&X(t,e),l[53].isPrincipal?i||(i=qt(),i.c(),i.m(a.parentNode,a)):i&&(i.d(1),i=null)},d(l){l&&(_(t),_(o),_(a)),i&&i.d(l)}}}function Pt(s){let e,t,o,a,i,l,d;function c(r){s[38](r)}let f={name:"almoxarifado_destino_id",value:s[53].value,disabled:!1,class:"text-primary-600 focus:ring-primary-500"};return s[1].almoxarifado_destino_id!==void 0&&(f.group=s[1].almoxarifado_destino_id),t=new Be({props:f}),Oe.push(()=>Re(t,"group",c)),i=new Se({props:{class:"ml-2 text-sm text-gray-900 dark:text-white",$$slots:{default:[Xo]},$$scope:{ctx:s}}}),{c(){e=b("div"),de(t.$$.fragment),a=w(),de(i.$$.fragment),l=w(),this.h()},l(r){e=v(r,"DIV",{class:!0});var n=k(e);se(t.$$.fragment,n),a=I(n),se(i.$$.fragment,n),l=I(n),n.forEach(_),this.h()},h(){A(e,"class","flex items-center")},m(r,n){x(r,e,n),ne(t,e,null),m(e,a),ne(i,e,null),m(e,l),d=!0},p(r,n){const u={};n[0]&2048&&(u.value=r[53].value),!o&&n[0]&2&&(o=!0,u.group=r[1].almoxarifado_destino_id,Ve(()=>o=!1)),t.$set(u);const g={};n[0]&2048|n[2]&8&&(g.$$scope={dirty:n,ctx:r}),i.$set(g)},i(r){d||(q(t.$$.fragment,r),q(i.$$.fragment,r),d=!0)},o(r){L(t.$$.fragment,r),L(i.$$.fragment,r),d=!1},d(r){r&&_(e),le(t),le(i)}}}function St(s){let e,t=s[8].almoxarifado_destino_id+"",o;return{c(){e=b("p"),o=S(t),this.h()},l(a){e=v(a,"P",{class:!0});var i=k(e);o=P(i,t),i.forEach(_),this.h()},h(){A(e,"class","text-red-500 dark:text-red-400 text-sm mt-2")},m(a,i){x(a,e,i),m(e,o)},p(a,i){i[0]&256&&t!==(t=a[8].almoxarifado_destino_id+"")&&X(o,t)},d(a){a&&_(e)}}}function ea(s){let e,t,o="(opcional)";return{c(){e=S(`Observa√ß√µes 
              `),t=b("span"),t.textContent=o,this.h()},l(a){e=P(a,`Observa√ß√µes 
              `),t=v(a,"SPAN",{class:!0,"data-svelte-h":!0}),_e(t)!=="svelte-1313n1d"&&(t.textContent=o),this.h()},h(){A(t,"class","text-xs text-gray-500 dark:text-gray-400")},m(a,i){x(a,e,i),x(a,t,i)},p:ye,d(a){a&&(_(e),_(t))}}}function Ot(s){let e,t=s[8].observacoes+"",o;return{c(){e=b("p"),o=S(t),this.h()},l(a){e=v(a,"P",{class:!0});var i=k(e);o=P(i,t),i.forEach(_),this.h()},h(){A(e,"class","text-red-500 dark:text-red-400 text-sm mt-1")},m(a,i){x(a,e,i),m(e,o)},p(a,i){i[0]&256&&t!==(t=a[8].observacoes+"")&&X(o,t)},d(a){a&&_(e)}}}function Rt(s){let e,t,o="Resumo",a,i,l,d,c="Total de itens:",f,r,n,u,g,p,E="Valor total:",$,F,O,U=s[4].toFixed(2)+"",h;return{c(){e=b("div"),t=b("h4"),t.textContent=o,a=w(),i=b("div"),l=b("div"),d=b("span"),d.textContent=c,f=w(),r=b("span"),n=S(s[5]),u=w(),g=b("div"),p=b("span"),p.textContent=E,$=w(),F=b("span"),O=S("R$ "),h=S(U),this.h()},l(y){e=v(y,"DIV",{class:!0});var z=k(e);t=v(z,"H4",{class:!0,"data-svelte-h":!0}),_e(t)!=="svelte-3i5efz"&&(t.textContent=o),a=I(z),i=v(z,"DIV",{class:!0});var B=k(i);l=v(B,"DIV",{});var Y=k(l);d=v(Y,"SPAN",{class:!0,"data-svelte-h":!0}),_e(d)!=="svelte-18up8m1"&&(d.textContent=c),f=I(Y),r=v(Y,"SPAN",{class:!0});var J=k(r);n=P(J,s[5]),J.forEach(_),Y.forEach(_),u=I(B),g=v(B,"DIV",{});var re=k(g);p=v(re,"SPAN",{class:!0,"data-svelte-h":!0}),_e(p)!=="svelte-j9jcfb"&&(p.textContent=E),$=I(re),F=v(re,"SPAN",{class:!0});var ee=k(F);O=P(ee,"R$ "),h=P(ee,U),ee.forEach(_),re.forEach(_),B.forEach(_),z.forEach(_),this.h()},h(){A(t,"class","font-medium text-gray-900 dark:text-white mb-2"),A(d,"class","text-gray-600 dark:text-gray-400"),A(r,"class","font-medium ml-2"),A(p,"class","text-gray-600 dark:text-gray-400"),A(F,"class","font-medium ml-2 text-green-600 dark:text-green-400"),A(i,"class","grid grid-cols-2 gap-4 text-sm"),A(e,"class","bg-gray-50 dark:bg-gray-800 rounded-lg p-4")},m(y,z){x(y,e,z),m(e,t),m(e,a),m(e,i),m(i,l),m(l,d),m(l,f),m(l,r),m(r,n),m(i,u),m(i,g),m(g,p),m(g,$),m(g,F),m(F,O),m(F,h)},p(y,z){z[0]&32&&X(n,y[5]),z[0]&16&&U!==(U=y[4].toFixed(2)+"")&&X(h,U)},d(y){y&&_(e)}}}function ta(s){let e=Me(s[1].tipo_nota)+"",t;return{c(){t=S(e)},l(o){t=P(o,e)},m(o,a){x(o,t,a)},p(o,a){a[0]&2&&e!==(e=Me(o[1].tipo_nota)+"")&&X(t,e)},d(o){o&&_(t)}}}function Vt(s){var n,u;let e,t,o="Almoxarifado de Origem",a,i,l=(((n=s[10].find(s[32]))==null?void 0:n.label)||"N√£o identificado")+"",d,c,f=(u=s[10].find(s[31]))==null?void 0:u.isPrincipal,r=f&&Ft();return{c(){e=b("div"),t=b("dt"),t.textContent=o,a=w(),i=b("dd"),d=S(l),c=w(),r&&r.c(),this.h()},l(g){e=v(g,"DIV",{});var p=k(e);t=v(p,"DT",{class:!0,"data-svelte-h":!0}),_e(t)!=="svelte-h81xpe"&&(t.textContent=o),a=I(p),i=v(p,"DD",{class:!0});var E=k(i);d=P(E,l),c=I(E),r&&r.l(E),E.forEach(_),p.forEach(_),this.h()},h(){A(t,"class","text-sm font-medium text-gray-500 dark:text-gray-400"),A(i,"class","mt-1 text-sm text-gray-900 dark:text-white")},m(g,p){x(g,e,p),m(e,t),m(e,a),m(e,i),m(i,d),m(i,c),r&&r.m(i,null)},p(g,p){var E,$;p[0]&1026&&l!==(l=(((E=g[10].find(g[32]))==null?void 0:E.label)||"N√£o identificado")+"")&&X(d,l),p[0]&1026&&(f=($=g[10].find(g[31]))==null?void 0:$.isPrincipal),f?r||(r=Ft(),r.c(),r.m(i,null)):r&&(r.d(1),r=null)},d(g){g&&_(e),r&&r.d()}}}function Ft(s){let e,t="(Principal)";return{c(){e=b("span"),e.textContent=t,this.h()},l(o){e=v(o,"SPAN",{class:!0,"data-svelte-h":!0}),_e(e)!=="svelte-quypfn"&&(e.textContent=t),this.h()},h(){A(e,"class","text-xs text-primary-600 dark:text-primary-400 font-medium ml-1")},m(o,a){x(o,e,a)},d(o){o&&_(e)}}}function Lt(s){var n,u;let e,t,o="Almoxarifado de Destino",a,i,l=(((n=s[10].find(s[33]))==null?void 0:n.label)||"N√£o identificado")+"",d,c,f=(u=s[10].find(s[30]))==null?void 0:u.isPrincipal,r=f&&Ut();return{c(){e=b("div"),t=b("dt"),t.textContent=o,a=w(),i=b("dd"),d=S(l),c=w(),r&&r.c(),this.h()},l(g){e=v(g,"DIV",{});var p=k(e);t=v(p,"DT",{class:!0,"data-svelte-h":!0}),_e(t)!=="svelte-11el58n"&&(t.textContent=o),a=I(p),i=v(p,"DD",{class:!0});var E=k(i);d=P(E,l),c=I(E),r&&r.l(E),E.forEach(_),p.forEach(_),this.h()},h(){A(t,"class","text-sm font-medium text-gray-500 dark:text-gray-400"),A(i,"class","mt-1 text-sm text-gray-900 dark:text-white")},m(g,p){x(g,e,p),m(e,t),m(e,a),m(e,i),m(i,d),m(i,c),r&&r.m(i,null)},p(g,p){var E,$;p[0]&1026&&l!==(l=(((E=g[10].find(g[33]))==null?void 0:E.label)||"N√£o identificado")+"")&&X(d,l),p[0]&1026&&(f=($=g[10].find(g[30]))==null?void 0:$.isPrincipal),f?r||(r=Ut(),r.c(),r.m(i,null)):r&&(r.d(1),r=null)},d(g){g&&_(e),r&&r.d()}}}function Ut(s){let e,t="(Principal)";return{c(){e=b("span"),e.textContent=t,this.h()},l(o){e=v(o,"SPAN",{class:!0,"data-svelte-h":!0}),_e(e)!=="svelte-quypfn"&&(e.textContent=t),this.h()},h(){A(e,"class","text-xs text-primary-600 dark:text-primary-400 font-medium ml-1")},m(o,a){x(o,e,a)},d(o){o&&_(e)}}}function zt(s){let e,t,o="Observa√ß√µes",a,i,l=s[1].observacoes+"",d;return{c(){e=b("div"),t=b("dt"),t.textContent=o,a=w(),i=b("dd"),d=S(l),this.h()},l(c){e=v(c,"DIV",{class:!0});var f=k(e);t=v(f,"DT",{class:!0,"data-svelte-h":!0}),_e(t)!=="svelte-1sl8lih"&&(t.textContent=o),a=I(f),i=v(f,"DD",{class:!0});var r=k(i);d=P(r,l),r.forEach(_),f.forEach(_),this.h()},h(){A(t,"class","text-sm font-medium text-gray-500 dark:text-gray-400"),A(i,"class","mt-1 text-sm text-gray-900 dark:text-white"),A(e,"class","md:col-span-2")},m(c,f){x(c,e,f),m(e,t),m(e,a),m(e,i),m(i,d)},p(c,f){f[0]&2&&l!==(l=c[1].observacoes+"")&&X(d,l)},d(c){c&&_(e)}}}function Mt(s){let e,t;return e=new je({props:{color:"dark",class:"ml-2 rounded-sm",$$slots:{default:[oa]},$$scope:{ctx:s}}}),{c(){de(e.$$.fragment)},l(o){se(e.$$.fragment,o)},m(o,a){ne(e,o,a),t=!0},p(o,a){const i={};a[0]&32|a[2]&8&&(i.$$scope={dirty:a,ctx:o}),e.$set(i)},i(o){t||(q(e.$$.fragment,o),t=!0)},o(o){L(e.$$.fragment,o),t=!1},d(o){le(e,o)}}}function oa(s){let e;return{c(){e=S(s[5])},l(t){e=P(t,s[5])},m(t,o){x(t,e,o)},p(t,o){o[0]&32&&X(e,t[5])},d(t){t&&_(e)}}}function aa(s){let e,t=Ie(s[2]),o=[];for(let a=0;a<t.length;a+=1)o[a]=Bt(ht(s,t,a));return{c(){e=b("div");for(let a=0;a<o.length;a+=1)o[a].c();this.h()},l(a){e=v(a,"DIV",{class:!0});var i=k(e);for(let l=0;l<o.length;l+=1)o[l].l(i);i.forEach(_),this.h()},h(){A(e,"class","space-y-3")},m(a,i){x(a,e,i);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(e,null)},p(a,i){if(i[0]&6){t=Ie(a[2]);let l;for(l=0;l<t.length;l+=1){const d=ht(a,t,l);o[l]?o[l].p(d,i):(o[l]=Bt(d),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=t.length}},i:ye,o:ye,d(a){a&&_(e),Fe(o,a)}}}function ia(s){let e,t,o,a,i,l="Nenhum item encontrado",d,c,f="Esta nota n√£o possui itens registrados",r;return o=new po({props:{class:"w-6 h-6 text-gray-400"}}),{c(){e=b("div"),t=b("div"),de(o.$$.fragment),a=w(),i=b("h4"),i.textContent=l,d=w(),c=b("p"),c.textContent=f,this.h()},l(n){e=v(n,"DIV",{class:!0});var u=k(e);t=v(u,"DIV",{class:!0});var g=k(t);se(o.$$.fragment,g),g.forEach(_),a=I(u),i=v(u,"H4",{class:!0,"data-svelte-h":!0}),_e(i)!=="svelte-6duyuw"&&(i.textContent=l),d=I(u),c=v(u,"P",{class:!0,"data-svelte-h":!0}),_e(c)!=="svelte-1ej1x9"&&(c.textContent=f),u.forEach(_),this.h()},h(){A(t,"class","w-12 h-12 mx-auto mb-4 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center"),A(i,"class","text-sm font-medium text-gray-900 dark:text-white mb-1"),A(c,"class","text-xs text-gray-500 dark:text-gray-400"),A(e,"class","bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 text-center")},m(n,u){x(n,e,u),m(e,t),ne(o,t,null),m(e,a),m(e,i),m(e,d),m(e,c),r=!0},p:ye,i(n){r||(q(o.$$.fragment,n),r=!0)},o(n){L(o.$$.fragment,n),r=!1},d(n){n&&_(e),le(o)}}}function jt(s){let e,t,o="Custo Unit√°rio",a,i,l,d=s[50].custo_unitario.toFixed(2)+"",c,f,r,n,u="Valor Total",g,p,E,$=(s[50].quantidade*s[50].custo_unitario).toFixed(2)+"",F;return{c(){e=b("div"),t=b("dt"),t.textContent=o,a=w(),i=b("dd"),l=S("R$ "),c=S(d),f=w(),r=b("div"),n=b("dt"),n.textContent=u,g=w(),p=b("dd"),E=S("R$ "),F=S($),this.h()},l(O){e=v(O,"DIV",{});var U=k(e);t=v(U,"DT",{class:!0,"data-svelte-h":!0}),_e(t)!=="svelte-yy8rn"&&(t.textContent=o),a=I(U),i=v(U,"DD",{class:!0});var h=k(i);l=P(h,"R$ "),c=P(h,d),h.forEach(_),U.forEach(_),f=I(O),r=v(O,"DIV",{});var y=k(r);n=v(y,"DT",{class:!0,"data-svelte-h":!0}),_e(n)!=="svelte-11k0zp4"&&(n.textContent=u),g=I(y),p=v(y,"DD",{class:!0});var z=k(p);E=P(z,"R$ "),F=P(z,$),z.forEach(_),y.forEach(_),this.h()},h(){A(t,"class","text-gray-500 dark:text-gray-400"),A(i,"class","text-gray-900 dark:text-white"),A(n,"class","text-gray-500 dark:text-gray-400"),A(p,"class","text-green-600 dark:text-green-400 font-medium")},m(O,U){x(O,e,U),m(e,t),m(e,a),m(e,i),m(i,l),m(i,c),x(O,f,U),x(O,r,U),m(r,n),m(r,g),m(r,p),m(p,E),m(p,F)},p(O,U){U[0]&4&&d!==(d=O[50].custo_unitario.toFixed(2)+"")&&X(c,d),U[0]&4&&$!==($=(O[50].quantidade*O[50].custo_unitario).toFixed(2)+"")&&X(F,$)},d(O){O&&(_(e),_(f),_(r))}}}function Bt(s){let e,t,o,a,i,l,d=s[52]+1+"",c,f,r,n=(s[50].equipamento_nome||"Equipamento n√£o identificado")+"",u,g,p,E,$,F="Categoria",O,U,h=(s[50].categoria||"N√£o informado")+"",y,z,B,Y,J="N√∫mero CA",re,ee,me=(s[50].numero_ca||"N√£o informado")+"",fe,D,V,M,te="Quantidade",j,oe,Q=s[50].quantidade+"",G,ue,K,H=s[1].tipo_nota==="ENTRADA"&&s[50].custo_unitario&&jt(s);return{c(){e=b("div"),t=b("div"),o=b("div"),a=b("div"),i=b("span"),l=S("Item "),c=S(d),f=w(),r=b("h4"),u=S(n),g=w(),p=b("div"),E=b("div"),$=b("dt"),$.textContent=F,O=w(),U=b("dd"),y=S(h),z=w(),B=b("div"),Y=b("dt"),Y.textContent=J,re=w(),ee=b("dd"),fe=S(me),D=w(),V=b("div"),M=b("dt"),M.textContent=te,j=w(),oe=b("dd"),G=S(Q),ue=w(),H&&H.c(),K=w(),this.h()},l(W){e=v(W,"DIV",{class:!0});var N=k(e);t=v(N,"DIV",{class:!0});var ae=k(t);o=v(ae,"DIV",{class:!0});var pe=k(o);a=v(pe,"DIV",{class:!0});var ge=k(a);i=v(ge,"SPAN",{class:!0});var ie=k(i);l=P(ie,"Item "),c=P(ie,d),ie.forEach(_),f=I(ge),r=v(ge,"H4",{class:!0});var we=k(r);u=P(we,n),we.forEach(_),ge.forEach(_),g=I(pe),p=v(pe,"DIV",{class:!0});var $e=k(p);E=v($e,"DIV",{});var he=k(E);$=v(he,"DT",{class:!0,"data-svelte-h":!0}),_e($)!=="svelte-14lljjz"&&($.textContent=F),O=I(he),U=v(he,"DD",{class:!0});var Te=k(U);y=P(Te,h),Te.forEach(_),he.forEach(_),z=I($e),B=v($e,"DIV",{});var De=k(B);Y=v(De,"DT",{class:!0,"data-svelte-h":!0}),_e(Y)!=="svelte-1pq153"&&(Y.textContent=J),re=I(De),ee=v(De,"DD",{class:!0});var T=k(ee);fe=P(T,me),T.forEach(_),De.forEach(_),D=I($e),V=v($e,"DIV",{});var C=k(V);M=v(C,"DT",{class:!0,"data-svelte-h":!0}),_e(M)!=="svelte-6gds52"&&(M.textContent=te),j=I(C),oe=v(C,"DD",{class:!0});var R=k(oe);G=P(R,Q),R.forEach(_),C.forEach(_),ue=I($e),H&&H.l($e),$e.forEach(_),pe.forEach(_),ae.forEach(_),K=I(N),N.forEach(_),this.h()},h(){A(i,"class","text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-2 py-1 rounded"),A(r,"class","font-medium text-gray-900 dark:text-white"),A(a,"class","flex items-center gap-3 mb-2"),A($,"class","text-gray-500 dark:text-gray-400"),A(U,"class","text-gray-900 dark:text-white"),A(Y,"class","text-gray-500 dark:text-gray-400"),A(ee,"class","text-gray-900 dark:text-white"),A(M,"class","text-gray-500 dark:text-gray-400"),A(oe,"class","text-gray-900 dark:text-white font-medium"),A(p,"class","grid grid-cols-1 md:grid-cols-3 gap-4 text-sm"),A(o,"class","flex-1"),A(t,"class","flex items-start justify-between"),A(e,"class","bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4")},m(W,N){x(W,e,N),m(e,t),m(t,o),m(o,a),m(a,i),m(i,l),m(i,c),m(a,f),m(a,r),m(r,u),m(o,g),m(o,p),m(p,E),m(E,$),m(E,O),m(E,U),m(U,y),m(p,z),m(p,B),m(B,Y),m(B,re),m(B,ee),m(ee,fe),m(p,D),m(p,V),m(V,M),m(V,j),m(V,oe),m(oe,G),m(p,ue),H&&H.m(p,null),m(e,K)},p(W,N){N[0]&4&&n!==(n=(W[50].equipamento_nome||"Equipamento n√£o identificado")+"")&&X(u,n),N[0]&4&&h!==(h=(W[50].categoria||"N√£o informado")+"")&&X(y,h),N[0]&4&&me!==(me=(W[50].numero_ca||"N√£o informado")+"")&&X(fe,me),N[0]&4&&Q!==(Q=W[50].quantidade+"")&&X(G,Q),W[1].tipo_nota==="ENTRADA"&&W[50].custo_unitario?H?H.p(W,N):(H=jt(W),H.c(),H.m(p,null)):H&&(H.d(1),H=null)},d(W){W&&_(e),H&&H.d()}}}function Ht(s){let e,t,o,a,i,l,d,c,f=s[5]===1?"Item":"Itens",r,n,u=s[4]>0&&Jt(s);return{c(){e=b("div"),t=b("div"),o=b("div"),a=b("div"),i=b("div"),l=S(s[5]),d=w(),c=b("div"),r=S(f),n=w(),u&&u.c(),this.h()},l(g){e=v(g,"DIV",{class:!0});var p=k(e);t=v(p,"DIV",{class:!0});var E=k(t);o=v(E,"DIV",{class:!0});var $=k(o);a=v($,"DIV",{class:!0});var F=k(a);i=v(F,"DIV",{class:!0});var O=k(i);l=P(O,s[5]),O.forEach(_),d=I(F),c=v(F,"DIV",{class:!0});var U=k(c);r=P(U,f),U.forEach(_),F.forEach(_),n=I($),u&&u.l($),$.forEach(_),E.forEach(_),p.forEach(_),this.h()},h(){A(i,"class","text-2xl font-bold text-primary-600 dark:text-primary-400"),A(c,"class","text-xs text-primary-600 dark:text-primary-400 font-medium"),A(a,"class","text-center"),A(o,"class","flex items-center gap-6"),A(t,"class","flex items-center justify-between"),A(e,"class","bg-primary-50 dark:bg-primary-900/20 rounded-lg border border-primary-200 dark:border-primary-800 p-4")},m(g,p){x(g,e,p),m(e,t),m(t,o),m(o,a),m(a,i),m(i,l),m(a,d),m(a,c),m(c,r),m(o,n),u&&u.m(o,null)},p(g,p){p[0]&32&&X(l,g[5]),p[0]&32&&f!==(f=g[5]===1?"Item":"Itens")&&X(r,f),g[4]>0?u?u.p(g,p):(u=Jt(g),u.c(),u.m(o,null)):u&&(u.d(1),u=null)},d(g){g&&_(e),u&&u.d()}}}function Jt(s){let e,t,o,a=s[4].toFixed(2)+"",i,l,d,c="Valor Total";return{c(){e=b("div"),t=b("div"),o=S("R$ "),i=S(a),l=w(),d=b("div"),d.textContent=c,this.h()},l(f){e=v(f,"DIV",{class:!0});var r=k(e);t=v(r,"DIV",{class:!0});var n=k(t);o=P(n,"R$ "),i=P(n,a),n.forEach(_),l=I(r),d=v(r,"DIV",{class:!0,"data-svelte-h":!0}),_e(d)!=="svelte-1vt3ayj"&&(d.textContent=c),r.forEach(_),this.h()},h(){A(t,"class","text-2xl font-bold text-green-600 dark:text-green-400"),A(d,"class","text-xs text-green-600 dark:text-green-400 font-medium"),A(e,"class","text-center")},m(f,r){x(f,e,r),m(e,t),m(t,o),m(t,i),m(e,l),m(e,d)},p(f,r){r[0]&16&&a!==(a=f[4].toFixed(2)+"")&&X(i,a)},d(f){f&&_(e)}}}function ra(s){let e,t,o,a,i,l;e=new uo({props:{title:s[16],objectType:"NOTA DE MOVIMENTA√á√ÉO",iconName:"FileDocOutline",status:s[13],statusType:"movimento",additionalInfo:s[12],primaryAction:s[15],secondaryAction:s[14]}}),e.$on("close",s[19]),e.$on("primaryAction",s[18]),e.$on("secondaryAction",s[17]);const d=[Lo,Fo],c=[];function f(r,n){return r[3]?0:1}return o=f(s),a=c[o]=d[o](s),{c(){de(e.$$.fragment),t=w(),a.c(),i=xe()},l(r){se(e.$$.fragment,r),t=I(r),a.l(r),i=xe()},m(r,n){ne(e,r,n),x(r,t,n),c[o].m(r,n),x(r,i,n),l=!0},p(r,n){const u={};n[0]&65536&&(u.title=r[16]),n[0]&8192&&(u.status=r[13]),n[0]&4096&&(u.additionalInfo=r[12]),n[0]&32768&&(u.primaryAction=r[15]),n[0]&16384&&(u.secondaryAction=r[14]),e.$set(u);let g=o;o=f(r),o===g?c[o].p(r,n):(Ae(),L(c[g],1,1,()=>{c[g]=null}),ke(),a=c[o],a?a.p(r,n):(a=c[o]=d[o](r),a.c()),q(a,1),a.m(i.parentNode,i))},i(r){l||(q(e.$$.fragment,r),q(a),l=!0)},o(r){L(e.$$.fragment,r),L(a),l=!1},d(r){r&&(_(t),_(i)),le(e,r),c[o].d(r)}}}function la(s){let e,t,o;function a(l){s[41](l)}let i={placement:"right",width:"w-full max-w-[940px]",backdrop:!0,activateClickOutside:!0,bgOpacity:"bg-black/50",position:"fixed",id:"notas-detail-drawer",class:"drawer-notas",$$slots:{default:[ra]},$$scope:{ctx:s}};return s[6]!==void 0&&(i.hidden=s[6]),e=new co({props:i}),Oe.push(()=>Re(e,"hidden",a)),{c(){de(e.$$.fragment)},l(l){se(e.$$.fragment,l)},m(l,d){ne(e,l,d),o=!0},p(l,d){const c={};d[0]&131007|d[2]&8&&(c.$$scope={dirty:d,ctx:l}),!t&&d[0]&64&&(t=!0,c.hidden=l[6],Ve(()=>t=!1)),e.$set(c)},i(l){o||(q(e.$$.fragment,l),o=!0)},o(l){L(e.$$.fragment,l),o=!1},d(l){le(e,l)}}}function na(s,e,t){let o,a,i,l,d,c,f,r,n,{open:u=!1}=e,{mode:g="create"}=e,{tipo:p="ENTRADA"}=e,{nota:E=null}=e;const $=!1,F=Wt();let O=!u,U=u,h={tipo_nota:"ENTRADA",almoxarifado_origem_id:"",almoxarifado_destino_id:"",observacoes:"",data_documento:new Date().toISOString().split("T")[0],itens:[]},y=[],z=[],B={},Y=!1,J=[],re=[],ee=!1,me=!1;Yt(async()=>{await fe()});async function fe(){var T;t(3,me=!0);try{const C=await Vo.listarAlmoxarifados();if(t(10,J=C.map(R=>{var ce;return{value:R.id,label:R.nome,isPrincipal:R.isPrincipal,unidadeNegocio:(ce=R.unidadeNegocio)==null?void 0:ce.nome}})),J.sort((R,ce)=>R.isPrincipal&&!ce.isPrincipal?-1:!R.isPrincipal&&ce.isPrincipal?1:R.label.localeCompare(ce.label)),t(27,re=J),console.log("üìã NotesDetailDrawer: Almoxarifados carregados:",{original:C.length,options:J.length,principal:((T=J.find(R=>R.isPrincipal))==null?void 0:T.label)||"Nenhum",samples:J.slice(0,2).map(R=>({value:R.value,label:R.label,isPrincipal:R.isPrincipal}))}),(g==="edit"||g==="view")&&E)await D();else if(t(1,h.tipo_nota=p,h),J.length>0){const R=J.find(ce=>ce.isPrincipal)||J[0];h.tipo_nota==="ENTRADA"?h.almoxarifado_destino_id||t(1,h.almoxarifado_destino_id=R.value,h):(h.tipo_nota==="TRANSFERENCIA"||h.tipo_nota==="DESCARTE")&&(h.almoxarifado_origem_id||t(1,h.almoxarifado_origem_id=R.value,h))}}catch(C){if(console.error("Erro ao carregar dados do formul√°rio:",C),t(10,J=[{value:"567a1885-0763-4a13-b9f6-157daa39ddc3",label:"Almoxarifado Central SP",isPrincipal:!0},{value:"1a743859-33e6-4ce3-9158-025dee47922b",label:"Almoxarifado RJ",isPrincipal:!1}]),t(27,re=J),g!=="edit"){t(1,h.tipo_nota=p,h);const R=J[0];p==="ENTRADA"&&!h.almoxarifado_destino_id?t(1,h.almoxarifado_destino_id=R.value,h):(p==="TRANSFERENCIA"&&!h.almoxarifado_origem_id||p==="DESCARTE"&&!h.almoxarifado_origem_id)&&t(1,h.almoxarifado_origem_id=R.value,h)}}finally{t(3,me=!1)}}async function D(){var T;if(E)try{t(1,h={tipo_nota:E.tipo||E.tipo_nota,almoxarifado_origem_id:E.almoxarifado_id||E.almoxarifadoOrigemId||"",almoxarifado_destino_id:E.almoxarifado_destino_id||E.almoxarifadoDestinoId||"",observacoes:E.observacoes||"",data_documento:((T=E.data_documento)==null?void 0:T.split("T")[0])||new Date().toISOString().split("T")[0],itens:[]});const C=E.itens||E._itens||[];if(console.log("üîç Items do backend para processar:",{total:C.length,nota_id:E.id,fonte:E.itens?"nota.itens":E._itens?"nota._itens":"vazio",exemplo_item_raw:C[0]||null}),C&&C.length>0){const{tiposEpiAdapter:R}=await Qe(async()=>{const{tiposEpiAdapter:Z}=await Promise.resolve().then(()=>Eo);return{tiposEpiAdapter:Z}},void 0,import.meta.url),{estoqueItensAdapter:ce}=await Qe(async()=>{const{estoqueItensAdapter:Z}=await import("./BL7Pvbk_.js");return{estoqueItensAdapter:Z}},__vite__mapDeps([0,1,2,3]),import.meta.url),ve=await Promise.all(C.map(async Z=>{console.log("üîç Processando item do backend:",{id:Z.id,custo_original:Z.custo_unitario,custo_tipo:typeof Z.custo_unitario,quantidade:Z.quantidade});const Ee=Z.custo_unitario!=null?Number(Z.custo_unitario):void 0;console.log("üí∞ Convers√£o de custo:",{original:Z.custo_unitario,convertido:Ee,tipo_convertido:typeof Ee});const Ce={temp_id:`existing_${Z.id}`,tipo_epi_id:Z.tipoEpiId||Z.tipo_epi_id,estoque_item_id:Z.estoque_item_id,quantidade:Z.quantidade,custo_unitario:Ee,equipamento_nome:"Equipamento n√£o identificado",categoria:"",numero_ca:"N√£o informado"};try{if(Z.tipoEpiId||Z.tipo_epi_id){const Pe=Z.tipoEpiId||Z.tipo_epi_id;console.log("üîç Buscando dados do tipo EPI:",Pe);const Ne=(await R.obterOpcoesSelectComCache({apenasAtivos:!1})).find(oo=>oo.value===Pe);Ne?(Ce.equipamento_nome=Ne.label,Ce.categoria=Ne.categoria||"",Ce.numero_ca=Ne.numeroCA||"N√£o informado",console.log("‚úÖ Dados do tipo EPI encontrados:",Ne.label)):console.warn("‚ö†Ô∏è Tipo EPI n√£o encontrado para ID:",Pe)}if(Z.estoque_item_id&&h.almoxarifado_origem_id){const qe=(await ce.obterItensDisponiveisComCache(h.almoxarifado_origem_id)).find(Ne=>Ne.value===Z.estoque_item_id);qe&&(Ce.equipamento_nome=qe.label,Ce.categoria=qe.categoria||"",Ce.numero_ca=qe.numeroCA||"N√£o informado",console.log("‚úÖ Dados do estoque encontrados:",qe.label))}}catch(Pe){console.error("‚ùå Erro ao enriquecer item:",Pe)}return Ce}));t(2,y=ve),console.log("‚úÖ Itens enriquecidos processados:",{quantidade:y.length,exemplos:y.slice(0,2).map(Z=>({temp_id:Z.temp_id,equipamento:Z.equipamento_nome,quantidade:Z.quantidade,custo_unitario:Z.custo_unitario,custo_tipo:typeof Z.custo_unitario}))})}}catch(C){console.error("Erro ao carregar dados da nota:",C)}}function V(){const T={tipo_nota:p,almoxarifado_origem_id:"",almoxarifado_destino_id:"",observacoes:"",data_documento:new Date().toISOString().split("T")[0],itens:[]};t(1,h=T),t(2,y=[]),t(8,B={}),t(9,Y=!1),t(7,z=[])}function M(){return t(8,B={}),t(7,z=[]),h.tipo_nota==="TRANSFERENCIA"&&h.almoxarifado_origem_id&&h.almoxarifado_destino_id&&h.almoxarifado_origem_id===h.almoxarifado_destino_id&&t(8,B.almoxarifado_destino_id="Almoxarifado de destino deve ser diferente do origem",B),y.length===0&&t(7,z=["‚ö†Ô∏è Rascunho salvo sem itens - adicione itens antes de concluir"]),Object.keys(B).length===0}function te(){if(t(8,B={}),t(7,z=[]),h.tipo_nota==="ENTRADA"?h.almoxarifado_destino_id||t(8,B.almoxarifado_destino_id="Almoxarifado de destino √© obrigat√≥rio para entrada",B):h.tipo_nota==="TRANSFERENCIA"?(h.almoxarifado_origem_id||t(8,B.almoxarifado_origem_id="Almoxarifado de origem √© obrigat√≥rio para transfer√™ncia",B),h.almoxarifado_destino_id||t(8,B.almoxarifado_destino_id="Almoxarifado de destino √© obrigat√≥rio para transfer√™ncia",B),h.almoxarifado_origem_id===h.almoxarifado_destino_id&&t(8,B.almoxarifado_destino_id="Almoxarifado de destino deve ser diferente do origem",B)):h.tipo_nota==="DESCARTE"&&(h.almoxarifado_origem_id||t(8,B.almoxarifado_origem_id="Almoxarifado de origem √© obrigat√≥rio para descarte",B)),h.data_documento||t(8,B.data_documento="Data do documento √© obrigat√≥ria",B),y.length===0)return t(7,z=["Pelo menos um item deve ser adicionado para concluir a nota"]),!1;if(h.tipo_nota==="ENTRADA"){const T=y.filter(C=>{const R=Number(C.custo_unitario);return!R||R<=0});if(T.length>0)return t(7,z=[`${T.length} ${T.length===1?"item n√£o possui":"itens n√£o possuem"} custo unit√°rio v√°lido`]),!1}return Object.keys(B).length===0}async function j(){if(!M()){t(9,Y=!0);return}t(9,Y=z.length>0),await Q("rascunho")}async function oe(){if(!te()){t(9,Y=!0);return}await Q("concluida")}async function Q(T){var C,R;t(28,ee=!0);try{const ce={tipo_nota:h.tipo_nota,data_documento:h.data_documento};h.observacoes&&h.observacoes.trim()!==""&&(ce.observacoes=h.observacoes.trim()),h.tipo_nota==="ENTRADA"?h.almoxarifado_destino_id&&(ce.almoxarifado_destino_id=h.almoxarifado_destino_id):h.tipo_nota==="TRANSFERENCIA"?(h.almoxarifado_origem_id&&(ce.almoxarifado_origem_id=h.almoxarifado_origem_id),h.almoxarifado_destino_id&&(ce.almoxarifado_destino_id=h.almoxarifado_destino_id)):h.tipo_nota==="DESCARTE"&&h.almoxarifado_origem_id&&(ce.almoxarifado_origem_id=h.almoxarifado_origem_id);let ve;if(g==="create"){const Z=await Ue.criarNota(ce);if(console.log("üìù Resposta da cria√ß√£o da nota:",Z),ve=((C=Z==null?void 0:Z.data)==null?void 0:C.id)||(Z==null?void 0:Z.id)||((R=Z==null?void 0:Z.data)==null?void 0:R.uuid)||(Z==null?void 0:Z.uuid),!ve)throw console.error("‚ùå N√£o foi poss√≠vel extrair o ID da nota criada:",Z),new Error("Erro: ID da nota n√£o encontrado na resposta do servidor");if(console.log("‚úÖ Nota criada com ID:",ve),y.length>0)for(const Ee of y){const Ce={tipo_epi_id:Ee.tipo_epi_id,estoque_item_id:Ee.estoque_item_id,quantidade:Ee.quantidade,custo_unitario:Ee.custo_unitario};await Ue.adicionarItem(ve,Ce)}T==="concluida"&&await Ue.concluirNota(ve)}else{if(!(E!=null&&E.id))throw new Error("ID da nota n√£o encontrado");await Ue.atualizarNota(E.id,{data_documento:ce.data_documento,observacoes:ce.observacoes}),ve=E.id,T==="concluida"&&(console.log("üéØ Concluindo nota editada:",ve),await Ue.concluirNota(ve))}F("salvar",{notaId:ve,modo:T})}catch(ce){throw console.error("Erro ao salvar nota:",ce),ce}finally{t(28,ee=!1)}}function G(){F("close")}function ue(T){t(2,y=T.detail),t(1,h.itens=y,h),y.length>0&&t(7,z=[])}function K(T){T.detail?t(7,z=[T.detail]):t(7,z=[])}const H=T=>T.value===h.almoxarifado_destino_id,W=T=>T.value===h.almoxarifado_origem_id,N=T=>T.value===h.almoxarifado_origem_id,ae=T=>T.value===h.almoxarifado_destino_id;function pe(T){s.$$.not_equal(h.tipo_nota,T)&&(h.tipo_nota=T,t(1,h))}function ge(T){s.$$.not_equal(h.data_documento,T)&&(h.data_documento=T,t(1,h))}function ie(T){s.$$.not_equal(h.almoxarifado_destino_id,T)&&(h.almoxarifado_destino_id=T,t(1,h))}function we(T){s.$$.not_equal(h.almoxarifado_origem_id,T)&&(h.almoxarifado_origem_id=T,t(1,h))}function $e(T){s.$$.not_equal(h.almoxarifado_destino_id,T)&&(h.almoxarifado_destino_id=T,t(1,h))}function he(T){s.$$.not_equal(h.observacoes,T)&&(h.observacoes=T,t(1,h))}function Te(T){y=T,t(2,y)}function De(T){O=T,t(6,O),t(22,u),t(26,U)}return s.$$set=T=>{"open"in T&&t(22,u=T.open),"mode"in T&&t(0,g=T.mode),"tipo"in T&&t(23,p=T.tipo),"nota"in T&&t(24,E=T.nota)},s.$$.update=()=>{s.$$.dirty[0]&71303168&&u!==U&&(t(6,O=!u),t(26,U=u)),s.$$.dirty[0]&4194305&&u&&(g==="create"&&V(),fe()),s.$$.dirty[0]&3&&t(16,o=g==="create"?`Nova Nota - ${Me(h.tipo_nota)}`:g==="edit"?`Editar Nota - ${Me(h.tipo_nota)}`:`Visualizar Nota - ${Me(h.tipo_nota)}`),s.$$.dirty[0]&4&&t(5,a=y.length),s.$$.dirty[0]&4&&t(4,i=y.reduce((T,C)=>{const R=C.custo_unitario!=null&&typeof C.custo_unitario=="number"?C.custo_unitario:0;return T+C.quantidade*R},0)),s.$$.dirty[0]&268435465&&t(29,l=!ee&&!me&&g!=="view"),s.$$.dirty[0]&536870913&&t(15,d=g==="view"?null:{text:"Concluir",icon:"CheckOutline",disabled:!l}),s.$$.dirty[0]&536870913&&t(14,c=g==="view"?null:{text:"Salvar Rascunho",icon:"FloppyDiskOutline",disabled:!l}),s.$$.dirty[0]&16777217&&t(13,f=g==="create"?"NOVA":g==="edit"?"EDITANDO":(E==null?void 0:E.status)||"VISUALIZANDO"),s.$$.dirty[0]&48&&t(12,r=[`${a} ${a===1?"item":"itens"}`,i>0?`R$ ${i.toFixed(2)}`:"Sem valor"]),s.$$.dirty[0]&134217730&&t(11,n=re.filter(T=>T.value!==h.almoxarifado_origem_id))},[g,h,y,me,i,a,O,z,B,Y,J,n,r,f,c,d,o,j,oe,G,ue,K,u,p,E,$,U,re,ee,l,H,W,N,ae,pe,ge,ie,we,$e,he,Te,De]}class Ca extends Qt{constructor(e){super(),Zt(this,e,na,la,Kt,{open:22,mode:0,tipo:23,nota:24,loading:25},null,[-1,-1,-1])}get loading(){return this.$$.ctx[25]}}export{Ca as N,xa as a,ka as b,Me as g,Ue as n};
