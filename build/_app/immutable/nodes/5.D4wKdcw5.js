var Qt=Object.defineProperty;var Jt=(n,e,t)=>e in n?Qt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ke=(n,e,t)=>Jt(n,typeof e!="symbol"?e+"":e,t);import{S as Ge,i as Qe,s as Je,d,m as D,o as y,p as b,C as me,q as ge,b as w,c as _,r as S,u as P,e as C,f as R,w as we,h as O,x as T,j as k,k as V,y as M,_ as et,n as pe,g as z,t as H,a as K,B as ee,M as Wt,R as it,a3 as Se,a7 as Te,a8 as Me,A as Kt,a2 as Xt,l as Xe,z as Mt,v as Yt}from"../chunks/BwBa27U2.js";import"../chunks/IHki7fMi.js";import{d as $e,b as Q,B as Ie,e as Re,u as qt,o as Nt,a as tt}from"../chunks/K6YgHZ2F.js";import"../chunks/BM9Rxo7V.js";import{I as Ot,c as Zt,s as ea,b as Vt,n as Ye}from"../chunks/CW_GOkfj.js";import{a as ta,E as aa,T as Rt,b as Ft,c as xt,R as oa,d as fe,e as zt,f as de,L as je,S as ra,A as na,h as sa,g as la}from"../chunks/AI5XSAlw.js";import{A as ia,a as ca,C as ua}from"../chunks/BrZjT_yD.js";import{P as Ht}from"../chunks/BrDGBN_R.js";import{S as fa}from"../chunks/ywxHNNOO.js";import{S as ct,T as da}from"../chunks/C0bt7z_1.js";import{R as ut}from"../chunks/koz73TMV.js";import{M as Lt}from"../chunks/Bu3-ovug.js";class ma{constructor(){Ke(this,"cache",new Map);Ke(this,"CACHE_DURATION",5*60*1e3)}async getContratadas(e={}){const t=$e("/contratadas",{ativo:e.ativo,page:e.page,limit:e.limit,sort:e.sort,order:e.order});return Q.get(t)}async getContratadaById(e){return Q.get(`/contratadas/${e}`)}async createContratada(e){return Q.post("/contratadas",e)}async updateContratada(e,t){return Q.put(`/contratadas/${e}`,t)}async deleteContratada(e){return Q.delete(`/contratadas/${e}`)}async getColaboradores(e={}){const t=$e("/colaboradores",{contratadaId:e.contratadaId,ativo:e.ativo,includeRelations:e.includeRelations,page:e.page,limit:e.limit,sort:e.sort,order:e.order,search:e.search,...e.filters||{}});return Q.get(t)}async getColaboradoresByContratada(e,t={}){const a=$e("/colaboradores",{contratadaId:e,ativo:t.ativo,includeRelations:t.includeRelations,page:t.page,limit:t.limit,sort:t.sort,order:t.order});return!t.page&&!t.limit?Q.get(a):(await Q.get(a)).data}async getColaboradorById(e,t=!1){const a=$e(`/colaboradores/${e}`,{includeRelations:t});return Q.get(a)}async createColaborador(e){return Q.post("/colaboradores",e)}async updateColaborador(e,t){return Q.put(`/colaboradores/${e}`,t)}async deleteColaborador(e){return Q.delete(`/colaboradores/${e}`)}async getTiposEPI(e={}){try{const t=await Q.get("/tipos-epi",e),a=t.data.items||[];return{data:a,total:t.data.total||a.length,page:e.page||1,pageSize:e.limit||50,totalPages:Math.ceil((t.data.total||a.length)/(e.limit||50))}}catch(t){throw console.error("‚ùå Erro ao buscar tipos EPI:",t),t}}async getTiposEPIByCategoria(e,t={}){const a=$e("/tipos-epi",{categoria:e,ativo:t.ativo,page:t.page,limit:t.limit,sort:t.sort,order:t.order});return!t.page&&!t.limit?Q.get(a):(await Q.get(a)).data}async getTipoEPIById(e){return Q.get(`/tipos-epi/${e}`)}async getTipoEPIByCA(e){try{const t=$e("/tipos-epi/search",{numeroCA:e});return await Q.get(t)}catch{return null}}async createTipoEPI(e){return Q.post("/tipos-epi",e)}async updateTipoEPI(e,t){return Q.put(`/tipos-epi/${e}`,t)}async deleteTipoEPI(e){return Q.delete(`/tipos-epi/${e}`)}async getAlmoxarifados(e={}){try{const t=[{id:"1",nome:"Almoxarifado Central",localizacao:"Setor A - Galp√£o 1",ativo:!0,unidadeNegocioId:"1",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"2",nome:"Almoxarifado Secund√°rio",localizacao:"Setor B - Galp√£o 2",ativo:!0,unidadeNegocioId:"1",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"3",nome:"Almoxarifado Obras",localizacao:"Canteiro - Container 1",ativo:!0,unidadeNegocioId:"1",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}];let a=t;return e.ativo!==void 0&&(a=t.filter(o=>o.ativo===e.ativo)),a}catch(t){throw console.error("‚ùå Erro ao buscar almoxarifados:",t),t}}async getAlmoxarifadoById(e){return Q.get(`/almoxarifados/${e}`)}async createAlmoxarifado(e){return Q.post("/almoxarifados",e)}async updateAlmoxarifado(e,t){return Q.put(`/almoxarifados/${e}`,t)}async deleteAlmoxarifado(e){return Q.delete(`/almoxarifados/${e}`)}async getContratadaWithColaboradores(e){const[t,a]=await Promise.all([this.getContratadaById(e),this.getColaboradoresByContratada(e,{ativo:!0})]);return{...t,colaboradores:a}}async getContratadasWithStats(){const e=await this.getContratadas({ativo:!0});return await Promise.all(e.map(async a=>{const o=await this.getColaboradoresByContratada(a.id),r=o.filter(s=>s.ativo);return{...a,totalColaboradores:o.length,colaboradoresAtivos:r.length}}))}async getTiposEPIMaisUtilizados(e=10){const t=$e("/tipos-epi/mais-utilizados",{limit:e});return Q.get(t)}async getContratadasCached(){const e="contratadas_ativas",t=this.cache.get(e);if(t&&Date.now()-t.timestamp<this.CACHE_DURATION)return t.data;const a=await this.getContratadas({ativo:!0});return this.cache.set(e,{data:a,timestamp:Date.now()}),a}clearCache(){this.cache.clear()}}const ft=new ma;class ga{async getInventoryItems(e={}){var t,a,o,r,s,l,i,f;console.log("üö® ADAPTER CHAMADO: Buscando itens do invent√°rio:",e),console.log("üö® API_BASE_URL atual:","production");try{const p={page:e.page||1,pageSize:e.pageSize||20,...e.search&&{search:e.search},...e.status&&{status:e.status},...e.categoria&&{categoria:e.categoria},...e.includeExpanded&&{includeExpanded:!0}},u=$e("/estoque/itens",p);console.log("üîó URL constru√≠da:",u);const c=await Q.get(u);console.log("üîç Resposta bruta do backend estoque:",c),console.log("üîç Estrutura dos dados:",{hasData:!!c.data,hasItems:!!((t=c.data)!=null&&t.items),itemsLength:(o=(a=c.data)==null?void 0:a.items)==null?void 0:o.length,firstItem:(s=(r=c.data)==null?void 0:r.items)==null?void 0:s[0],pagination:(l=c.data)==null?void 0:l.pagination});const m=((i=c.data)==null?void 0:i.items)||c.items||[];console.log("üîç Items encontrados no backend:",m.length);const I=m.map(E=>({...E,tipoEPI:E.tipoEpi?{...E.tipoEpi,numeroCA:E.tipoEpi.numeroCa||E.tipoEpi.numeroCA,nomeEquipamento:E.tipoEpi.nomeEquipamento||E.tipoEpi.nome,categoria:E.tipoEpi.categoriaEpi||E.tipoEpi.categoria}:void 0,status:(E.status||"DISPONIVEL").toLowerCase(),almoxarifado:E.almoxarifado})),g=((f=c.data)==null?void 0:f.pagination)||c.pagination||{},$={data:I,total:g.total||I.length,page:g.page||e.page||1,pageSize:g.limit||g.pageSize||e.pageSize||20,totalPages:g.totalPages||Math.ceil((g.total||I.length)/(g.limit||g.pageSize||e.pageSize||20))};return console.log("‚úÖ Itens do invent√°rio mapeados:",$),$}catch(p){throw console.error("‚ùå Erro ao buscar itens do invent√°rio:",p),p}}async getItemMovementHistory(e,t={}){console.log("üìä Buscando hist√≥rico do item:",e,t);try{const a={limit:t.limit||100,...t.dataInicio&&{dataInicio:t.dataInicio},...t.dataFim&&{dataFim:t.dataFim}},o=$e(`/estoque/itens/${e}/movimentacoes`,a),r=await Q.get(o);return console.log("‚úÖ Hist√≥rico do item obtido com sucesso:",r.length),r}catch(a){throw console.error("‚ùå Erro ao buscar hist√≥rico do item:",a),a}}async registerMovement(e){console.log("üìù Registrando movimenta√ß√£o:",e);try{const t=await Q.post("/estoque/movimentacoes",e);return console.log("‚úÖ Movimenta√ß√£o registrada com sucesso:",t),t}catch(t){throw console.error("‚ùå Erro ao registrar movimenta√ß√£o:",t),t}}async registerEntry(e){const t={...e,tipoMovimentacao:"ENTRADA_COMPRA"};return this.registerMovement(t)}async registerExit(e){const t={...e,tipoMovimentacao:"SAIDA_ENTREGA"};return this.registerMovement(t)}async registerAdjustment(e){const t={tipoEpiId:e.tipoEpiId,almoxarifadoId:e.almoxarifadoId,quantidade:e.quantidade,observacoes:e.motivo,responsavelId:e.responsavelId,tipoMovimentacao:"AJUSTE_INVENTARIO"};return this.registerMovement(t)}async registerTransfer(e){try{const t=await Q.post("/estoque/transferencias",e);return console.log("‚úÖ Transfer√™ncia registrada com sucesso:",t),t}catch(t){throw console.error("‚ùå Erro ao registrar transfer√™ncia:",t),t}}async criarEstorno(e){try{const t=await Q.post("/estoque/estornos",e);return console.log("‚úÖ Estorno registrado com sucesso:",t),t}catch(t){throw console.error("‚ùå Erro ao criar estorno:",t),t}}clearCache(){console.log("üóëÔ∏è Cache do InventoryCommandAdapter limpo")}}const Ze=new ga;function dt(n,e,t){const a=n.slice();a[27]=e[t];const o=Ha(a[27].status);return a[28]=o,a}function $a(n){let e,t,a;return e=new Ht({props:{class:"w-4 h-4 mr-2"}}),{c(){M(e.$$.fragment),t=H(`
        Nova Movimenta√ß√£o`)},l(o){T(e.$$.fragment,o),t=z(o,`
        Nova Movimenta√ß√£o`)},m(o,r){S(e,o,r),w(o,t,r),a=!0},p:pe,i(o){a||(b(e.$$.fragment,o),a=!0)},o(o){y(e.$$.fragment,o),a=!1},d(o){o&&d(t),D(e,o)}}}function pa(n){let e,t,a,o,r,s,l="Nenhum item encontrado",i,f,p=n[8]||n[9]?"Tente ajustar os filtros ou termo de busca para encontrar itens":"Comece adicionando itens ao estoque atrav√©s de uma nova movimenta√ß√£o",u,c,m,I;return o=new ia({props:{class:"w-8 h-8 text-gray-400"}}),m=new Ie({props:{size:"sm",color:"primary",class:"rounded-sm",$$slots:{default:[ba]},$$scope:{ctx:n}}}),m.$on("click",n[16]),{c(){e=k("div"),t=k("div"),a=k("div"),M(o.$$.fragment),r=V(),s=k("h3"),s.textContent=l,i=V(),f=k("p"),u=H(p),c=V(),M(m.$$.fragment),this.h()},l(g){e=C(g,"DIV",{class:!0});var $=R(e);t=C($,"DIV",{class:!0});var E=R(t);a=C(E,"DIV",{class:!0});var h=R(a);T(o.$$.fragment,h),h.forEach(d),r=O(E),s=C(E,"H3",{class:!0,"data-svelte-h":!0}),we(s)!=="svelte-bz2goa"&&(s.textContent=l),i=O(E),f=C(E,"P",{class:!0});var A=R(f);u=z(A,p),A.forEach(d),c=O(E),T(m.$$.fragment,E),E.forEach(d),$.forEach(d),this.h()},h(){P(a,"class","w-16 h-16 mx-auto mb-4 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center"),P(s,"class","text-lg font-semibold text-gray-900 dark:text-white mb-2"),P(f,"class","text-gray-500 dark:text-gray-400 mb-6 max-w-sm mx-auto"),P(t,"class","text-center py-16 px-6"),P(e,"class","bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700")},m(g,$){w(g,e,$),_(e,t),_(t,a),S(o,a,null),_(t,r),_(t,s),_(t,i),_(t,f),_(f,u),_(t,c),S(m,t,null),I=!0},p(g,$){(!I||$[0]&768)&&p!==(p=g[8]||g[9]?"Tente ajustar os filtros ou termo de busca para encontrar itens":"Comece adicionando itens ao estoque atrav√©s de uma nova movimenta√ß√£o")&&K(u,p);const E={};$[0]&768|$[1]&1&&(E.$$scope={dirty:$,ctx:g}),m.$set(E)},i(g){I||(b(o.$$.fragment,g),b(m.$$.fragment,g),I=!0)},o(g){y(o.$$.fragment,g),y(m.$$.fragment,g),I=!1},d(g){g&&d(e),D(o),D(m)}}}function _a(n){let e,t,a,o,r,s,l,i,f,p,u,c,m,I,g,$,E;r=new fa({props:{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}}),l=new Ot({props:{type:"text",placeholder:"Buscar por equipamento ou CA...",class:"pl-10 rounded-sm h-10 text-sm",value:n[8]}}),l.$on("input",n[10]),f=new ct({props:{options:[{value:"todos",label:"Todos"},{value:"disponivel",label:"Dispon√≠vel"},{value:"indisponivel",label:"Indispon√≠vel"}],value:n[6].status||"todos",placeholder:"Status",class:"min-w-[140px]"}}),f.$on("change",n[19]),u=new ct({props:{options:n[7],value:n[6].categoria||"todas",placeholder:"Categoria",class:"min-w-[140px]"}}),u.$on("change",n[20]);let h=n[9]&&mt(n);g=new Rt({props:{hoverable:!0,$$slots:{default:[Ra]},$$scope:{ctx:n}}});let A=n[5]>1&&$t(n);return{c(){e=k("div"),t=k("div"),a=k("div"),o=k("div"),M(r.$$.fragment),s=V(),M(l.$$.fragment),i=V(),M(f.$$.fragment),p=V(),M(u.$$.fragment),c=V(),h&&h.c(),m=V(),I=k("div"),M(g.$$.fragment),$=V(),A&&A.c(),this.h()},l(v){e=C(v,"DIV",{class:!0});var F=R(e);t=C(F,"DIV",{class:!0});var Z=R(t);a=C(Z,"DIV",{class:!0});var B=R(a);o=C(B,"DIV",{class:!0});var G=R(o);T(r.$$.fragment,G),s=O(G),T(l.$$.fragment,G),G.forEach(d),i=O(B),T(f.$$.fragment,B),p=O(B),T(u.$$.fragment,B),c=O(B),h&&h.l(B),B.forEach(d),Z.forEach(d),m=O(F),I=C(F,"DIV",{class:!0});var j=R(I);T(g.$$.fragment,j),j.forEach(d),$=O(F),A&&A.l(F),F.forEach(d),this.h()},h(){P(o,"class","relative flex-1 max-w-md"),P(a,"class","flex items-center gap-4"),P(t,"class","p-4 border-b border-gray-200 dark:border-gray-700"),P(I,"class","overflow-x-auto"),P(e,"class","bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden")},m(v,F){w(v,e,F),_(e,t),_(t,a),_(a,o),S(r,o,null),_(o,s),S(l,o,null),_(a,i),S(f,a,null),_(a,p),S(u,a,null),_(a,c),h&&h.m(a,null),_(e,m),_(e,I),S(g,I,null),_(e,$),A&&A.m(e,null),E=!0},p(v,F){const Z={};F[0]&256&&(Z.value=v[8]),l.$set(Z);const B={};F[0]&64&&(B.value=v[6].status||"todos"),f.$set(B);const G={};F[0]&128&&(G.options=v[7]),F[0]&64&&(G.value=v[6].categoria||"todas"),u.$set(G),v[9]?h?(h.p(v,F),F[0]&512&&b(h,1)):(h=mt(v),h.c(),b(h,1),h.m(a,null)):h&&(me(),y(h,1,1,()=>{h=null}),ge());const j={};F[0]&1|F[1]&1&&(j.$$scope={dirty:F,ctx:v}),g.$set(j),v[5]>1?A?(A.p(v,F),F[0]&32&&b(A,1)):(A=$t(v),A.c(),b(A,1),A.m(e,null)):A&&(me(),y(A,1,1,()=>{A=null}),ge())},i(v){E||(b(r.$$.fragment,v),b(l.$$.fragment,v),b(f.$$.fragment,v),b(u.$$.fragment,v),b(h),b(g.$$.fragment,v),b(A),E=!0)},o(v){y(r.$$.fragment,v),y(l.$$.fragment,v),y(f.$$.fragment,v),y(u.$$.fragment,v),y(h),y(g.$$.fragment,v),y(A),E=!1},d(v){v&&d(e),D(r),D(l),D(f),D(u),h&&h.d(),D(g),A&&A.d()}}}function ha(n){let e,t;return e=new aa({props:{error:n[2],onRetry:n[18]}}),{c(){M(e.$$.fragment)},l(a){T(e.$$.fragment,a)},m(a,o){S(e,a,o),t=!0},p(a,o){const r={};o[0]&4&&(r.error=a[2]),o[0]&16&&(r.onRetry=a[18]),e.$set(r)},i(a){t||(b(e.$$.fragment,a),t=!0)},o(a){y(e.$$.fragment,a),t=!1},d(a){D(e,a)}}}function va(n){let e,t;return e=new ta({}),{c(){M(e.$$.fragment)},l(a){T(e.$$.fragment,a)},m(a,o){S(e,a,o),t=!0},p:pe,i(a){t||(b(e.$$.fragment,a),t=!0)},o(a){y(e.$$.fragment,a),t=!1},d(a){D(e,a)}}}function ba(n){let e,t,a=n[8]||n[9]?"Nova Movimenta√ß√£o":"Primeira Movimenta√ß√£o",o,r;return e=new Ht({props:{class:"w-4 h-4 mr-2"}}),{c(){M(e.$$.fragment),t=V(),o=H(a)},l(s){T(e.$$.fragment,s),t=O(s),o=z(s,a)},m(s,l){S(e,s,l),w(s,t,l),w(s,o,l),r=!0},p(s,l){(!r||l[0]&768)&&a!==(a=s[8]||s[9]?"Nova Movimenta√ß√£o":"Primeira Movimenta√ß√£o")&&K(o,a)},i(s){r||(b(e.$$.fragment,s),r=!0)},o(s){y(e.$$.fragment,s),r=!1},d(s){s&&(d(t),d(o)),D(e,s)}}}function mt(n){let e,t;return e=new Ie({props:{color:"alternative",class:"rounded-sm h-10 px-3",title:"Limpar Filtros",$$slots:{default:[Ea]},$$scope:{ctx:n}}}),e.$on("click",n[12]),{c(){M(e.$$.fragment)},l(a){T(e.$$.fragment,a)},m(a,o){S(e,a,o),t=!0},p(a,o){const r={};o[1]&1&&(r.$$scope={dirty:o,ctx:a}),e.$set(r)},i(a){t||(b(e.$$.fragment,a),t=!0)},o(a){y(e.$$.fragment,a),t=!1},d(a){D(e,a)}}}function Ea(n){let e,t;return e=new oa({props:{class:"w-4 h-4"}}),{c(){M(e.$$.fragment)},l(a){T(e.$$.fragment,a)},m(a,o){S(e,a,o),t=!0},p:pe,i(a){t||(b(e.$$.fragment,a),t=!0)},o(a){y(e.$$.fragment,a),t=!1},d(a){D(e,a)}}}function wa(n){let e;return{c(){e=H("Equipamento")},l(t){e=z(t,"Equipamento")},m(t,a){w(t,e,a)},d(t){t&&d(e)}}}function Ia(n){let e;return{c(){e=H("Categoria")},l(t){e=z(t,"Categoria")},m(t,a){w(t,e,a)},d(t){t&&d(e)}}}function ya(n){let e;return{c(){e=H("Quantidade")},l(t){e=z(t,"Quantidade")},m(t,a){w(t,e,a)},d(t){t&&d(e)}}}function Aa(n){let e;return{c(){e=H("Status")},l(t){e=z(t,"Status")},m(t,a){w(t,e,a)},d(t){t&&d(e)}}}function Ca(n){let e;return{c(){e=H("A√ß√µes")},l(t){e=z(t,"A√ß√µes")},m(t,a){w(t,e,a)},d(t){t&&d(e)}}}function ka(n){let e,t,a,o,r,s,l,i,f,p;return e=new fe({props:{class:"py-3 px-6 font-semibold text-xs uppercase text-gray-600 dark:text-gray-300",$$slots:{default:[wa]},$$scope:{ctx:n}}}),a=new fe({props:{class:"py-3 px-6 font-semibold text-xs uppercase text-gray-600 dark:text-gray-300 hidden md:table-cell",$$slots:{default:[Ia]},$$scope:{ctx:n}}}),r=new fe({props:{class:"py-3 px-6 font-semibold text-xs uppercase text-gray-600 dark:text-gray-300 text-center",$$slots:{default:[ya]},$$scope:{ctx:n}}}),l=new fe({props:{class:"py-3 px-6 font-semibold text-xs uppercase text-gray-600 dark:text-gray-300 hidden lg:table-cell",$$slots:{default:[Aa]},$$scope:{ctx:n}}}),f=new fe({props:{class:"py-3 px-6 font-semibold text-xs uppercase text-gray-600 dark:text-gray-300 text-center",$$slots:{default:[Ca]},$$scope:{ctx:n}}}),{c(){M(e.$$.fragment),t=V(),M(a.$$.fragment),o=V(),M(r.$$.fragment),s=V(),M(l.$$.fragment),i=V(),M(f.$$.fragment)},l(u){T(e.$$.fragment,u),t=O(u),T(a.$$.fragment,u),o=O(u),T(r.$$.fragment,u),s=O(u),T(l.$$.fragment,u),i=O(u),T(f.$$.fragment,u)},m(u,c){S(e,u,c),w(u,t,c),S(a,u,c),w(u,o,c),S(r,u,c),w(u,s,c),S(l,u,c),w(u,i,c),S(f,u,c),p=!0},p(u,c){const m={};c[1]&1&&(m.$$scope={dirty:c,ctx:u}),e.$set(m);const I={};c[1]&1&&(I.$$scope={dirty:c,ctx:u}),a.$set(I);const g={};c[1]&1&&(g.$$scope={dirty:c,ctx:u}),r.$set(g);const $={};c[1]&1&&($.$$scope={dirty:c,ctx:u}),l.$set($);const E={};c[1]&1&&(E.$$scope={dirty:c,ctx:u}),f.$set(E)},i(u){p||(b(e.$$.fragment,u),b(a.$$.fragment,u),b(r.$$.fragment,u),b(l.$$.fragment,u),b(f.$$.fragment,u),p=!0)},o(u){y(e.$$.fragment,u),y(a.$$.fragment,u),y(r.$$.fragment,u),y(l.$$.fragment,u),y(f.$$.fragment,u),p=!1},d(u){u&&(d(t),d(o),d(s),d(i)),D(e,u),D(a,u),D(r,u),D(l,u),D(f,u)}}}function Pa(n){let e=n[28].label+"",t;return{c(){t=H(e)},l(a){t=z(a,e)},m(a,o){w(a,t,o)},p(a,o){o[0]&1&&e!==(e=a[28].label+"")&&K(t,e)},d(a){a&&d(t)}}}function Da(n){var v,F,Z;let e,t,a,o=(((v=n[27].tipoEPI)==null?void 0:v.nomeEquipamento)||"EPI n√£o encontrado")+"",r,s,l,i,f=(((F=n[27].tipoEPI)==null?void 0:F.numeroCA)||"-")+"",p,u,c,m,I=(((Z=n[27].tipoEPI)==null?void 0:Z.categoria)||"Sem categoria")+"",g,$,E,h,A;return h=new tt({props:{color:n[28].color,class:"w-fit rounded-sm text-xs",$$slots:{default:[Pa]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=k("div"),a=k("p"),r=H(o),s=V(),l=k("p"),i=H("CA "),p=H(f),u=V(),c=k("div"),m=k("p"),g=H(I),$=V(),E=k("div"),M(h.$$.fragment),this.h()},l(B){e=C(B,"DIV",{class:!0});var G=R(e);t=C(G,"DIV",{class:!0});var j=R(t);a=C(j,"P",{class:!0});var Y=R(a);r=z(Y,o),Y.forEach(d),s=O(j),l=C(j,"P",{class:!0});var N=R(l);i=z(N,"CA "),p=z(N,f),N.forEach(d),u=O(j),c=C(j,"DIV",{class:!0});var U=R(c);m=C(U,"P",{class:!0});var X=R(m);g=z(X,I),X.forEach(d),$=O(U),E=C(U,"DIV",{class:!0});var x=R(E);T(h.$$.fragment,x),x.forEach(d),U.forEach(d),j.forEach(d),G.forEach(d),this.h()},h(){P(a,"class","font-medium text-gray-900 dark:text-white truncate"),P(l,"class","text-sm text-gray-500 dark:text-gray-400 truncate"),P(m,"class","text-xs text-gray-500 dark:text-gray-400"),P(E,"class","lg:hidden"),P(c,"class","md:hidden mt-1 space-y-1"),P(t,"class","min-w-0 flex-1"),P(e,"class","flex items-center space-x-3")},m(B,G){w(B,e,G),_(e,t),_(t,a),_(a,r),_(t,s),_(t,l),_(l,i),_(l,p),_(t,u),_(t,c),_(c,m),_(m,g),_(c,$),_(c,E),S(h,E,null),A=!0},p(B,G){var Y,N,U;(!A||G[0]&1)&&o!==(o=(((Y=B[27].tipoEPI)==null?void 0:Y.nomeEquipamento)||"EPI n√£o encontrado")+"")&&K(r,o),(!A||G[0]&1)&&f!==(f=(((N=B[27].tipoEPI)==null?void 0:N.numeroCA)||"-")+"")&&K(p,f),(!A||G[0]&1)&&I!==(I=(((U=B[27].tipoEPI)==null?void 0:U.categoria)||"Sem categoria")+"")&&K(g,I);const j={};G[0]&1&&(j.color=B[28].color),G[0]&1|G[1]&1&&(j.$$scope={dirty:G,ctx:B}),h.$set(j)},i(B){A||(b(h.$$.fragment,B),A=!0)},o(B){y(h.$$.fragment,B),A=!1},d(B){B&&d(e),D(h)}}}function Sa(n){var o;let e,t=(((o=n[27].tipoEPI)==null?void 0:o.categoria)||"-")+"",a;return{c(){e=k("span"),a=H(t),this.h()},l(r){e=C(r,"SPAN",{class:!0});var s=R(e);a=z(s,t),s.forEach(d),this.h()},h(){P(e,"class","text-sm text-gray-900 dark:text-white")},m(r,s){w(r,e,s),_(e,a)},p(r,s){var l;s[0]&1&&t!==(t=(((l=r[27].tipoEPI)==null?void 0:l.categoria)||"-")+"")&&K(a,t)},d(r){r&&d(e)}}}function Ta(n){let e,t=n[27].quantidade+"",a;return{c(){e=k("span"),a=H(t),this.h()},l(o){e=C(o,"SPAN",{class:!0});var r=R(e);a=z(r,t),r.forEach(d),this.h()},h(){P(e,"class","font-semibold text-lg text-gray-900 dark:text-white")},m(o,r){w(o,e,r),_(e,a)},p(o,r){r[0]&1&&t!==(t=o[27].quantidade+"")&&K(a,t)},d(o){o&&d(e)}}}function Ma(n){let e=n[28].label+"",t;return{c(){t=H(e)},l(a){t=z(a,e)},m(a,o){w(a,t,o)},p(a,o){o[0]&1&&e!==(e=a[28].label+"")&&K(t,e)},d(a){a&&d(t)}}}function qa(n){let e,t;return e=new tt({props:{color:n[28].color,class:"w-fit rounded-sm",$$slots:{default:[Ma]},$$scope:{ctx:n}}}),{c(){M(e.$$.fragment)},l(a){T(e.$$.fragment,a)},m(a,o){S(e,a,o),t=!0},p(a,o){const r={};o[0]&1&&(r.color=a[28].color),o[0]&1|o[1]&1&&(r.$$scope={dirty:o,ctx:a}),e.$set(r)},i(a){t||(b(e.$$.fragment,a),t=!0)},o(a){y(e.$$.fragment,a),t=!1},d(a){D(e,a)}}}function Na(n){let e,t,a,o,r,s,l,i,f;a=new ca({props:{class:"w-4 h-4"}});function p(...c){return n[21](n[27],...c)}s=new ua({props:{class:"w-4 h-4"}});function u(...c){return n[22](n[27],...c)}return{c(){e=k("div"),t=k("button"),M(a.$$.fragment),o=V(),r=k("button"),M(s.$$.fragment),this.h()},l(c){e=C(c,"DIV",{class:!0});var m=R(e);t=C(m,"BUTTON",{class:!0,title:!0});var I=R(t);T(a.$$.fragment,I),I.forEach(d),o=O(m),r=C(m,"BUTTON",{class:!0,title:!0});var g=R(r);T(s.$$.fragment,g),g.forEach(d),m.forEach(d),this.h()},h(){P(t,"class","p-2 rounded-md text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:focus:ring-gray-700"),P(t,"title","Ajustar quantidade"),P(r,"class","p-2 rounded-md text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:focus:ring-gray-700"),P(r,"title","Ver hist√≥rico"),P(e,"class","flex items-center justify-center space-x-1")},m(c,m){w(c,e,m),_(e,t),S(a,t,null),_(e,o),_(e,r),S(s,r,null),l=!0,i||(f=[it(t,"click",p),it(r,"click",u)],i=!0)},p(c,m){n=c},i(c){l||(b(a.$$.fragment,c),b(s.$$.fragment,c),l=!0)},o(c){y(a.$$.fragment,c),y(s.$$.fragment,c),l=!1},d(c){c&&d(e),D(a),D(s),i=!1,Wt(f)}}}function Oa(n){let e,t,a,o,r,s,l,i,f,p,u;return e=new de({props:{class:"py-4 px-6",$$slots:{default:[Da]},$$scope:{ctx:n}}}),a=new de({props:{class:"py-4 px-6 hidden md:table-cell",$$slots:{default:[Sa]},$$scope:{ctx:n}}}),r=new de({props:{class:"py-4 px-6 text-center",$$slots:{default:[Ta]},$$scope:{ctx:n}}}),l=new de({props:{class:"py-4 px-6 hidden lg:table-cell",$$slots:{default:[qa]},$$scope:{ctx:n}}}),f=new de({props:{class:"py-4 px-6",$$slots:{default:[Na]},$$scope:{ctx:n}}}),{c(){M(e.$$.fragment),t=V(),M(a.$$.fragment),o=V(),M(r.$$.fragment),s=V(),M(l.$$.fragment),i=V(),M(f.$$.fragment),p=V()},l(c){T(e.$$.fragment,c),t=O(c),T(a.$$.fragment,c),o=O(c),T(r.$$.fragment,c),s=O(c),T(l.$$.fragment,c),i=O(c),T(f.$$.fragment,c),p=O(c)},m(c,m){S(e,c,m),w(c,t,m),S(a,c,m),w(c,o,m),S(r,c,m),w(c,s,m),S(l,c,m),w(c,i,m),S(f,c,m),w(c,p,m),u=!0},p(c,m){const I={};m[0]&1|m[1]&1&&(I.$$scope={dirty:m,ctx:c}),e.$set(I);const g={};m[0]&1|m[1]&1&&(g.$$scope={dirty:m,ctx:c}),a.$set(g);const $={};m[0]&1|m[1]&1&&($.$$scope={dirty:m,ctx:c}),r.$set($);const E={};m[0]&1|m[1]&1&&(E.$$scope={dirty:m,ctx:c}),l.$set(E);const h={};m[0]&1|m[1]&1&&(h.$$scope={dirty:m,ctx:c}),f.$set(h)},i(c){u||(b(e.$$.fragment,c),b(a.$$.fragment,c),b(r.$$.fragment,c),b(l.$$.fragment,c),b(f.$$.fragment,c),u=!0)},o(c){y(e.$$.fragment,c),y(a.$$.fragment,c),y(r.$$.fragment,c),y(l.$$.fragment,c),y(f.$$.fragment,c),u=!1},d(c){c&&(d(t),d(o),d(s),d(i),d(p)),D(e,c),D(a,c),D(r,c),D(l,c),D(f,c)}}}function gt(n,e){let t,a,o;function r(){return e[23](e[27])}return a=new zt({props:{class:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer",$$slots:{default:[Oa]},$$scope:{ctx:e}}}),a.$on("click",r),{key:n,first:null,c(){t=ee(),M(a.$$.fragment),this.h()},l(s){t=ee(),T(a.$$.fragment,s),this.h()},h(){this.first=t},m(s,l){w(s,t,l),S(a,s,l),o=!0},p(s,l){e=s;const i={};l[0]&1|l[1]&1&&(i.$$scope={dirty:l,ctx:e}),a.$set(i)},i(s){o||(b(a.$$.fragment,s),o=!0)},o(s){y(a.$$.fragment,s),o=!1},d(s){s&&d(t),D(a,s)}}}function Va(n){let e=[],t=new Map,a,o,r=Re(n[0]);const s=l=>l[27].id;for(let l=0;l<r.length;l+=1){let i=dt(n,r,l),f=s(i);t.set(f,e[l]=gt(f,i))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();a=ee()},l(l){for(let i=0;i<e.length;i+=1)e[i].l(l);a=ee()},m(l,i){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(l,i);w(l,a,i),o=!0},p(l,i){i[0]&24577&&(r=Re(l[0]),me(),e=qt(e,i,s,1,l,r,t,a.parentNode,Nt,gt,a,dt),ge())},i(l){if(!o){for(let i=0;i<r.length;i+=1)b(e[i]);o=!0}},o(l){for(let i=0;i<e.length;i+=1)y(e[i]);o=!1},d(l){l&&d(a);for(let i=0;i<e.length;i+=1)e[i].d(l)}}}function Ra(n){let e,t,a,o;return e=new Ft({props:{class:"bg-gray-50 dark:bg-gray-700",$$slots:{default:[ka]},$$scope:{ctx:n}}}),a=new xt({props:{class:"divide-y divide-gray-200 dark:divide-gray-700",$$slots:{default:[Va]},$$scope:{ctx:n}}}),{c(){M(e.$$.fragment),t=V(),M(a.$$.fragment)},l(r){T(e.$$.fragment,r),t=O(r),T(a.$$.fragment,r)},m(r,s){S(e,r,s),w(r,t,s),S(a,r,s),o=!0},p(r,s){const l={};s[1]&1&&(l.$$scope={dirty:s,ctx:r}),e.$set(l);const i={};s[0]&1|s[1]&1&&(i.$$scope={dirty:s,ctx:r}),a.$set(i)},i(r){o||(b(e.$$.fragment,r),b(a.$$.fragment,r),o=!0)},o(r){y(e.$$.fragment,r),y(a.$$.fragment,r),o=!1},d(r){r&&d(t),D(e,r),D(a,r)}}}function $t(n){let e,t,a,o=(n[4]-1)*20+1+"",r,s,l=Math.min(n[4]*20,n[3])+"",i,f,p,u,c,m,I,g,$,E;return I=new Ie({props:{size:"sm",color:"alternative",class:"rounded-sm",disabled:n[4]===1,$$slots:{default:[Fa]},$$scope:{ctx:n}}}),I.$on("click",n[24]),$=new Ie({props:{size:"sm",color:"alternative",class:"rounded-sm",disabled:n[4]===n[5],$$slots:{default:[xa]},$$scope:{ctx:n}}}),$.$on("click",n[25]),{c(){e=k("div"),t=k("div"),a=H("Mostrando "),r=H(o),s=H(" a "),i=H(l),f=H(" de "),p=H(n[3]),u=H(" resultados"),c=V(),m=k("div"),M(I.$$.fragment),g=V(),M($.$$.fragment),this.h()},l(h){e=C(h,"DIV",{class:!0});var A=R(e);t=C(A,"DIV",{class:!0});var v=R(t);a=z(v,"Mostrando "),r=z(v,o),s=z(v," a "),i=z(v,l),f=z(v," de "),p=z(v,n[3]),u=z(v," resultados"),v.forEach(d),c=O(A),m=C(A,"DIV",{class:!0});var F=R(m);T(I.$$.fragment,F),g=O(F),T($.$$.fragment,F),F.forEach(d),A.forEach(d),this.h()},h(){P(t,"class","text-sm text-gray-600 dark:text-gray-400"),P(m,"class","flex gap-2"),P(e,"class","flex items-center justify-between px-6 py-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700")},m(h,A){w(h,e,A),_(e,t),_(t,a),_(t,r),_(t,s),_(t,i),_(t,f),_(t,p),_(t,u),_(e,c),_(e,m),S(I,m,null),_(m,g),S($,m,null),E=!0},p(h,A){(!E||A[0]&16)&&o!==(o=(h[4]-1)*20+1+"")&&K(r,o),(!E||A[0]&24)&&l!==(l=Math.min(h[4]*20,h[3])+"")&&K(i,l),(!E||A[0]&8)&&K(p,h[3]);const v={};A[0]&16&&(v.disabled=h[4]===1),A[1]&1&&(v.$$scope={dirty:A,ctx:h}),I.$set(v);const F={};A[0]&48&&(F.disabled=h[4]===h[5]),A[1]&1&&(F.$$scope={dirty:A,ctx:h}),$.$set(F)},i(h){E||(b(I.$$.fragment,h),b($.$$.fragment,h),E=!0)},o(h){y(I.$$.fragment,h),y($.$$.fragment,h),E=!1},d(h){h&&d(e),D(I),D($)}}}function Fa(n){let e;return{c(){e=H("Anterior")},l(t){e=z(t,"Anterior")},m(t,a){w(t,e,a)},d(t){t&&d(e)}}}function xa(n){let e;return{c(){e=H("Pr√≥ximo")},l(t){e=z(t,"Pr√≥ximo")},m(t,a){w(t,e,a)},d(t){t&&d(e)}}}function za(n){let e,t,a,o='<h1 class="text-2xl font-bold text-gray-900 dark:text-white">Estoque</h1> <p class="text-gray-600 dark:text-gray-400">Controle de estoque e movimenta√ß√µes</p>',r,s,l,i,f,p,u;l=new Ie({props:{size:"sm",color:"primary",class:"rounded-sm",$$slots:{default:[$a]},$$scope:{ctx:n}}}),l.$on("click",n[16]);const c=[va,ha,_a,pa],m=[];function I(g,$){return g[1]?0:g[2]?1:g[0].length>0?2:3}return f=I(n),p=m[f]=c[f](n),{c(){e=k("div"),t=k("div"),a=k("div"),a.innerHTML=o,r=V(),s=k("div"),M(l.$$.fragment),i=V(),p.c(),this.h()},l(g){e=C(g,"DIV",{class:!0});var $=R(e);t=C($,"DIV",{class:!0});var E=R(t);a=C(E,"DIV",{"data-svelte-h":!0}),we(a)!=="svelte-183crrt"&&(a.innerHTML=o),r=O(E),s=C(E,"DIV",{class:!0});var h=R(s);T(l.$$.fragment,h),h.forEach(d),E.forEach(d),i=O($),p.l($),$.forEach(d),this.h()},h(){P(s,"class","flex gap-3"),P(t,"class","flex items-center justify-between"),P(e,"class","p-6 space-y-6")},m(g,$){w(g,e,$),_(e,t),_(t,a),_(t,r),_(t,s),S(l,s,null),_(e,i),m[f].m(e,null),u=!0},p(g,$){const E={};$[1]&1&&(E.$$scope={dirty:$,ctx:g}),l.$set(E);let h=f;f=I(g),f===h?m[f].p(g,$):(me(),y(m[h],1,1,()=>{m[h]=null}),ge(),p=m[f],p?p.p(g,$):(p=m[f]=c[f](g),p.c()),b(p,1),p.m(e,null))},i(g){u||(b(l.$$.fragment,g),b(p),u=!0)},o(g){y(l.$$.fragment,g),y(p),u=!1},d(g){g&&d(e),D(l),m[f].d()}}}function Ha(n){switch(n==null?void 0:n.toLowerCase()){case"disponivel":case"ativo":return{color:"green",label:"Dispon√≠vel"};case"baixo":return{color:"yellow",label:"Estoque baixo"};case"indisponivel":case"inativo":return{color:"red",label:"Indispon√≠vel"};case"vencendo":return{color:"orange",label:"Pr√≥ximo ao vencimento"};case"vencido":return{color:"red",label:"Vencido"};case"esgotado":case"zero":return{color:"gray",label:"Esgotado"};default:return{color:"blue",label:n||"Indefinido"}}}function La(n,e,t){let a,{items:o=[]}=e,{loading:r=!1}=e,{error:s=null}=e,{total:l=0}=e,{page:i=1}=e,{totalPages:f=1}=e,{searchTerm:p=""}=e,{filters:u}=e,{categoriaOptions:c=[]}=e;const m=et();let I="";function g(x){const W=x.target.value;t(8,I=W),m("searchChange",{value:W})}function $(x,W){m("filterChange",{key:x,value:W})}function E(){t(8,I=""),m("clearFilters")}function h(x){m("itemEdit",{item:x})}function A(x){m("itemHistory",{item:x})}function v(x){m("pageChange",{page:x})}function F(){m("newMovement")}const Z=()=>v(i),B=x=>$("status",x.detail),G=x=>$("categoria",x.detail),j=(x,W)=>{W.stopPropagation(),h(x)},Y=(x,W)=>{W.stopPropagation(),A(x)},N=x=>h(x),U=()=>v(i-1),X=()=>v(i+1);return n.$$set=x=>{"items"in x&&t(0,o=x.items),"loading"in x&&t(1,r=x.loading),"error"in x&&t(2,s=x.error),"total"in x&&t(3,l=x.total),"page"in x&&t(4,i=x.page),"totalPages"in x&&t(5,f=x.totalPages),"searchTerm"in x&&t(17,p=x.searchTerm),"filters"in x&&t(6,u=x.filters),"categoriaOptions"in x&&t(7,c=x.categoriaOptions)},n.$$.update=()=>{n.$$.dirty[0]&7&&console.log("üé® PRESENTER: items recebidos:",{itemsLength:(o==null?void 0:o.length)||0,items:o,loading:r,error:s}),n.$$.dirty[0]&131328&&p!==void 0&&p!==I&&t(8,I=p),n.$$.dirty[0]&320&&t(9,a=I||u.status&&u.status!=="todos"||u.categoria&&u.categoria!=="todas")},[o,r,s,l,i,f,u,c,I,a,g,$,E,h,A,v,F,p,Z,B,G,j,Y,N,U,X]}class Ba extends Ge{constructor(e){super(),Qe(this,e,La,za,Je,{items:0,loading:1,error:2,total:3,page:4,totalPages:5,searchTerm:17,filters:6,categoriaOptions:7},null,[-1,-1])}}function pt(n){var st;let e,t,a,o,r=(((st=n[1].tipoEPI)==null?void 0:st.nomeEquipamento)||"EPI n√£o encontrado")+"",s,l,i,f,p=n[1].quantidade+"",u,c,m,I,g,$,E,h,A,v,F,Z,B,G,j,Y,N,U,X,x,W,oe,_e,ie,ce,he=n[3].tipo==="entrada"?"+":"-",ye,qe,Fe,re,xe,ze,He,ne,ue,Le,se,q,le,ve;$=new je({props:{class:"mb-3 block",$$slots:{default:[Ua]},$$scope:{ctx:n}}});function Bt(L){n[9](L)}let at={name:"tipo",value:"entrada",class:"mr-2"};n[3].tipo!==void 0&&(at.group=n[3].tipo),v=new ut({props:at}),Se.push(()=>Te(v,"group",Bt)),B=new je({props:{class:"text-sm font-normal",$$slots:{default:[ja]},$$scope:{ctx:n}}});function Ut(L){n[10](L)}let ot={name:"tipo",value:"saida",class:"mr-2"};n[3].tipo!==void 0&&(ot.group=n[3].tipo),Y=new ut({props:ot}),Se.push(()=>Te(Y,"group",Ut)),X=new je({props:{class:"text-sm font-normal",$$slots:{default:[Ga]},$$scope:{ctx:n}}}),oe=new je({props:{for:"quantidade",class:"mb-2",$$slots:{default:[Qa]},$$scope:{ctx:n}}});function jt(L){n[11](L)}let rt={id:"quantidade",type:"number",min:"1",step:"1",size:"sm",class:"rounded-sm pl-8",color:n[4].quantidade?"red":"base"};n[3].quantidade!==void 0&&(rt.value=n[3].quantidade),re=new Ot({props:rt}),Se.push(()=>Te(re,"value",jt)),re.$on("input",n[8]);let te=n[4].quantidade&&_t(n);ue=new je({props:{for:"motivo",class:"mb-2",$$slots:{default:[Ja]},$$scope:{ctx:n}}});function Gt(L){n[12](L)}let nt={id:"motivo",placeholder:"Descreva o motivo da movimenta√ß√£o...",rows:"2",class:"rounded-sm resize-none",color:n[4].motivo?"red":"base"};n[3].motivo!==void 0&&(nt.value=n[3].motivo),se=new da({props:nt}),Se.push(()=>Te(se,"value",Gt)),se.$on("input",ao);let ae=n[4].motivo&&ht(n);return{c(){e=k("div"),t=k("div"),a=k("div"),o=k("h4"),s=H(r),l=V(),i=k("span"),f=H("Estoque atual = "),u=H(p),c=V(),m=k("div"),I=k("div"),g=k("div"),M($.$$.fragment),E=V(),h=k("div"),A=k("div"),M(v.$$.fragment),Z=V(),M(B.$$.fragment),G=V(),j=k("div"),M(Y.$$.fragment),U=V(),M(X.$$.fragment),x=V(),W=k("div"),M(oe.$$.fragment),_e=V(),ie=k("div"),ce=k("span"),ye=H(he),Fe=V(),M(re.$$.fragment),ze=V(),te&&te.c(),He=V(),ne=k("div"),M(ue.$$.fragment),Le=V(),M(se.$$.fragment),le=V(),ae&&ae.c(),this.h()},l(L){e=C(L,"DIV",{class:!0});var J=R(e);t=C(J,"DIV",{class:!0});var Be=R(t);a=C(Be,"DIV",{class:!0});var Ae=R(a);o=C(Ae,"H4",{class:!0});var Ue=R(o);s=z(Ue,r),Ue.forEach(d),l=O(Ae),i=C(Ae,"SPAN",{class:!0});var Ne=R(i);f=z(Ne,"Estoque atual = "),u=z(Ne,p),Ne.forEach(d),Ae.forEach(d),Be.forEach(d),c=O(J),m=C(J,"DIV",{class:!0});var Ce=R(m);I=C(Ce,"DIV",{class:!0});var ke=R(I);g=C(ke,"DIV",{});var be=R(g);T($.$$.fragment,be),E=O(be),h=C(be,"DIV",{class:!0});var Pe=R(h);A=C(Pe,"DIV",{class:!0});var Ee=R(A);T(v.$$.fragment,Ee),Z=O(Ee),T(B.$$.fragment,Ee),Ee.forEach(d),G=O(Pe),j=C(Pe,"DIV",{class:!0});var De=R(j);T(Y.$$.fragment,De),U=O(De),T(X.$$.fragment,De),De.forEach(d),Pe.forEach(d),be.forEach(d),x=O(ke),W=C(ke,"DIV",{});var Oe=R(W);T(oe.$$.fragment,Oe),_e=O(Oe),ie=C(Oe,"DIV",{class:!0});var We=R(ie);ce=C(We,"SPAN",{class:!0});var lt=R(ce);ye=z(lt,he),lt.forEach(d),Fe=O(We),T(re.$$.fragment,We),We.forEach(d),ze=O(Oe),te&&te.l(Oe),Oe.forEach(d),ke.forEach(d),He=O(Ce),ne=C(Ce,"DIV",{});var Ve=R(ne);T(ue.$$.fragment,Ve),Le=O(Ve),T(se.$$.fragment,Ve),le=O(Ve),ae&&ae.l(Ve),Ve.forEach(d),Ce.forEach(d),J.forEach(d),this.h()},h(){P(o,"class","font-medium text-gray-900 dark:text-white"),P(i,"class","text-sm font-light text-gray-600 dark:text-gray-400"),P(a,"class","flex items-center justify-between"),P(t,"class","bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"),P(A,"class","flex items-center"),P(j,"class","flex items-center"),P(h,"class","flex gap-6"),P(ce,"class",qe="absolute left-3 top-1/2 transform -translate-y-1/2 "+(n[3].tipo==="entrada"?"text-green-600":"text-red-600")+" font-medium"),P(ie,"class","relative"),P(I,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),P(m,"class","space-y-4"),P(e,"class","space-y-4")},m(L,J){w(L,e,J),_(e,t),_(t,a),_(a,o),_(o,s),_(a,l),_(a,i),_(i,f),_(i,u),_(e,c),_(e,m),_(m,I),_(I,g),S($,g,null),_(g,E),_(g,h),_(h,A),S(v,A,null),_(A,Z),S(B,A,null),_(h,G),_(h,j),S(Y,j,null),_(j,U),S(X,j,null),_(I,x),_(I,W),S(oe,W,null),_(W,_e),_(W,ie),_(ie,ce),_(ce,ye),_(ie,Fe),S(re,ie,null),_(W,ze),te&&te.m(W,null),_(m,He),_(m,ne),S(ue,ne,null),_(ne,Le),S(se,ne,null),_(ne,le),ae&&ae.m(ne,null),ve=!0},p(L,J){var De;(!ve||J&2)&&r!==(r=(((De=L[1].tipoEPI)==null?void 0:De.nomeEquipamento)||"EPI n√£o encontrado")+"")&&K(s,r),(!ve||J&2)&&p!==(p=L[1].quantidade+"")&&K(u,p);const Be={};J&262144&&(Be.$$scope={dirty:J,ctx:L}),$.$set(Be);const Ae={};!F&&J&8&&(F=!0,Ae.group=L[3].tipo,Me(()=>F=!1)),v.$set(Ae);const Ue={};J&262144&&(Ue.$$scope={dirty:J,ctx:L}),B.$set(Ue);const Ne={};!N&&J&8&&(N=!0,Ne.group=L[3].tipo,Me(()=>N=!1)),Y.$set(Ne);const Ce={};J&262144&&(Ce.$$scope={dirty:J,ctx:L}),X.$set(Ce);const ke={};J&262144&&(ke.$$scope={dirty:J,ctx:L}),oe.$set(ke),(!ve||J&8)&&he!==(he=L[3].tipo==="entrada"?"+":"-")&&K(ye,he),(!ve||J&8&&qe!==(qe="absolute left-3 top-1/2 transform -translate-y-1/2 "+(L[3].tipo==="entrada"?"text-green-600":"text-red-600")+" font-medium"))&&P(ce,"class",qe);const be={};J&16&&(be.color=L[4].quantidade?"red":"base"),!xe&&J&8&&(xe=!0,be.value=L[3].quantidade,Me(()=>xe=!1)),re.$set(be),L[4].quantidade?te?te.p(L,J):(te=_t(L),te.c(),te.m(W,null)):te&&(te.d(1),te=null);const Pe={};J&262144&&(Pe.$$scope={dirty:J,ctx:L}),ue.$set(Pe);const Ee={};J&16&&(Ee.color=L[4].motivo?"red":"base"),!q&&J&8&&(q=!0,Ee.value=L[3].motivo,Me(()=>q=!1)),se.$set(Ee),L[4].motivo?ae?ae.p(L,J):(ae=ht(L),ae.c(),ae.m(ne,null)):ae&&(ae.d(1),ae=null)},i(L){ve||(b($.$$.fragment,L),b(v.$$.fragment,L),b(B.$$.fragment,L),b(Y.$$.fragment,L),b(X.$$.fragment,L),b(oe.$$.fragment,L),b(re.$$.fragment,L),b(ue.$$.fragment,L),b(se.$$.fragment,L),ve=!0)},o(L){y($.$$.fragment,L),y(v.$$.fragment,L),y(B.$$.fragment,L),y(Y.$$.fragment,L),y(X.$$.fragment,L),y(oe.$$.fragment,L),y(re.$$.fragment,L),y(ue.$$.fragment,L),y(se.$$.fragment,L),ve=!1},d(L){L&&d(e),D($),D(v),D(B),D(Y),D(X),D(oe),D(re),te&&te.d(),D(ue),D(se),ae&&ae.d()}}}function Ua(n){let e;return{c(){e=H("Tipo de Movimenta√ß√£o *")},l(t){e=z(t,"Tipo de Movimenta√ß√£o *")},m(t,a){w(t,e,a)},d(t){t&&d(e)}}}function ja(n){let e;return{c(){e=H("Aumentar")},l(t){e=z(t,"Aumentar")},m(t,a){w(t,e,a)},d(t){t&&d(e)}}}function Ga(n){let e;return{c(){e=H("Retirar")},l(t){e=z(t,"Retirar")},m(t,a){w(t,e,a)},d(t){t&&d(e)}}}function Qa(n){let e;return{c(){e=H("Quantidade *")},l(t){e=z(t,"Quantidade *")},m(t,a){w(t,e,a)},d(t){t&&d(e)}}}function _t(n){let e,t=n[4].quantidade+"",a;return{c(){e=k("p"),a=H(t),this.h()},l(o){e=C(o,"P",{class:!0});var r=R(e);a=z(r,t),r.forEach(d),this.h()},h(){P(e,"class","text-red-600 text-xs mt-1")},m(o,r){w(o,e,r),_(e,a)},p(o,r){r&16&&t!==(t=o[4].quantidade+"")&&K(a,t)},d(o){o&&d(e)}}}function Ja(n){let e;return{c(){e=H("Motivo *")},l(t){e=z(t,"Motivo *")},m(t,a){w(t,e,a)},d(t){t&&d(e)}}}function ht(n){let e,t=n[4].motivo+"",a;return{c(){e=k("p"),a=H(t),this.h()},l(o){e=C(o,"P",{class:!0});var r=R(e);a=z(r,t),r.forEach(d),this.h()},h(){P(e,"class","text-red-600 text-xs mt-1")},m(o,r){w(o,e,r),_(e,a)},p(o,r){r&16&&t!==(t=o[4].motivo+"")&&K(a,t)},d(o){o&&d(e)}}}function Wa(n){let e,t,a=n[1]&&pt(n);return{c(){a&&a.c(),e=ee()},l(o){a&&a.l(o),e=ee()},m(o,r){a&&a.m(o,r),w(o,e,r),t=!0},p(o,r){o[1]?a?(a.p(o,r),r&2&&b(a,1)):(a=pt(o),a.c(),b(a,1),a.m(e.parentNode,e)):a&&(me(),y(a,1,1,()=>{a=null}),ge())},i(o){t||(b(a),t=!0)},o(o){y(a),t=!1},d(o){o&&d(e),a&&a.d(o)}}}function vt(n){let e,t,a,o,r;return t=new Ie({props:{color:"alternative",class:"rounded-sm",disabled:n[2],$$slots:{default:[Ka]},$$scope:{ctx:n}}}),t.$on("click",n[7]),o=new Ie({props:{color:"primary",class:"rounded-sm",disabled:n[2],$$slots:{default:[Za]},$$scope:{ctx:n}}}),o.$on("click",n[6]),{c(){e=k("div"),M(t.$$.fragment),a=V(),M(o.$$.fragment),this.h()},l(s){e=C(s,"DIV",{class:!0});var l=R(e);T(t.$$.fragment,l),a=O(l),T(o.$$.fragment,l),l.forEach(d),this.h()},h(){P(e,"class","flex items-center gap-3")},m(s,l){w(s,e,l),S(t,e,null),_(e,a),S(o,e,null),r=!0},p(s,l){const i={};l&4&&(i.disabled=s[2]),l&262144&&(i.$$scope={dirty:l,ctx:s}),t.$set(i);const f={};l&4&&(f.disabled=s[2]),l&262148&&(f.$$scope={dirty:l,ctx:s}),o.$set(f)},i(s){r||(b(t.$$.fragment,s),b(o.$$.fragment,s),r=!0)},o(s){y(t.$$.fragment,s),y(o.$$.fragment,s),r=!1},d(s){s&&d(e),D(t),D(o)}}}function Ka(n){let e;return{c(){e=H("Cancelar")},l(t){e=z(t,"Cancelar")},m(t,a){w(t,e,a)},d(t){t&&d(e)}}}function Xa(n){let e;return{c(){e=H("Salvar Movimenta√ß√£o")},l(t){e=z(t,"Salvar Movimenta√ß√£o")},m(t,a){w(t,e,a)},d(t){t&&d(e)}}}function Ya(n){let e,t=`<svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
              Salvando...`;return{c(){e=k("div"),e.innerHTML=t,this.h()},l(a){e=C(a,"DIV",{class:!0,"data-svelte-h":!0}),we(e)!=="svelte-1x71bel"&&(e.innerHTML=t),this.h()},h(){P(e,"class","flex items-center")},m(a,o){w(a,e,o)},d(a){a&&d(e)}}}function Za(n){let e;function t(r,s){return r[2]?Ya:Xa}let a=t(n),o=a(n);return{c(){o.c(),e=ee()},l(r){o.l(r),e=ee()},m(r,s){o.m(r,s),w(r,e,s)},p(r,s){a!==(a=t(r))&&(o.d(1),o=a(r),o&&(o.c(),o.m(e.parentNode,e)))},d(r){r&&d(e),o.d(r)}}}function eo(n){let e,t,a=n[1]&&vt(n);return{c(){a&&a.c(),e=ee()},l(o){a&&a.l(o),e=ee()},m(o,r){a&&a.m(o,r),w(o,e,r),t=!0},p(o,r){o[1]?a?(a.p(o,r),r&2&&b(a,1)):(a=vt(o),a.c(),b(a,1),a.m(e.parentNode,e)):a&&(me(),y(a,1,1,()=>{a=null}),ge())},i(o){t||(b(a),t=!0)},o(o){y(a),t=!1},d(o){o&&d(e),a&&a.d(o)}}}function to(n){let e,t,a;function o(s){n[13](s)}let r={title:n[5],size:"md",autoclose:!1,outsideclose:!1,$$slots:{footer:[eo],default:[Wa]},$$scope:{ctx:n}};return n[0]!==void 0&&(r.open=n[0]),e=new Lt({props:r}),Se.push(()=>Te(e,"open",o)),{c(){M(e.$$.fragment)},l(s){T(e.$$.fragment,s)},m(s,l){S(e,s,l),a=!0},p(s,[l]){const i={};l&32&&(i.title=s[5]),l&262174&&(i.$$scope={dirty:l,ctx:s}),!t&&l&1&&(t=!0,i.open=s[0],Me(()=>t=!1)),e.$set(i)},i(s){a||(b(e.$$.fragment,s),a=!0)},o(s){y(e.$$.fragment,s),a=!1},d(s){D(e,s)}}}function ao(n){const e=n.target;e.style.height="auto",e.style.height=Math.max(40,e.scrollHeight)+"px"}function oo(n,e,t){let a,{item:o=null}=e,{loading:r=!1}=e,{show:s=!0}=e;const l=et();let i={tipo:"entrada",quantidade:0,motivo:""},f={};function p(){t(3,i={tipo:"entrada",quantidade:0,motivo:""}),t(4,f={})}function u(){const v={};return(!i.quantidade||i.quantidade===0)&&(v.quantidade="Quantidade √© obrigat√≥ria e deve ser diferente de zero"),i.motivo.trim()||(v.motivo="Motivo √© obrigat√≥rio"),t(4,f=v),Object.keys(v).length===0}function c(){u()&&(l("save",{tipoEPIId:(o==null?void 0:o.tipoEPIId)||"",almoxarifadoId:(o==null?void 0:o.almoxarifadoId)||"",tipoMovimentacao:i.tipo==="entrada"?"AJUSTE_POSITIVO":"AJUSTE_NEGATIVO",quantidade:i.quantidade,motivo:i.motivo,observacoes:"",itemEstoqueId:o==null?void 0:o.id}),m())}function m(){t(0,s=!1),l("cancel")}function I(v){const F=v.target;t(3,i.quantidade=parseFloat(F.value)||0,i)}function g(v){n.$$.not_equal(i.tipo,v)&&(i.tipo=v,t(3,i))}function $(v){n.$$.not_equal(i.tipo,v)&&(i.tipo=v,t(3,i))}function E(v){n.$$.not_equal(i.quantidade,v)&&(i.quantidade=v,t(3,i))}function h(v){n.$$.not_equal(i.motivo,v)&&(i.motivo=v,t(3,i))}function A(v){s=v,t(0,s)}return n.$$set=v=>{"item"in v&&t(1,o=v.item),"loading"in v&&t(2,r=v.loading),"show"in v&&t(0,s=v.show)},n.$$.update=()=>{n.$$.dirty&3&&s&&o&&p(),n.$$.dirty&8&&(i.tipo==="entrada"?`${i.quantidade}`:`${i.quantidade}`),n.$$.dirty&2&&t(5,a=o?"Ajustar Estoque":"Nova Movimenta√ß√£o")},[s,o,r,i,f,a,c,m,I,g,$,E,h,A]}class ro extends Ge{constructor(e){super(),Qe(this,e,oo,to,Je,{item:1,loading:2,show:0})}}function bt(n,e,t){const a=n.slice();return a[13]=e[t],a}function Et(n,e,t){const a=n.slice();return a[16]=e[t],a}function wt(n){var l,i;let e,t=(((l=n[1].tipoEPI)==null?void 0:l.nomeEquipamento)||"Item")+"",a,o,r=(((i=n[1].tipoEPI)==null?void 0:i.numero_ca)||"N/A")+"",s;return{c(){e=k("p"),a=H(t),o=H(" - CA: "),s=H(r),this.h()},l(f){e=C(f,"P",{class:!0});var p=R(e);a=z(p,t),o=z(p," - CA: "),s=z(p,r),p.forEach(d),this.h()},h(){P(e,"class","text-sm text-gray-600 dark:text-gray-400 mt-1")},m(f,p){w(f,e,p),_(e,a),_(e,o),_(e,s)},p(f,p){var u,c;p&2&&t!==(t=(((u=f[1].tipoEPI)==null?void 0:u.nomeEquipamento)||"Item")+"")&&K(a,t),p&2&&r!==(r=(((c=f[1].tipoEPI)==null?void 0:c.numero_ca)||"N/A")+"")&&K(s,r)},d(f){f&&d(e)}}}function It(n){let e,t=n[16].label+"",a;return{c(){e=k("option"),a=H(t),this.h()},l(o){e=C(o,"OPTION",{});var r=R(e);a=z(r,t),r.forEach(d),this.h()},h(){e.__value=n[16].value,Xt(e,e.__value)},m(o,r){w(o,e,r),_(e,a)},p:pe,d(o){o&&d(e)}}}function no(n){let e,t=Re(n[6]),a=[];for(let o=0;o<t.length;o+=1)a[o]=It(Et(n,t,o));return{c(){for(let o=0;o<a.length;o+=1)a[o].c();e=ee()},l(o){for(let r=0;r<a.length;r+=1)a[r].l(o);e=ee()},m(o,r){for(let s=0;s<a.length;s+=1)a[s]&&a[s].m(o,r);w(o,e,r)},p(o,r){if(r&64){t=Re(o[6]);let s;for(s=0;s<t.length;s+=1){const l=Et(o,t,s);a[s]?a[s].p(l,r):(a[s]=It(l),a[s].c(),a[s].m(e.parentNode,e))}for(;s<a.length;s+=1)a[s].d(1);a.length=t.length}},d(o){o&&d(e),Kt(a,o)}}}function so(n){var I;let e,t,a,o,r,s,l=n[2].length+"",i,f,p,u=((I=n[6].find(n[10]))==null?void 0:I.label.toLowerCase())+"",c,m;return t=new Rt({props:{$$slots:{default:[Ao]},$$scope:{ctx:n}}}),{c(){e=k("div"),M(t.$$.fragment),a=V(),o=k("div"),r=k("div"),s=k("strong"),i=H(l),f=H(" movimenta√ß√µes encontradas no per√≠odo de "),p=k("strong"),c=H(u),this.h()},l(g){e=C(g,"DIV",{class:!0});var $=R(e);T(t.$$.fragment,$),$.forEach(d),a=O(g),o=C(g,"DIV",{class:!0});var E=R(o);r=C(E,"DIV",{class:!0});var h=R(r);s=C(h,"STRONG",{});var A=R(s);i=z(A,l),A.forEach(d),f=z(h," movimenta√ß√µes encontradas no per√≠odo de "),p=C(h,"STRONG",{});var v=R(p);c=z(v,u),v.forEach(d),h.forEach(d),E.forEach(d),this.h()},h(){P(e,"class","overflow-x-auto max-h-96"),P(r,"class","text-sm text-gray-600 dark:text-gray-400"),P(o,"class","bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mt-4")},m(g,$){w(g,e,$),S(t,e,null),w(g,a,$),w(g,o,$),_(o,r),_(r,s),_(s,i),_(r,f),_(r,p),_(p,c),m=!0},p(g,$){var h;const E={};$&524292&&(E.$$scope={dirty:$,ctx:g}),t.$set(E),(!m||$&4)&&l!==(l=g[2].length+"")&&K(i,l),(!m||$&32)&&u!==(u=((h=g[6].find(g[10]))==null?void 0:h.label.toLowerCase())+"")&&K(c,u)},i(g){m||(b(t.$$.fragment,g),m=!0)},o(g){y(t.$$.fragment,g),m=!1},d(g){g&&(d(e),d(a),d(o)),D(t)}}}function lo(n){let e,t='<div class="text-gray-400 mb-2"><svg class="w-12 h-12 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></div> <p class="text-gray-600 dark:text-gray-400">Nenhuma movimenta√ß√£o encontrada no per√≠odo selecionado</p>';return{c(){e=k("div"),e.innerHTML=t,this.h()},l(a){e=C(a,"DIV",{class:!0,"data-svelte-h":!0}),we(e)!=="svelte-xosige"&&(e.innerHTML=t),this.h()},h(){P(e,"class","text-center py-12")},m(a,o){w(a,e,o)},p:pe,i:pe,o:pe,d(a){a&&d(e)}}}function io(n){let e,t,a,o,r="Carregando hist√≥rico...",s;return t=new sa({props:{size:"6",color:"blue"}}),{c(){e=k("div"),M(t.$$.fragment),a=V(),o=k("span"),o.textContent=r,this.h()},l(l){e=C(l,"DIV",{class:!0});var i=R(e);T(t.$$.fragment,i),a=O(i),o=C(i,"SPAN",{class:!0,"data-svelte-h":!0}),we(o)!=="svelte-1ad32rw"&&(o.textContent=r),i.forEach(d),this.h()},h(){P(o,"class","ml-3 text-gray-600 dark:text-gray-400"),P(e,"class","flex items-center justify-center py-12")},m(l,i){w(l,e,i),S(t,e,null),_(e,a),_(e,o),s=!0},p:pe,i(l){s||(b(t.$$.fragment,l),s=!0)},o(l){y(t.$$.fragment,l),s=!1},d(l){l&&d(e),D(t)}}}function co(n){let e,t;return e=new na({props:{color:"red",class:"rounded-sm",$$slots:{default:[Co]},$$scope:{ctx:n}}}),{c(){M(e.$$.fragment)},l(a){T(e.$$.fragment,a)},m(a,o){S(e,a,o),t=!0},p(a,o){const r={};o&524304&&(r.$$scope={dirty:o,ctx:a}),e.$set(r)},i(a){t||(b(e.$$.fragment,a),t=!0)},o(a){y(e.$$.fragment,a),t=!1},d(a){D(e,a)}}}function uo(n){let e;return{c(){e=H("Data")},l(t){e=z(t,"Data")},m(t,a){w(t,e,a)},d(t){t&&d(e)}}}function fo(n){let e;return{c(){e=H("Tipo")},l(t){e=z(t,"Tipo")},m(t,a){w(t,e,a)},d(t){t&&d(e)}}}function mo(n){let e;return{c(){e=H("Quantidade")},l(t){e=z(t,"Quantidade")},m(t,a){w(t,e,a)},d(t){t&&d(e)}}}function go(n){let e;return{c(){e=H("Motivo")},l(t){e=z(t,"Motivo")},m(t,a){w(t,e,a)},d(t){t&&d(e)}}}function $o(n){let e;return{c(){e=H("Usu√°rio")},l(t){e=z(t,"Usu√°rio")},m(t,a){w(t,e,a)},d(t){t&&d(e)}}}function po(n){let e,t,a,o,r,s,l,i,f,p;return e=new fe({props:{class:"text-left",$$slots:{default:[uo]},$$scope:{ctx:n}}}),a=new fe({props:{class:"text-left",$$slots:{default:[fo]},$$scope:{ctx:n}}}),r=new fe({props:{class:"text-center",$$slots:{default:[mo]},$$scope:{ctx:n}}}),l=new fe({props:{class:"text-left",$$slots:{default:[go]},$$scope:{ctx:n}}}),f=new fe({props:{class:"text-left",$$slots:{default:[$o]},$$scope:{ctx:n}}}),{c(){M(e.$$.fragment),t=V(),M(a.$$.fragment),o=V(),M(r.$$.fragment),s=V(),M(l.$$.fragment),i=V(),M(f.$$.fragment)},l(u){T(e.$$.fragment,u),t=O(u),T(a.$$.fragment,u),o=O(u),T(r.$$.fragment,u),s=O(u),T(l.$$.fragment,u),i=O(u),T(f.$$.fragment,u)},m(u,c){S(e,u,c),w(u,t,c),S(a,u,c),w(u,o,c),S(r,u,c),w(u,s,c),S(l,u,c),w(u,i,c),S(f,u,c),p=!0},p(u,c){const m={};c&524288&&(m.$$scope={dirty:c,ctx:u}),e.$set(m);const I={};c&524288&&(I.$$scope={dirty:c,ctx:u}),a.$set(I);const g={};c&524288&&(g.$$scope={dirty:c,ctx:u}),r.$set(g);const $={};c&524288&&($.$$scope={dirty:c,ctx:u}),l.$set($);const E={};c&524288&&(E.$$scope={dirty:c,ctx:u}),f.$set(E)},i(u){p||(b(e.$$.fragment,u),b(a.$$.fragment,u),b(r.$$.fragment,u),b(l.$$.fragment,u),b(f.$$.fragment,u),p=!0)},o(u){y(e.$$.fragment,u),y(a.$$.fragment,u),y(r.$$.fragment,u),y(l.$$.fragment,u),y(f.$$.fragment,u),p=!1},d(u){u&&(d(t),d(o),d(s),d(i)),D(e,u),D(a,u),D(r,u),D(l,u),D(f,u)}}}function _o(n){let e,t=At(n[13].dataMovimentacao)+"",a;return{c(){e=k("div"),a=H(t),this.h()},l(o){e=C(o,"DIV",{class:!0});var r=R(e);a=z(r,t),r.forEach(d),this.h()},h(){P(e,"class","text-sm")},m(o,r){w(o,e,r),_(e,a)},p(o,r){r&4&&t!==(t=At(o[13].dataMovimentacao)+"")&&K(a,t)},d(o){o&&d(e)}}}function ho(n){let e=kt(n[13].tipoMovimentacao)+"",t;return{c(){t=H(e)},l(a){t=z(a,e)},m(a,o){w(a,t,o)},p(a,o){o&4&&e!==(e=kt(a[13].tipoMovimentacao)+"")&&K(t,e)},d(a){a&&d(t)}}}function vo(n){let e,t;return e=new tt({props:{color:Ct(n[13].tipoMovimentacao),class:"w-fit rounded-sm text-xs",$$slots:{default:[ho]},$$scope:{ctx:n}}}),{c(){M(e.$$.fragment)},l(a){T(e.$$.fragment,a)},m(a,o){S(e,a,o),t=!0},p(a,o){const r={};o&4&&(r.color=Ct(a[13].tipoMovimentacao)),o&524292&&(r.$$scope={dirty:o,ctx:a}),e.$set(r)},i(a){t||(b(e.$$.fragment,a),t=!0)},o(a){y(e.$$.fragment,a),t=!1},d(a){D(e,a)}}}function bo(n){let e,t=Pt(n[13].quantidade,n[13].tipoMovimentacao)+"",a,o;return{c(){e=k("span"),a=H(t),this.h()},l(r){e=C(r,"SPAN",{class:!0});var s=R(e);a=z(s,t),s.forEach(d),this.h()},h(){P(e,"class",o="font-semibold "+Dt(n[13].quantidade,n[13].tipoMovimentacao))},m(r,s){w(r,e,s),_(e,a)},p(r,s){s&4&&t!==(t=Pt(r[13].quantidade,r[13].tipoMovimentacao)+"")&&K(a,t),s&4&&o!==(o="font-semibold "+Dt(r[13].quantidade,r[13].tipoMovimentacao))&&P(e,"class",o)},d(r){r&&d(e)}}}function Eo(n){let e,t=(n[13].motivo||"-")+"",a,o;return{c(){e=k("div"),a=H(t),this.h()},l(r){e=C(r,"DIV",{class:!0,title:!0});var s=R(e);a=z(s,t),s.forEach(d),this.h()},h(){P(e,"class","text-sm text-gray-700 dark:text-gray-300 max-w-xs truncate"),P(e,"title",o=n[13].motivo)},m(r,s){w(r,e,s),_(e,a)},p(r,s){s&4&&t!==(t=(r[13].motivo||"-")+"")&&K(a,t),s&4&&o!==(o=r[13].motivo)&&P(e,"title",o)},d(r){r&&d(e)}}}function wo(n){var o;let e,t=(((o=n[13].usuario)==null?void 0:o.nome)||"Sistema")+"",a;return{c(){e=k("div"),a=H(t),this.h()},l(r){e=C(r,"DIV",{class:!0});var s=R(e);a=z(s,t),s.forEach(d),this.h()},h(){P(e,"class","text-sm text-gray-700 dark:text-gray-300")},m(r,s){w(r,e,s),_(e,a)},p(r,s){var l;s&4&&t!==(t=(((l=r[13].usuario)==null?void 0:l.nome)||"Sistema")+"")&&K(a,t)},d(r){r&&d(e)}}}function Io(n){let e,t,a,o,r,s,l,i,f,p,u;return e=new de({props:{class:"font-medium",$$slots:{default:[_o]},$$scope:{ctx:n}}}),a=new de({props:{$$slots:{default:[vo]},$$scope:{ctx:n}}}),r=new de({props:{class:"text-center",$$slots:{default:[bo]},$$scope:{ctx:n}}}),l=new de({props:{$$slots:{default:[Eo]},$$scope:{ctx:n}}}),f=new de({props:{$$slots:{default:[wo]},$$scope:{ctx:n}}}),{c(){M(e.$$.fragment),t=V(),M(a.$$.fragment),o=V(),M(r.$$.fragment),s=V(),M(l.$$.fragment),i=V(),M(f.$$.fragment),p=V()},l(c){T(e.$$.fragment,c),t=O(c),T(a.$$.fragment,c),o=O(c),T(r.$$.fragment,c),s=O(c),T(l.$$.fragment,c),i=O(c),T(f.$$.fragment,c),p=O(c)},m(c,m){S(e,c,m),w(c,t,m),S(a,c,m),w(c,o,m),S(r,c,m),w(c,s,m),S(l,c,m),w(c,i,m),S(f,c,m),w(c,p,m),u=!0},p(c,m){const I={};m&524292&&(I.$$scope={dirty:m,ctx:c}),e.$set(I);const g={};m&524292&&(g.$$scope={dirty:m,ctx:c}),a.$set(g);const $={};m&524292&&($.$$scope={dirty:m,ctx:c}),r.$set($);const E={};m&524292&&(E.$$scope={dirty:m,ctx:c}),l.$set(E);const h={};m&524292&&(h.$$scope={dirty:m,ctx:c}),f.$set(h)},i(c){u||(b(e.$$.fragment,c),b(a.$$.fragment,c),b(r.$$.fragment,c),b(l.$$.fragment,c),b(f.$$.fragment,c),u=!0)},o(c){y(e.$$.fragment,c),y(a.$$.fragment,c),y(r.$$.fragment,c),y(l.$$.fragment,c),y(f.$$.fragment,c),u=!1},d(c){c&&(d(t),d(o),d(s),d(i),d(p)),D(e,c),D(a,c),D(r,c),D(l,c),D(f,c)}}}function yt(n,e){let t,a,o;return a=new zt({props:{$$slots:{default:[Io]},$$scope:{ctx:e}}}),{key:n,first:null,c(){t=ee(),M(a.$$.fragment),this.h()},l(r){t=ee(),T(a.$$.fragment,r),this.h()},h(){this.first=t},m(r,s){w(r,t,s),S(a,r,s),o=!0},p(r,s){e=r;const l={};s&524292&&(l.$$scope={dirty:s,ctx:e}),a.$set(l)},i(r){o||(b(a.$$.fragment,r),o=!0)},o(r){y(a.$$.fragment,r),o=!1},d(r){r&&d(t),D(a,r)}}}function yo(n){let e=[],t=new Map,a,o,r=Re(n[2]);const s=l=>l[13].id;for(let l=0;l<r.length;l+=1){let i=bt(n,r,l),f=s(i);t.set(f,e[l]=yt(f,i))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();a=ee()},l(l){for(let i=0;i<e.length;i+=1)e[i].l(l);a=ee()},m(l,i){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(l,i);w(l,a,i),o=!0},p(l,i){i&4&&(r=Re(l[2]),me(),e=qt(e,i,s,1,l,r,t,a.parentNode,Nt,yt,a,bt),ge())},i(l){if(!o){for(let i=0;i<r.length;i+=1)b(e[i]);o=!0}},o(l){for(let i=0;i<e.length;i+=1)y(e[i]);o=!1},d(l){l&&d(a);for(let i=0;i<e.length;i+=1)e[i].d(l)}}}function Ao(n){let e,t,a,o;return e=new Ft({props:{$$slots:{default:[po]},$$scope:{ctx:n}}}),a=new xt({props:{$$slots:{default:[yo]},$$scope:{ctx:n}}}),{c(){M(e.$$.fragment),t=V(),M(a.$$.fragment)},l(r){T(e.$$.fragment,r),t=O(r),T(a.$$.fragment,r)},m(r,s){S(e,r,s),w(r,t,s),S(a,r,s),o=!0},p(r,s){const l={};s&524288&&(l.$$scope={dirty:s,ctx:r}),e.$set(l);const i={};s&524292&&(i.$$scope={dirty:s,ctx:r}),a.$set(i)},i(r){o||(b(e.$$.fragment,r),b(a.$$.fragment,r),o=!0)},o(r){y(e.$$.fragment,r),y(a.$$.fragment,r),o=!1},d(r){r&&d(t),D(e,r),D(a,r)}}}function Co(n){let e,t="Erro:",a,o;return{c(){e=k("span"),e.textContent=t,a=V(),o=H(n[4]),this.h()},l(r){e=C(r,"SPAN",{class:!0,"data-svelte-h":!0}),we(e)!=="svelte-12d8ej4"&&(e.textContent=t),a=O(r),o=z(r,n[4]),this.h()},h(){P(e,"class","font-medium")},m(r,s){w(r,e,s),w(r,a,s),w(r,o,s)},p(r,s){s&16&&K(o,r[4])},d(r){r&&(d(e),d(a),d(o))}}}function ko(n){let e;return{c(){e=H("Fechar")},l(t){e=z(t,"Fechar")},m(t,a){w(t,e,a)},d(t){t&&d(e)}}}function Po(n){let e,t,a,o="Hist√≥rico de Movimenta√ß√µes",r,s,l,i,f="Per√≠odo:",p,u,c,m,I,g,$,E,h,A,v,F=n[1]&&wt(n);function Z(N){n[9](N)}let B={id:"period",size:"sm",class:"rounded-sm w-40",$$slots:{default:[no]},$$scope:{ctx:n}};n[5]!==void 0&&(B.value=n[5]),u=new ra({props:B}),Se.push(()=>Te(u,"value",Z)),u.$on("change",n[8]);const G=[co,io,lo,so],j=[];function Y(N,U){return N[4]?0:N[3]?1:N[2].length===0?2:3}return g=Y(n),$=j[g]=G[g](n),A=new Ie({props:{size:"sm",color:"light",class:"rounded-sm",$$slots:{default:[ko]},$$scope:{ctx:n}}}),A.$on("click",n[7]),{c(){e=k("div"),t=k("div"),a=k("h3"),a.textContent=o,r=V(),F&&F.c(),s=V(),l=k("div"),i=k("label"),i.textContent=f,p=V(),M(u.$$.fragment),m=V(),I=k("div"),$.c(),E=V(),h=k("div"),M(A.$$.fragment),this.h()},l(N){e=C(N,"DIV",{class:!0});var U=R(e);t=C(U,"DIV",{});var X=R(t);a=C(X,"H3",{class:!0,"data-svelte-h":!0}),we(a)!=="svelte-1mf7509"&&(a.textContent=o),r=O(X),F&&F.l(X),X.forEach(d),s=O(U),l=C(U,"DIV",{class:!0});var x=R(l);i=C(x,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),we(i)!=="svelte-pgps0p"&&(i.textContent=f),p=O(x),T(u.$$.fragment,x),x.forEach(d),U.forEach(d),m=O(N),I=C(N,"DIV",{class:!0});var W=R(I);$.l(W),W.forEach(d),E=O(N),h=C(N,"DIV",{class:!0});var oe=R(h);T(A.$$.fragment,oe),oe.forEach(d),this.h()},h(){P(a,"class","text-xl font-semibold text-gray-900 dark:text-white"),P(i,"for","period"),P(i,"class","text-sm font-medium text-gray-700 dark:text-gray-300"),P(l,"class","flex items-center gap-2"),P(e,"class","flex items-center justify-between mb-4"),P(I,"class","space-y-4"),P(h,"class","flex justify-end pt-4 border-t border-gray-200 dark:border-gray-600 mt-6")},m(N,U){w(N,e,U),_(e,t),_(t,a),_(t,r),F&&F.m(t,null),_(e,s),_(e,l),_(l,i),_(l,p),S(u,l,null),w(N,m,U),w(N,I,U),j[g].m(I,null),w(N,E,U),w(N,h,U),S(A,h,null),v=!0},p(N,U){N[1]?F?F.p(N,U):(F=wt(N),F.c(),F.m(t,null)):F&&(F.d(1),F=null);const X={};U&524288&&(X.$$scope={dirty:U,ctx:N}),!c&&U&32&&(c=!0,X.value=N[5],Me(()=>c=!1)),u.$set(X);let x=g;g=Y(N),g===x?j[g].p(N,U):(me(),y(j[x],1,1,()=>{j[x]=null}),ge(),$=j[g],$?$.p(N,U):($=j[g]=G[g](N),$.c()),b($,1),$.m(I,null));const W={};U&524288&&(W.$$scope={dirty:U,ctx:N}),A.$set(W)},i(N){v||(b(u.$$.fragment,N),b($),b(A.$$.fragment,N),v=!0)},o(N){y(u.$$.fragment,N),y($),y(A.$$.fragment,N),v=!1},d(N){N&&(d(e),d(m),d(I),d(E),d(h)),F&&F.d(),D(u),j[g].d(),D(A)}}}function Do(n){let e,t,a;function o(s){n[11](s)}let r={size:"xl",autoclose:!1,class:"w-full max-w-4xl",$$slots:{default:[Po]},$$scope:{ctx:n}};return n[0]!==void 0&&(r.open=n[0]),e=new Lt({props:r}),Se.push(()=>Te(e,"open",o)),e.$on("close",n[7]),{c(){M(e.$$.fragment)},l(s){T(e.$$.fragment,s)},m(s,l){S(e,s,l),a=!0},p(s,[l]){const i={};l&524350&&(i.$$scope={dirty:l,ctx:s}),!t&&l&1&&(t=!0,i.open=s[0],Me(()=>t=!1)),e.$set(i)},i(s){a||(b(e.$$.fragment,s),a=!0)},o(s){y(e.$$.fragment,s),a=!1},d(s){D(e,s)}}}function At(n){return n?new Date(n).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}function Ct(n){return n.includes("ENTRADA")||n.includes("DEVOLUCAO")?"green":n.includes("SAIDA")||n.includes("ENTREGA")?"blue":n.includes("AJUSTE_POSITIVO")?"green":n.includes("AJUSTE_NEGATIVO")?"yellow":n.includes("DESCARTE")?"red":n.includes("ESTORNO")?"purple":"gray"}function kt(n){switch(n){case"ENTRADA_NOTA":return"Entrada por Nota";case"SAIDA_ENTREGA":return"Sa√≠da para Entrega";case"ENTRADA_DEVOLUCAO":return"Entrada por Devolu√ß√£o";case"SAIDA_TRANSFERENCIA":return"Sa√≠da por Transfer√™ncia";case"ENTRADA_TRANSFERENCIA":return"Entrada por Transfer√™ncia";case"SAIDA_DESCARTE":return"Descarte";case"AJUSTE_POSITIVO":return"Ajuste Positivo";case"AJUSTE_NEGATIVO":return"Ajuste Negativo";case"ESTORNO_ENTRADA_NOTA":return"Estorno de Entrada";case"ESTORNO_SAIDA_ENTREGA":return"Estorno de Sa√≠da";default:return n||"N/A"}}function Pt(n,e){return`${e.includes("ENTRADA")||e.includes("AJUSTE_POSITIVO")||e.includes("DEVOLUCAO")?"+":"-"}${Math.abs(n)}`}function Dt(n,e){return e.includes("ENTRADA")||e.includes("AJUSTE_POSITIVO")||e.includes("DEVOLUCAO")?"text-green-600":"text-red-600"}function So(n,e,t){let{item:a=null}=e,{movimentacoes:o=[]}=e,{loading:r=!1}=e,{error:s=null}=e,{show:l=!0}=e;const i=et();let f="30";const p=[{value:"7",label:"√öltimos 7 dias"},{value:"30",label:"√öltimos 30 dias"},{value:"90",label:"√öltimos 90 dias"}];function u(){i("close")}function c($){const E=$.target;t(5,f=E.value)}function m($){f=$,t(5,f)}const I=$=>$.value===f;function g($){l=$,t(0,l)}return n.$$set=$=>{"item"in $&&t(1,a=$.item),"movimentacoes"in $&&t(2,o=$.movimentacoes),"loading"in $&&t(3,r=$.loading),"error"in $&&t(4,s=$.error),"show"in $&&t(0,l=$.show)},n.$$.update=()=>{n.$$.dirty&32&&f&&i("filterChange",{period:f})},[l,a,o,r,s,f,p,u,c,m,I,g]}class To extends Ge{constructor(e){super(),Qe(this,e,So,Do,Je,{item:1,movimentacoes:2,loading:3,error:4,show:0})}}function St(n){let e,t;return e=new ro({props:{item:n[3],tiposEPI:n[9],almoxarifados:n[0],loading:n[5],show:n[1]}}),e.$on("save",n[19]),e.$on("cancel",n[20]),{c(){M(e.$$.fragment)},l(a){T(e.$$.fragment,a)},m(a,o){S(e,a,o),t=!0},p(a,o){const r={};o[0]&8&&(r.item=a[3]),o[0]&512&&(r.tiposEPI=a[9]),o[0]&1&&(r.almoxarifados=a[0]),o[0]&32&&(r.loading=a[5]),o[0]&2&&(r.show=a[1]),e.$set(r)},i(a){t||(b(e.$$.fragment,a),t=!0)},o(a){y(e.$$.fragment,a),t=!1},d(a){D(e,a)}}}function Tt(n){let e,t;return e=new To({props:{item:n[4],movimentacoes:n[8],loading:n[6],error:n[7],show:n[2]}}),e.$on("close",n[21]),e.$on("filterChange",n[22]),{c(){M(e.$$.fragment)},l(a){T(e.$$.fragment,a)},m(a,o){S(e,a,o),t=!0},p(a,o){const r={};o[0]&16&&(r.item=a[4]),o[0]&256&&(r.movimentacoes=a[8]),o[0]&64&&(r.loading=a[6]),o[0]&128&&(r.error=a[7]),o[0]&4&&(r.show=a[2]),e.$set(r)},i(a){t||(b(e.$$.fragment,a),t=!0)},o(a){y(e.$$.fragment,a),t=!1},d(a){D(e,a)}}}function Mo(n){let e,t,a,o,r;e=new Ba({props:{items:n[10].items,loading:n[10].loading,error:n[10].error,total:n[10].pagination.total,page:n[10].pagination.currentPage,totalPages:n[10].pagination.totalPages,searchTerm:n[10].filters.searchTerm,filters:{status:n[10].filters.statusFilter,categoria:n[10].filters.categoriaFilter},categoriaOptions:n[10].filterOptions.categorias}}),e.$on("searchChange",n[35]),e.$on("filterChange",n[36]),e.$on("clearFilters",n[15]),e.$on("pageChange",n[37]),e.$on("itemEdit",n[38]),e.$on("itemHistory",n[39]),e.$on("newMovement",n[23]);let s=n[1]&&St(n),l=n[2]&&Tt(n);return{c(){M(e.$$.fragment),t=V(),s&&s.c(),a=V(),l&&l.c(),o=ee()},l(i){T(e.$$.fragment,i),t=O(i),s&&s.l(i),a=O(i),l&&l.l(i),o=ee()},m(i,f){S(e,i,f),w(i,t,f),s&&s.m(i,f),w(i,a,f),l&&l.m(i,f),w(i,o,f),r=!0},p(i,f){const p={};f[0]&1024&&(p.items=i[10].items),f[0]&1024&&(p.loading=i[10].loading),f[0]&1024&&(p.error=i[10].error),f[0]&1024&&(p.total=i[10].pagination.total),f[0]&1024&&(p.page=i[10].pagination.currentPage),f[0]&1024&&(p.totalPages=i[10].pagination.totalPages),f[0]&1024&&(p.searchTerm=i[10].filters.searchTerm),f[0]&1024&&(p.filters={status:i[10].filters.statusFilter,categoria:i[10].filters.categoriaFilter}),f[0]&1024&&(p.categoriaOptions=i[10].filterOptions.categorias),e.$set(p),i[1]?s?(s.p(i,f),f[0]&2&&b(s,1)):(s=St(i),s.c(),b(s,1),s.m(a.parentNode,a)):s&&(me(),y(s,1,1,()=>{s=null}),ge()),i[2]?l?(l.p(i,f),f[0]&4&&b(l,1)):(l=Tt(i),l.c(),b(l,1),l.m(o.parentNode,o)):l&&(me(),y(l,1,1,()=>{l=null}),ge())},i(i){r||(b(e.$$.fragment,i),b(s),b(l),r=!0)},o(i){y(e.$$.fragment,i),y(s),y(l),r=!1},d(i){i&&(d(t),d(a),d(o)),D(e,i),s&&s.d(i),l&&l.d(i)}}}function qo(n){const e=new Date,t=parseInt(n);return new Date(e.getTime()-t*24*60*60*1e3).toISOString().split("T")[0]}function No(n,e,t){let a,o,r,s,l,i,f;Xe(n,Zt,q=>t(33,i=q)),Xe(n,ea,q=>t(34,f=q));let{initialPageSize:p=20}=e;const u=!1,c=3e4,m=la(q=>Ze.getInventoryItems({...q,includeExpanded:!0}),{initialPageSize:p});Xe(n,m,q=>t(32,l=q));let I=!1,g=!1,$=null,E=null,h=!1,A=!1,v=null,F=[],Z="30",B=[],G=[];Mt(async()=>{console.log("üö® CONTAINER INICIADO: InventoryContainer carregando..."),await Vt.initialize(),await Y(),console.log("üö® CHAMANDO loadInventoryData..."),await j(),console.log("‚úÖ InventoryContainer: Inicializado com sucesso")});async function j(){try{await m.fetchPage(),console.log("üì¶ Dados de invent√°rio carregados")}catch(q){console.error("‚ùå Erro ao carregar invent√°rio:",q),Ye.error("Erro ao carregar invent√°rio","N√£o foi poss√≠vel carregar os dados do estoque")}}async function Y(){try{const[q,le]=await Promise.all([ft.getTiposEPI({ativo:!0}),ft.getAlmoxarifados({ativo:!0})]);t(9,B=q.data||[]),t(0,G=le),console.log(`üìã Carregados ${B.length} tipos EPI e ${G.length} almoxarifados`)}catch(q){console.error("‚ùå Erro ao carregar dados auxiliares:",q)}}let N={status:"todos",categoria:"todas"},U="";function X(q){t(28,U=q),_e()}function x(q){t(27,N={...N,status:q}),_e()}function W(q){t(27,N={...N,categoria:q}),_e()}function oe(){t(28,U=""),t(27,N={status:"todos",categoria:"todas"}),_e()}function _e(){const q={};U&&U.trim()!==""&&(q.search=U.trim()),N.status&&N.status!=="todos"&&(q.status=N.status),N.categoria&&N.categoria!=="todas"&&(q.categoria=N.categoria),console.log("üîß Aplicando filtros:",q),m.setFilters(q)}function ie(q){m.goToPage(q)}function ce(q){t(3,$=q.detail.item),t(1,I=!0),console.log("‚úèÔ∏è Editando item:",$.id)}async function he(q){t(4,E=q.detail.item),t(2,g=!0),await ye(),console.log("üìä Abrindo hist√≥rico do item:",E.id)}async function ye(){if(E){t(6,A=!0),t(7,v=null);try{const q=await Ze.getItemMovementHistory(E.id,{limit:100,dataInicio:qo(Z)});t(8,F=q),console.log(`üìä Carregado hist√≥rico: ${q.length} movimenta√ß√µes`)}catch(q){console.error("‚ùå Erro ao carregar hist√≥rico:",q),t(7,v=q instanceof Error?q.message:"Erro desconhecido")}finally{t(6,A=!1)}}}async function qe(q){t(5,h=!0);try{console.log("üíæ Salvando movimenta√ß√£o:",q.detail);const le=await Ze.registerMovement(q.detail);console.log("‚úÖ Movimenta√ß√£o registrada:",le.id),t(1,I=!1),t(3,$=null),await j(),Ye.success("Movimenta√ß√£o registrada",`${q.detail.tipoMovimentacao} de ${q.detail.quantidade} unidades`)}catch(le){console.error("‚ùå Erro ao salvar movimenta√ß√£o:",le),Ye.error("Erro ao salvar","N√£o foi poss√≠vel registrar a movimenta√ß√£o")}finally{t(5,h=!1)}}function Fe(){t(1,I=!1),t(3,$=null),console.log("‚ùå Movimenta√ß√£o cancelada")}function re(){t(2,g=!1),t(4,E=null),t(8,F=[]),t(7,v=null),console.log("‚ùå Modal de hist√≥rico fechado")}async function xe(q){Z=q.detail.period,await ye(),console.log("üìÖ Per√≠odo do hist√≥rico alterado:",Z)}function ze(){t(3,$=null),t(1,I=!0),console.log("‚ûï Nova movimenta√ß√£o")}const He=q=>X(q.detail.value),ne=q=>{q.detail.key==="status"?x(q.detail.value):q.detail.key==="categoria"&&W(q.detail.value)},ue=q=>ie(q.detail.page),Le=q=>ce(q.detail.item),se=q=>he(q.detail.item);return n.$$set=q=>{"initialPageSize"in q&&t(24,p=q.initialPageSize)},n.$$.update=()=>{var q;n.$$.dirty[1]&8&&t(30,a=[{value:"todos",label:"Todos os Status"},...f]),n.$$.dirty[1]&4&&t(29,o=[{value:"todas",label:"Todas as Categorias"},...i]),n.$$.dirty[0]&1&&[...G.map(le=>({value:le.id,label:le.nome}))],n.$$.dirty[0]&402653184&&t(31,r=U!==""||N.status!=="todos"||N.categoria!=="todas"),n.$$.dirty[1]&2&&console.log("üèóÔ∏è CONTAINER: dados do store:",{storeItems:((q=l.items)==null?void 0:q.length)||0,storeLoading:l.loading,storeError:l.error,storeTotal:l.total}),n.$$.dirty[0]&2013265920|n.$$.dirty[1]&3&&t(10,s={items:l.items||[],loading:l.loading,error:l.error,pagination:{currentPage:l.page,totalPages:l.totalPages,pageSize:l.pageSize,total:l.total,hasNext:m.hasNext(),hasPrev:m.hasPrev()},filters:{searchTerm:U,statusFilter:N.status,categoriaFilter:N.categoria,hasActiveFilters:r},filterOptions:{status:a,categorias:o}})},[G,I,g,$,E,h,A,v,F,B,s,m,X,x,W,oe,ie,ce,he,qe,Fe,re,xe,ze,p,u,c,N,U,o,a,r,l,i,f,He,ne,ue,Le,se]}class Oo extends Ge{constructor(e){super(),Qe(this,e,No,Mo,Je,{initialPageSize:24,autoRefresh:25,refreshInterval:26},null,[-1,-1])}get autoRefresh(){return this.$$.ctx[25]}get refreshInterval(){return this.$$.ctx[26]}}function Vo(n){let e,t,a;return t=new Oo({props:{initialPageSize:20,autoRefresh:!1}}),{c(){e=V(),M(t.$$.fragment),this.h()},l(o){Yt("svelte-1bnjr0i",document.head).forEach(d),e=O(o),T(t.$$.fragment,o),this.h()},h(){document.title="Estoque - DataLife EPI"},m(o,r){w(o,e,r),S(t,o,r),a=!0},p:pe,i(o){a||(b(t.$$.fragment,o),a=!0)},o(o){y(t.$$.fragment,o),a=!1},d(o){o&&d(e),D(t,o)}}}function Ro(n){return Mt(async()=>{console.log("üöÄ Inicializando p√°gina de estoque com arquitetura Container/Presenter"),await Vt.initialize(),console.log("‚úÖ P√°gina de estoque pronta com arquitetura modular completa")}),[]}class Xo extends Ge{constructor(e){super(),Qe(this,e,Ro,Vo,Je,{})}}export{Xo as component};
